2025-12-03 11:29:12.781 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-03 11:29:13.254 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-03 11:29:13.270 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-03 11:29:13.273 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-03 11:29:13.275 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-03 11:29:13.282 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-03 11:29:13.991 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-03 11:29:14.004 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-03 11:29:14.012 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-03 11:29:14.241 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-03 11:29:14.653 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-03 11:29:15.552 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 11:29:15.711 -03:00 [INF] Hosting environment: Development
2025-12-03 11:29:16.035 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-03 11:29:16.031 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger - null null
2025-12-03 11:29:16.655 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger - 301 null null 644.3988ms
2025-12-03 11:29:16.689 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-03 11:29:17.024 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 335.003ms
2025-12-03 11:29:17.090 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.css - null null
2025-12-03 11:29:17.095 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui-bundle.js - null null
2025-12-03 11:29:17.135 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 11:29:17.135 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-03 11:29:17.139 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui.css - null null
2025-12-03 11:29:17.163 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 27.8404ms
2025-12-03 11:29:17.172 -03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-12-03 11:29:17.173 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 38.5581ms
2025-12-03 11:29:17.196 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui-standalone-preset.js - null null
2025-12-03 11:29:17.219 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.css - 200 202 text/css 128.5009ms
2025-12-03 11:29:17.230 -03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-03 11:29:17.246 -03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-12-03 11:29:17.247 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-03 11:29:17.254 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui.css - 200 152034 text/css 115.253ms
2025-12-03 11:29:17.257 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui-standalone-preset.js - 200 230293 text/javascript 62.0675ms
2025-12-03 11:29:17.265 -03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-12-03 11:29:17.288 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui-bundle.js - 200 1452753 text/javascript 193.014ms
2025-12-03 11:29:17.391 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 143.9251ms
2025-12-03 11:29:17.791 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-03 11:29:18.002 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 211.2488ms
2025-12-03 11:36:12.622 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/register - null null
2025-12-03 11:36:12.635 -03:00 [INF] CORS policy execution successful.
2025-12-03 11:36:12.705 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/register - 204 null null 83.4072ms
2025-12-03 11:36:12.728 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/register - application/json 105
2025-12-03 11:36:12.750 -03:00 [INF] CORS policy execution successful.
2025-12-03 11:36:12.855 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-12-03 11:36:12.898 -03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.DTOs.UserRegisterDto) on controller Api.Controllers.AuthController (Api).
2025-12-03 11:36:13.368 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-03 11:36:14.328 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "IsActive", "LastLoginAt", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiration", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-03 11:36:14.508 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 11:36:14.530 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-03 11:36:14.547 -03:00 [INF] Executed action Api.Controllers.AuthController.Register (Api) in 1638.9239ms
2025-12-03 11:36:14.550 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-12-03 11:36:14.566 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/register - 200 null application/json; charset=utf-8 1839.1879ms
2025-12-03 11:36:40.708 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2026-01-02&startTime=16:00&endTime=16:30&guests=2 - null null
2025-12-03 11:36:40.799 -03:00 [INF] CORS policy execution successful.
2025-12-03 11:36:40.800 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2026-01-02&startTime=16:00&endTime=16:30&guests=2 - 204 null null 92.6086ms
2025-12-03 11:36:40.813 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2026-01-02&startTime=16:00&endTime=16:30&guests=2 - null null
2025-12-03 11:36:40.831 -03:00 [INF] CORS policy execution successful.
2025-12-03 11:36:40.915 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-03 11:36:40.922 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-03 11:36:41.076 -03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-03 11:36:41.146 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-03 11:36:41.153 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-03 11:36:41.158 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 231.4687ms
2025-12-03 11:36:41.168 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-03 11:36:41.170 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2026-01-02&startTime=16:00&endTime=16:30&guests=2 - 200 null application/json; charset=utf-8 357.6849ms
2025-12-03 11:37:19.110 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-03 11:37:19.157 -03:00 [INF] CORS policy execution successful.
2025-12-03 11:37:19.158 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 47.7437ms
2025-12-03 11:37:19.168 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 97
2025-12-03 11:37:19.188 -03:00 [INF] CORS policy execution successful.
2025-12-03 11:37:19.194 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-03 11:37:19.201 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-03 11:37:19.290 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-03 11:37:19.341 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-03 11:37:19.652 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-03 11:37:19.653 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 445.4448ms
2025-12-03 11:37:19.654 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-03 11:37:19.656 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 400 null text/plain; charset=utf-8 488.0926ms
2025-12-03 11:37:44.715 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-03 11:37:44.764 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-03 11:37:44.785 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-03 11:37:44.790 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 401 null null 73.2821ms
2025-12-03 11:39:30.430 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-03 11:39:30.482 -03:00 [INF] CORS policy execution successful.
2025-12-03 11:39:30.495 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 64.9474ms
2025-12-03 11:39:30.506 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-03 11:39:30.525 -03:00 [INF] CORS policy execution successful.
2025-12-03 11:39:30.526 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-03 11:39:30.533 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-03 11:39:30.555 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-03 11:39:30.898 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 11:39:30.904 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 11:39:30.909 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-03 11:39:30.910 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 369.1838ms
2025-12-03 11:39:30.911 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-03 11:39:30.913 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 406.747ms
2025-12-03 12:17:01.277 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-03 12:17:01.752 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-03 12:17:01.765 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-03 12:17:01.768 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-03 12:17:01.771 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-03 12:17:01.780 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-03 12:17:02.180 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-03 12:17:02.198 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-03 12:17:02.211 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-03 12:17:02.445 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-03 12:17:02.758 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-03 12:17:03.087 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 12:17:03.093 -03:00 [INF] Hosting environment: Development
2025-12-03 12:17:03.095 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-03 12:17:04.204 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-03 12:17:05.094 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 902.8998ms
2025-12-03 12:17:05.187 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-03 12:17:05.389 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-03 12:17:05.426 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 12:17:05.435 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 249.0287ms
2025-12-03 12:17:05.603 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 176.7302ms
2025-12-03 12:17:05.605 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 215.4699ms
2025-12-03 12:17:06.237 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-03 12:17:06.444 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 207.8293ms
2025-12-03 12:21:05.171 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/register - null null
2025-12-03 12:21:05.211 -03:00 [INF] CORS policy execution successful.
2025-12-03 12:21:05.214 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/register - 204 null null 43.5154ms
2025-12-03 12:21:05.218 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/register - application/json 97
2025-12-03 12:21:05.225 -03:00 [INF] CORS policy execution successful.
2025-12-03 12:21:05.331 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-12-03 12:21:05.364 -03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.DTOs.UserRegisterDto) on controller Api.Controllers.AuthController (Api).
2025-12-03 12:21:05.721 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-03 12:21:06.400 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "IsActive", "LastLoginAt", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiration", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-03 12:21:06.498 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 12:21:06.518 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-03 12:21:06.536 -03:00 [INF] Executed action Api.Controllers.AuthController.Register (Api) in 1161.7258ms
2025-12-03 12:21:06.540 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-12-03 12:21:06.555 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/register - 200 null application/json; charset=utf-8 1336.6947ms
2025-12-03 12:22:08.546 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2026-01-22&startTime=21:30&endTime=22:00&guests=2 - null null
2025-12-03 12:22:08.554 -03:00 [INF] CORS policy execution successful.
2025-12-03 12:22:08.556 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2026-01-22&startTime=21:30&endTime=22:00&guests=2 - 204 null null 10.1835ms
2025-12-03 12:22:08.560 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2026-01-22&startTime=21:30&endTime=22:00&guests=2 - null null
2025-12-03 12:22:08.578 -03:00 [INF] CORS policy execution successful.
2025-12-03 12:22:08.675 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-03 12:22:08.686 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-03 12:22:08.844 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-03 12:22:08.906 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-03 12:22:08.916 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-03 12:22:08.920 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 231.6653ms
2025-12-03 12:22:08.922 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-03 12:22:08.923 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2026-01-22&startTime=21:30&endTime=22:00&guests=2 - 200 null application/json; charset=utf-8 362.8107ms
2025-12-03 12:24:15.026 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-03 12:24:15.029 -03:00 [INF] CORS policy execution successful.
2025-12-03 12:24:15.030 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 31.9344ms
2025-12-03 12:24:15.058 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-03 12:24:15.064 -03:00 [INF] CORS policy execution successful.
2025-12-03 12:24:15.070 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-03 12:24:15.078 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-03 12:24:15.103 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-03 12:24:15.425 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 12:24:15.432 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 12:24:15.439 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-03 12:24:15.441 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 359.5209ms
2025-12-03 12:24:15.443 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-03 12:24:15.444 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 412.6217ms
2025-12-03 14:37:35.774 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-03 14:37:36.306 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-03 14:37:36.317 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-03 14:37:36.321 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-03 14:37:36.324 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-03 14:37:36.333 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-03 14:37:36.809 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-03 14:37:36.821 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-03 14:37:36.832 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-03 14:37:37.004 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-03 14:37:37.220 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-03 14:37:37.472 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 14:37:37.474 -03:00 [INF] Hosting environment: Development
2025-12-03 14:37:37.476 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-03 14:37:38.126 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-03 14:37:38.689 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 573.742ms
2025-12-03 14:37:38.777 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-03 14:37:38.792 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 14:37:38.834 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 41.4676ms
2025-12-03 14:37:38.853 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 76.2095ms
2025-12-03 14:37:38.884 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-03 14:37:39.057 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 172.7226ms
2025-12-03 14:37:40.457 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-03 14:37:40.483 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.7416ms
2025-12-03 14:42:01.900 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/register - null null
2025-12-03 14:42:01.940 -03:00 [INF] CORS policy execution successful.
2025-12-03 14:42:01.945 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/register - 204 null null 45.3038ms
2025-12-03 14:42:01.947 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/register - application/json 91
2025-12-03 14:42:01.952 -03:00 [INF] CORS policy execution successful.
2025-12-03 14:42:02.032 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-12-03 14:42:02.060 -03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.DTOs.UserRegisterDto) on controller Api.Controllers.AuthController (Api).
2025-12-03 14:42:02.365 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-03 14:42:03.003 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "IsActive", "LastLoginAt", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiration", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-03 14:42:03.090 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 14:42:03.119 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-03 14:42:03.133 -03:00 [INF] Executed action Api.Controllers.AuthController.Register (Api) in 1064.8048ms
2025-12-03 14:42:03.137 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-12-03 14:42:03.147 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/register - 200 null application/json; charset=utf-8 1200.64ms
2025-12-03 14:42:40.510 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-05&startTime=13:30&endTime=14:00&guests=2 - null null
2025-12-03 14:42:40.521 -03:00 [INF] CORS policy execution successful.
2025-12-03 14:42:40.522 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-05&startTime=13:30&endTime=14:00&guests=2 - 204 null null 12.2914ms
2025-12-03 14:42:40.526 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-05&startTime=13:30&endTime=14:00&guests=2 - null null
2025-12-03 14:42:40.545 -03:00 [INF] CORS policy execution successful.
2025-12-03 14:42:40.649 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-03 14:42:40.656 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-03 14:42:40.808 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-03 14:42:40.879 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-03 14:42:40.887 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-03 14:42:40.893 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 233.2492ms
2025-12-03 14:42:40.898 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-03 14:42:40.900 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-05&startTime=13:30&endTime=14:00&guests=2 - 200 null application/json; charset=utf-8 374.2919ms
2025-12-03 14:44:33.899 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-03 14:44:33.904 -03:00 [INF] CORS policy execution successful.
2025-12-03 14:44:33.907 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 39.5188ms
2025-12-03 14:44:33.910 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-03 14:44:33.920 -03:00 [INF] CORS policy execution successful.
2025-12-03 14:44:33.926 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-03 14:44:33.936 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-03 14:44:33.958 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-03 14:44:34.323 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 14:44:34.331 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 14:44:34.337 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-03 14:44:34.339 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 394.4625ms
2025-12-03 14:44:34.342 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-03 14:44:34.345 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 434.9784ms
2025-12-03 22:11:00.645 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-03 22:11:00.985 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-03 22:11:00.997 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-03 22:11:01.000 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-03 22:11:01.004 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-03 22:11:01.010 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-03 22:11:01.348 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-03 22:11:01.362 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-03 22:11:01.368 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-03 22:11:01.579 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-03 22:11:01.908 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-03 22:11:02.184 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 22:11:02.187 -03:00 [INF] Hosting environment: Development
2025-12-03 22:11:02.188 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-03 22:11:02.953 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-03 22:11:03.578 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 665.2746ms
2025-12-03 22:11:03.637 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-03 22:11:03.653 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-03 22:11:03.674 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 22:11:03.680 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 43.2662ms
2025-12-03 22:11:03.687 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 12.7046ms
2025-12-03 22:11:03.755 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.4524ms
2025-12-03 22:11:03.809 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-03 22:11:03.840 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.9722ms
2025-12-03 22:11:08.160 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-03 22:11:08.168 -03:00 [INF] CORS policy execution successful.
2025-12-03 22:11:08.172 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 11.9486ms
2025-12-03 22:11:08.176 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-03 22:11:08.184 -03:00 [INF] CORS policy execution successful.
2025-12-03 22:11:08.281 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-03 22:11:08.309 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-03 22:11:08.590 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-03 22:11:09.200 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 22:11:09.255 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 22:11:09.273 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-03 22:11:09.283 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 965.7687ms
2025-12-03 22:11:09.284 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-03 22:11:09.291 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 1115.1424ms
2025-12-03 22:41:50.106 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-03 22:41:50.115 -03:00 [INF] CORS policy execution successful.
2025-12-03 22:41:50.122 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 15.416ms
2025-12-03 22:41:50.172 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-03 22:41:50.174 -03:00 [INF] CORS policy execution successful.
2025-12-03 22:41:50.176 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-03 22:41:50.178 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-03 22:41:50.305 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-03 22:41:50.687 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 22:41:50.692 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 22:41:50.697 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-03 22:41:50.698 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 517.902ms
2025-12-03 22:41:50.700 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-03 22:41:50.701 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 529.2735ms
2025-12-03 22:43:42.239 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-03 22:44:03.066 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 20867.4328ms
2025-12-03 23:59:14.987 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-03 23:59:15.368 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-03 23:59:15.379 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-03 23:59:15.382 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-03 23:59:15.384 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-03 23:59:15.390 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-03 23:59:15.649 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-03 23:59:15.662 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-03 23:59:15.668 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-03 23:59:15.854 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-03 23:59:16.118 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-03 23:59:16.194 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 23:59:16.196 -03:00 [INF] Hosting environment: Development
2025-12-03 23:59:16.197 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-03 23:59:17.132 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-03 23:59:17.385 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 261.7133ms
2025-12-03 23:59:17.420 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-03 23:59:17.492 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-03 23:59:17.499 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 23:59:17.503 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 82.8965ms
2025-12-03 23:59:17.510 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 10.9368ms
2025-12-03 23:59:17.552 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.345ms
2025-12-03 23:59:17.602 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-03 23:59:17.625 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/favicon-32x32.png - null null
2025-12-03 23:59:17.631 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.9878ms
2025-12-03 23:59:17.705 -03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-12-03 23:59:17.707 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/favicon-32x32.png - 200 628 image/png 82.5185ms
2025-12-03 23:59:39.340 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-03 23:59:39.346 -03:00 [INF] CORS policy execution successful.
2025-12-03 23:59:39.349 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 8.5422ms
2025-12-03 23:59:39.390 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-03 23:59:39.397 -03:00 [INF] CORS policy execution successful.
2025-12-03 23:59:39.494 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-03 23:59:39.526 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-03 23:59:39.791 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-03 23:59:40.380 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 23:59:40.431 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-03 23:59:40.446 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-03 23:59:40.457 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 923.3182ms
2025-12-03 23:59:40.459 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-03 23:59:40.466 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 1076.6129ms

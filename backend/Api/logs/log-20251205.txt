2025-12-05 16:40:05.428 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-05 16:40:05.788 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-05 16:40:05.799 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-05 16:40:05.803 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-05 16:40:05.808 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-05 16:40:05.814 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-05 16:40:06.388 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-05 16:40:06.398 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-05 16:40:06.403 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-05 16:40:06.572 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-05 16:40:06.818 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-05 16:40:07.016 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-05 16:40:07.017 -03:00 [INF] Hosting environment: Development
2025-12-05 16:40:07.019 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-05 16:40:07.988 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger - null null
2025-12-05 16:40:08.246 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger - 301 null null 270.2295ms
2025-12-05 16:40:08.256 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-05 16:40:08.374 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 118.6686ms
2025-12-05 16:40:08.417 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui.css - null null
2025-12-05 16:40:08.419 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.css - null null
2025-12-05 16:40:08.419 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui-standalone-preset.js - null null
2025-12-05 16:40:08.429 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui-bundle.js - null null
2025-12-05 16:40:08.440 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-05 16:40:08.457 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 16.6786ms
2025-12-05 16:40:08.460 -03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-12-05 16:40:08.467 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.css - 200 202 text/css 48.1907ms
2025-12-05 16:40:08.466 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-05 16:40:08.478 -03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-12-05 16:40:08.478 -03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-05 16:40:08.480 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 14.5395ms
2025-12-05 16:40:08.484 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui-standalone-preset.js - 200 230293 text/javascript 64.5048ms
2025-12-05 16:40:08.485 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui.css - 200 152034 text/css 67.5899ms
2025-12-05 16:40:08.486 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-05 16:40:08.502 -03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-12-05 16:40:08.510 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui-bundle.js - 200 1452753 text/javascript 81.5846ms
2025-12-05 16:40:08.609 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 123.2125ms
2025-12-05 16:40:08.885 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-05 16:40:08.978 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.8316ms
2025-12-05 18:02:33.400 -03:00 [INF] Application is shutting down...
2025-12-05 20:14:44.943 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-05 20:14:45.479 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-05 20:14:45.492 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-05 20:14:45.494 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-05 20:14:45.497 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-05 20:14:45.505 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-05 20:14:45.901 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-05 20:14:45.913 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-05 20:14:45.922 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-05 20:14:46.127 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-05 20:14:46.413 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-05 20:14:46.654 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-05 20:14:46.656 -03:00 [INF] Hosting environment: Development
2025-12-05 20:14:46.657 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-05 20:14:47.467 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger - null null
2025-12-05 20:14:47.801 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger - 301 null null 341.9092ms
2025-12-05 20:14:47.811 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-05 20:14:47.903 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 91.9928ms
2025-12-05 20:14:47.912 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui.css - null null
2025-12-05 20:14:47.912 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.css - null null
2025-12-05 20:14:47.919 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui-bundle.js - null null
2025-12-05 20:14:47.920 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui-standalone-preset.js - null null
2025-12-05 20:14:47.952 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-05 20:14:47.959 -03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-12-05 20:14:47.961 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 9.4517ms
2025-12-05 20:14:47.961 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.css - 200 202 text/css 50.1939ms
2025-12-05 20:14:47.966 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-05 20:14:47.974 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-05 20:14:47.975 -03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-12-05 20:14:47.978 -03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-12-05 20:14:47.979 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 5.3728ms
2025-12-05 20:14:47.980 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui.css - 200 152034 text/css 68.1016ms
2025-12-05 20:14:47.980 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui-standalone-preset.js - 200 230293 text/javascript 60.9454ms
2025-12-05 20:14:47.996 -03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-12-05 20:14:47.998 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/swagger-ui-bundle.js - 200 1452753 text/javascript 79.3229ms
2025-12-05 20:14:48.050 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.9651ms
2025-12-05 20:14:48.275 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-05 20:14:48.329 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 53.6373ms
2025-12-05 20:15:39.029 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-05 20:15:39.071 -03:00 [INF] CORS policy execution failed.
2025-12-05 20:15:39.074 -03:00 [INF] Request origin http://localhost:8080 does not have permission to access the resource.
2025-12-05 20:15:39.076 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 47.2589ms
2025-12-05 20:17:01.611 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-05 20:17:01.952 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-05 20:17:01.966 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-05 20:17:01.970 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-05 20:17:01.973 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-05 20:17:01.981 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-05 20:17:02.257 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-05 20:17:02.265 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-05 20:17:02.270 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-05 20:17:02.403 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-05 20:17:02.581 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-05 20:17:02.790 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-05 20:17:02.793 -03:00 [INF] Hosting environment: Development
2025-12-05 20:17:02.793 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-05 20:17:03.220 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-05 20:17:03.452 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 237.7439ms
2025-12-05 20:17:03.462 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-05 20:17:03.467 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-05 20:17:03.494 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-05 20:17:03.495 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 32.7843ms
2025-12-05 20:17:03.500 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 6.2722ms
2025-12-05 20:17:03.546 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.5428ms
2025-12-05 20:17:03.712 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-05 20:17:03.751 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 38.946ms
2025-12-05 20:17:31.222 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-05 20:17:31.235 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:17:31.239 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 16.6569ms
2025-12-05 20:17:31.242 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-05 20:17:31.248 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:17:31.352 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 20:17:31.387 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 20:17:31.690 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-05 20:17:32.310 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 20:17:32.375 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 20:17:32.404 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 20:17:32.416 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 1019.1821ms
2025-12-05 20:17:32.418 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 20:17:32.426 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 1183.4907ms
2025-12-05 20:17:32.456 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - null null
2025-12-05 20:17:32.456 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 20:17:32.456 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 20:17:32.476 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:17:32.482 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:17:32.486 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - 204 null null 29.8254ms
2025-12-05 20:17:32.485 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:17:32.534 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 78.2152ms
2025-12-05 20:17:32.547 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 20:17:32.541 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 84.365ms
2025-12-05 20:17:32.538 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/my - null null
2025-12-05 20:17:32.552 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:17:32.560 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:17:32.667 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-05 20:17:32.671 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-05 20:17:32.673 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/my - 405 0 null 134.5579ms
2025-12-05 20:17:32.676 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:17:32.689 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 20:17:32.812 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 20:17:32.824 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 20:17:32.830 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 138.9448ms
2025-12-05 20:17:32.833 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 20:17:32.834 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:17:32.838 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:17:32.839 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 291.9681ms
2025-12-05 20:17:32.841 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:17:32.846 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 20:17:32.857 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 20:17:32.860 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 20:17:32.864 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 14.9366ms
2025-12-05 20:17:32.865 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:17:32.868 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 34.8764ms
2025-12-05 20:17:49.613 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 20:17:49.622 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:17:49.625 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 11.6407ms
2025-12-05 20:17:49.631 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 20:17:49.633 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:17:49.637 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:17:49.641 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 20:17:49.678 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 20:17:49.687 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 20:17:49.692 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 46.5214ms
2025-12-05 20:17:49.696 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:17:49.697 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 66.6104ms
2025-12-05 20:17:56.475 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 20:17:56.476 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 20:17:56.480 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:17:56.511 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:17:56.564 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 88.2517ms
2025-12-05 20:17:56.565 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 89.5409ms
2025-12-05 20:17:56.578 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 20:17:56.580 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:17:56.581 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:17:56.582 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 20:17:56.588 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 20:17:56.593 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 20:17:56.595 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 11.2391ms
2025-12-05 20:17:56.597 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:17:56.598 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 19.6755ms
2025-12-05 20:17:56.600 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 20:17:56.602 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:17:56.605 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:17:56.608 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 20:17:56.612 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 20:17:56.615 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 20:17:56.616 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.6042ms
2025-12-05 20:17:56.617 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:17:56.618 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 18.1059ms
2025-12-05 20:18:34.926 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - null null
2025-12-05 20:18:34.934 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:18:34.935 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - 204 null null 9.6467ms
2025-12-05 20:18:34.938 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/my - null null
2025-12-05 20:18:34.947 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:18:34.948 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-05 20:18:34.949 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-05 20:18:34.950 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/my - 405 0 null 12.1495ms
2025-12-05 20:18:58.746 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-05 20:18:58.756 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:18:58.757 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 13.8415ms
2025-12-05 20:18:58.759 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-05 20:18:58.762 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:18:58.763 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 20:18:58.764 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 20:18:58.806 -03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-05 20:18:59.138 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 20:18:59.144 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 20:18:59.147 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 20:18:59.151 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 380.9586ms
2025-12-05 20:18:59.153 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 20:18:59.155 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 395.1267ms
2025-12-05 20:18:59.187 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - null null
2025-12-05 20:18:59.189 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 20:18:59.189 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 20:18:59.264 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:18:59.276 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:18:59.292 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 103.1752ms
2025-12-05 20:18:59.277 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:18:59.278 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - 204 null null 91.5251ms
2025-12-05 20:18:59.295 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 105.6166ms
2025-12-05 20:18:59.297 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 20:18:59.310 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/my - null null
2025-12-05 20:18:59.312 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:18:59.314 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:18:59.320 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:18:59.322 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-05 20:18:59.322 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 20:18:59.324 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-05 20:18:59.328 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/my - 405 0 null 17.7089ms
2025-12-05 20:18:59.328 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 20:18:59.339 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 20:18:59.342 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 14.7702ms
2025-12-05 20:18:59.343 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 20:18:59.343 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:18:59.345 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:18:59.346 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 48.5179ms
2025-12-05 20:18:59.347 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:18:59.354 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 20:18:59.359 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 20:18:59.362 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 20:18:59.363 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 7.7913ms
2025-12-05 20:18:59.368 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:18:59.370 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 26.6655ms
2025-12-05 20:19:09.107 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - null null
2025-12-05 20:19:09.107 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 20:19:09.108 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 20:19:09.118 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:19:09.121 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:19:09.123 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:19:09.124 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - 204 null null 17.2136ms
2025-12-05 20:19:09.125 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 17.0784ms
2025-12-05 20:19:09.125 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 17.7523ms
2025-12-05 20:19:09.138 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 20:19:09.142 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/my - null null
2025-12-05 20:19:09.148 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:19:09.154 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:19:09.156 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:19:09.159 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 20:19:09.157 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-05 20:19:09.169 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-05 20:19:09.168 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 20:19:09.171 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/my - 405 0 null 29.3863ms
2025-12-05 20:19:09.174 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 20:19:09.185 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 21.2025ms
2025-12-05 20:19:09.187 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:19:09.188 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 50.4709ms
2025-12-05 20:19:09.191 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 20:19:09.194 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:19:09.196 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:19:09.200 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 20:19:09.204 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 20:19:09.207 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 20:19:09.209 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 7.3266ms
2025-12-05 20:19:09.211 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:19:09.217 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 25.58ms
2025-12-05 20:19:14.089 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 20:19:14.100 -03:00 [INF] CORS policy execution successful.
2025-12-05 20:19:14.101 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:19:14.103 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 20:19:14.107 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 20:19:14.114 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 20:19:14.116 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 10.6384ms
2025-12-05 20:19:14.119 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 20:19:14.121 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 32.7544ms
2025-12-05 21:04:43.231 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 21:04:43.237 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:04:43.239 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-05 21:04:43.245 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-05 21:04:43.249 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 401 0 null 17.6111ms
2025-12-05 21:04:51.790 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-05 21:04:51.795 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:04:51.796 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 6.0316ms
2025-12-05 21:04:51.801 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-05 21:04:51.803 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:04:51.804 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 21:04:51.805 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:04:51.872 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-05 21:04:52.039 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 21:04:52.046 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 21:04:52.050 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 21:04:52.051 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 243.7203ms
2025-12-05 21:04:52.052 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 21:04:52.053 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 252.0162ms
2025-12-05 21:04:52.084 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/refresh - null null
2025-12-05 21:04:52.086 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/refresh - null null
2025-12-05 21:04:52.086 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - null null
2025-12-05 21:04:52.088 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:04:52.100 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:04:52.151 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/refresh - 204 null null 65.7207ms
2025-12-05 21:04:52.104 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:04:52.142 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/refresh - 204 null null 57.3332ms
2025-12-05 21:04:52.155 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - 204 null null 69.6935ms
2025-12-05 21:04:52.159 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/refresh - application/json 55
2025-12-05 21:04:52.161 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/my - null null
2025-12-05 21:04:52.162 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/refresh - application/json 55
2025-12-05 21:04:52.169 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:04:52.172 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:04:52.175 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:04:52.176 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:04:52.177 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-05 21:04:52.189 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-05 21:04:52.190 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/my - 405 0 null 29.471ms
2025-12-05 21:04:52.177 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:04:52.192 -03:00 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Api.DTOs.RefreshRequestDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:04:52.194 -03:00 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Api.DTOs.RefreshRequestDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:04:52.238 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-12-05 21:04:52.245 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 21:04:52.262 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 21:04:52.267 -03:00 [INF] Executed action Api.Controllers.AuthController.Refresh (Api) in 64.3241ms
2025-12-05 21:04:52.272 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:04:52.273 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/refresh - 200 null application/json; charset=utf-8 111.0439ms
2025-12-05 21:04:52.277 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 21:04:52.283 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:04:52.284 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 6.415ms
2025-12-05 21:04:52.289 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 21:04:52.291 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:04:52.293 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 21:04:52.294 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 21:04:52.301 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 21:04:52.306 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-12-05 21:04:52.306 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 21:04:52.550 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 251.8747ms
2025-12-05 21:04:52.603 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-05 21:04:52.603 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 21:04:52.607 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 318.1343ms
2025-12-05 21:04:52.608 -03:00 [INF] Executed action Api.Controllers.AuthController.Refresh (Api) in 408.1689ms
2025-12-05 21:04:52.611 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:04:52.613 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/refresh - 401 null application/json; charset=utf-8 454.9457ms
2025-12-05 21:04:52.617 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/refresh - application/json 55
2025-12-05 21:04:52.620 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:04:52.621 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:04:52.622 -03:00 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Api.DTOs.RefreshRequestDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:04:52.625 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-12-05 21:04:52.629 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 21:04:52.632 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 21:04:52.634 -03:00 [INF] Executed action Api.Controllers.AuthController.Refresh (Api) in 10.856ms
2025-12-05 21:04:52.637 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:04:52.638 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/refresh - 200 null application/json; charset=utf-8 20.7957ms
2025-12-05 21:04:52.644 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/refresh - application/json 55
2025-12-05 21:04:52.646 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:04:52.647 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:04:52.648 -03:00 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Api.DTOs.RefreshRequestDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:04:52.652 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-12-05 21:04:52.724 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-05 21:04:52.726 -03:00 [INF] Executed action Api.Controllers.AuthController.Refresh (Api) in 75.8812ms
2025-12-05 21:04:52.728 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:04:52.730 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/refresh - 401 null application/json; charset=utf-8 85.6316ms
2025-12-05 21:08:40.955 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 21:08:40.961 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:08:40.961 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 8.3269ms
2025-12-05 21:08:40.964 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 21:08:40.967 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:08:40.969 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 21:08:40.971 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 21:08:40.977 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 21:08:40.981 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 21:08:40.982 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.1733ms
2025-12-05 21:08:40.984 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 21:08:40.987 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 22.5646ms
2025-12-05 21:10:45.999 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 21:10:46.007 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:10:46.009 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-05 21:10:46.011 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-05 21:10:46.012 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 401 0 null 13.8023ms
2025-12-05 21:11:24.960 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 21:11:24.972 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:11:24.974 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-05 21:11:24.975 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-05 21:11:24.977 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 401 0 null 16.8083ms
2025-12-05 21:11:48.719 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 21:11:48.726 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:11:48.727 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-05 21:11:48.728 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-05 21:11:48.730 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 401 0 null 13.6507ms
2025-12-05 21:11:57.574 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-05 21:11:57.577 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:11:57.578 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 4.1275ms
2025-12-05 21:11:57.581 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-05 21:11:57.583 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:11:57.584 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 21:11:57.585 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:11:57.743 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-05 21:11:57.913 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 21:11:57.920 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 21:11:57.929 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 21:11:57.931 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 343.7894ms
2025-12-05 21:11:57.939 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 21:11:57.941 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 359.8634ms
2025-12-05 21:11:57.971 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/refresh - null null
2025-12-05 21:11:57.976 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:11:58.011 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - null null
2025-12-05 21:11:57.973 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/refresh - null null
2025-12-05 21:11:58.026 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:11:58.023 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:11:58.032 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - 204 null null 21.4526ms
2025-12-05 21:11:58.031 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/refresh - 204 null null 58.1115ms
2025-12-05 21:11:58.020 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/refresh - 204 null null 48.2315ms
2025-12-05 21:11:58.047 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/refresh - application/json 55
2025-12-05 21:11:58.048 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/refresh - application/json 55
2025-12-05 21:11:58.051 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:11:58.058 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:11:58.058 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/my - null null
2025-12-05 21:11:58.059 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:11:58.061 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:11:58.063 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:11:58.064 -03:00 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Api.DTOs.RefreshRequestDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:11:58.065 -03:00 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Api.DTOs.RefreshRequestDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:11:58.066 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-05 21:11:58.074 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-12-05 21:11:58.077 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-05 21:11:58.080 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/my - 405 0 null 22.3346ms
2025-12-05 21:11:58.081 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 21:11:58.090 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 21:11:58.092 -03:00 [INF] Executed action Api.Controllers.AuthController.Refresh (Api) in 20.736ms
2025-12-05 21:11:58.095 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:11:58.096 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/refresh - 200 null application/json; charset=utf-8 48.7199ms
2025-12-05 21:11:58.115 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 21:11:58.173 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:11:58.175 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 60.7753ms
2025-12-05 21:11:58.180 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 21:11:58.182 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:11:58.182 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 21:11:58.192 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 21:11:58.196 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 21:11:58.198 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-12-05 21:11:58.199 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 21:11:58.330 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-05 21:11:58.330 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 135.0681ms
2025-12-05 21:11:58.332 -03:00 [INF] Executed action Api.Controllers.AuthController.Refresh (Api) in 257.3654ms
2025-12-05 21:11:58.334 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:11:58.336 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/refresh - 401 null application/json; charset=utf-8 288.4291ms
2025-12-05 21:11:58.333 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 21:11:58.342 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 162.8264ms
2025-12-05 21:11:58.346 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/refresh - application/json 55
2025-12-05 21:11:58.361 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:11:58.363 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:11:58.364 -03:00 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Api.DTOs.RefreshRequestDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:11:58.371 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-12-05 21:11:58.378 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 21:11:58.381 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 21:11:58.382 -03:00 [INF] Executed action Api.Controllers.AuthController.Refresh (Api) in 15.5233ms
2025-12-05 21:11:58.383 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:11:58.386 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/refresh - 200 null application/json; charset=utf-8 39.2627ms
2025-12-05 21:11:58.394 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/refresh - application/json 55
2025-12-05 21:11:58.396 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:11:58.397 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:11:58.398 -03:00 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Api.DTOs.RefreshRequestDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:11:58.404 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-12-05 21:11:58.495 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-05 21:11:58.496 -03:00 [INF] Executed action Api.Controllers.AuthController.Refresh (Api) in 96.3204ms
2025-12-05 21:11:58.497 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:11:58.498 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/refresh - 401 null application/json; charset=utf-8 104.236ms
2025-12-05 21:17:01.403 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-05 21:17:01.407 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:17:01.408 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 4.5219ms
2025-12-05 21:17:01.411 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-05 21:17:01.414 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:17:01.416 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 21:17:01.417 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:17:01.577 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-05 21:17:01.754 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 21:17:01.759 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 21:17:01.762 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 21:17:01.763 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 344.0534ms
2025-12-05 21:17:01.764 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 21:17:01.765 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 354.3805ms
2025-12-05 21:17:01.792 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/refresh - null null
2025-12-05 21:17:01.794 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:17:01.795 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/refresh - 204 null null 3.4266ms
2025-12-05 21:17:01.815 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/refresh - null null
2025-12-05 21:17:01.815 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/refresh - application/json 55
2025-12-05 21:17:01.820 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - null null
2025-12-05 21:17:01.826 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:17:01.824 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:17:01.822 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:17:01.841 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/refresh - 204 null null 26.8137ms
2025-12-05 21:17:01.841 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:17:01.845 -03:00 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Api.DTOs.RefreshRequestDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:17:01.830 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - 204 null null 9.4849ms
2025-12-05 21:17:01.857 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/my - null null
2025-12-05 21:17:01.851 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-12-05 21:17:01.845 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/refresh - application/json 55
2025-12-05 21:17:01.859 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:17:01.870 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 21:17:01.871 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:17:01.873 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-05 21:17:01.876 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 21:17:01.877 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:17:01.880 -03:00 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Api.DTOs.RefreshRequestDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:17:01.879 -03:00 [INF] Executed action Api.Controllers.AuthController.Refresh (Api) in 29.9039ms
2025-12-05 21:17:01.877 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-05 21:17:01.889 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:17:01.891 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-12-05 21:17:01.891 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/my - 405 0 null 34.1505ms
2025-12-05 21:17:01.892 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/refresh - 200 null application/json; charset=utf-8 77.395ms
2025-12-05 21:17:02.022 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-05 21:17:02.027 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 21:17:02.028 -03:00 [INF] Executed action Api.Controllers.AuthController.Refresh (Api) in 141.8122ms
2025-12-05 21:17:02.034 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:17:02.037 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/refresh - 401 null application/json; charset=utf-8 192.4844ms
2025-12-05 21:17:02.033 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:17:02.041 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 14.066ms
2025-12-05 21:17:02.041 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/refresh - application/json 55
2025-12-05 21:17:02.044 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 21:17:02.046 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:17:02.050 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:17:02.051 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:17:02.054 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 21:17:02.054 -03:00 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Api.DTOs.RefreshRequestDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:17:02.055 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 21:17:02.058 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-12-05 21:17:02.062 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 21:17:02.079 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 21:17:02.087 -03:00 [INF] Executed action Api.Controllers.AuthController.Refresh (Api) in 30.0626ms
2025-12-05 21:17:02.091 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:17:02.092 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/refresh - 200 null application/json; charset=utf-8 51.2055ms
2025-12-05 21:17:02.144 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 21:17:02.149 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/refresh - application/json 55
2025-12-05 21:17:02.152 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 21:17:02.155 -03:00 [INF] CORS policy execution successful.
2025-12-05 21:17:02.156 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 97.4394ms
2025-12-05 21:17:02.157 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:17:02.158 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 21:17:02.159 -03:00 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Api.DTOs.RefreshRequestDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 21:17:02.160 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 116.3289ms
2025-12-05 21:17:02.166 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-12-05 21:17:02.267 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-05 21:17:02.270 -03:00 [INF] Executed action Api.Controllers.AuthController.Refresh (Api) in 107.2539ms
2025-12-05 21:17:02.271 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-05 21:17:02.272 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/refresh - 401 null application/json; charset=utf-8 123.2672ms
2025-12-05 23:38:13.893 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-05 23:38:14.323 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-05 23:38:14.335 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-05 23:38:14.338 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-05 23:38:14.340 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-05 23:38:14.346 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-05 23:38:14.699 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-05 23:38:14.710 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-05 23:38:14.719 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-05 23:38:14.893 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-05 23:38:15.163 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-05 23:38:15.913 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-05 23:38:15.958 -03:00 [INF] Hosting environment: Development
2025-12-05 23:38:15.967 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-05 23:38:16.190 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-05 23:38:16.637 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 461.7856ms
2025-12-05 23:38:16.757 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-05 23:38:16.947 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-05 23:38:16.969 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 22.8786ms
2025-12-05 23:38:16.970 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-05 23:38:16.980 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 9.6788ms
2025-12-05 23:38:17.023 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 265.6612ms
2025-12-05 23:38:17.115 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-05 23:38:17.146 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 31.0679ms
2025-12-05 23:38:44.410 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 23:38:44.423 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:38:44.434 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 24.7852ms
2025-12-05 23:38:44.439 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 23:38:44.461 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:38:44.749 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:38:44.787 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 23:38:45.093 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 23:38:45.239 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 23:38:45.255 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 449.4956ms
2025-12-05 23:38:45.262 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:38:45.277 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 837.5285ms
2025-12-05 23:40:07.183 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 23:40:07.189 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:40:07.190 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 6.6031ms
2025-12-05 23:40:07.252 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 23:40:07.255 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:40:07.258 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:40:07.261 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 23:40:07.358 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 23:40:07.366 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 23:40:07.370 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 97.1614ms
2025-12-05 23:40:07.373 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:40:07.375 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 122.6541ms
2025-12-05 23:40:23.744 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-05 23:40:23.750 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:40:23.753 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 9.3799ms
2025-12-05 23:40:23.763 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-05 23:40:23.773 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:40:23.781 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 23:40:23.802 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 23:40:23.876 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-05 23:40:24.397 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 23:40:24.424 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 23:40:24.433 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 23:40:24.436 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 620.8737ms
2025-12-05 23:40:24.439 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 23:40:24.443 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 679.0974ms
2025-12-05 23:40:24.513 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 23:40:24.513 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 23:40:24.536 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - null null
2025-12-05 23:40:24.538 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:40:24.542 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:40:24.549 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:40:24.551 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 37.7622ms
2025-12-05 23:40:24.553 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 39.8405ms
2025-12-05 23:40:24.568 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/my - null null
2025-12-05 23:40:24.573 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:40:24.554 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/my - 204 null null 18.0326ms
2025-12-05 23:40:24.582 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-05 23:40:24.586 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 23:40:24.590 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-05 23:40:24.597 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:40:24.599 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/my - 405 0 null 30.437ms
2025-12-05 23:40:24.611 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:40:24.647 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 23:40:24.653 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 23:40:24.672 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 23:40:24.676 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 26.7104ms
2025-12-05 23:40:24.678 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:40:24.680 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 93.3439ms
2025-12-05 23:40:24.683 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 23:40:24.695 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:40:24.697 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:40:24.698 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 23:40:24.711 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 23:40:24.720 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 23:40:24.729 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 21.2538ms
2025-12-05 23:40:24.731 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:40:24.735 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 52.0214ms
2025-12-05 23:47:23.356 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-05 23:47:23.840 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-05 23:47:23.854 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-05 23:47:23.856 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-05 23:47:23.859 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-05 23:47:23.867 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-05 23:47:24.160 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-05 23:47:24.170 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-05 23:47:24.176 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-05 23:47:24.328 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-05 23:47:24.514 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-05 23:47:24.597 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-05 23:47:24.600 -03:00 [INF] Hosting environment: Development
2025-12-05 23:47:24.603 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-05 23:47:24.915 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-05 23:47:25.173 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 269.9541ms
2025-12-05 23:47:25.188 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-05 23:47:25.224 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-05 23:47:25.240 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-05 23:47:25.245 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 56.8251ms
2025-12-05 23:47:25.255 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 15.6578ms
2025-12-05 23:47:25.309 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.6461ms
2025-12-05 23:47:25.358 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-05 23:47:25.402 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.2672ms
2025-12-05 23:47:42.480 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 23:47:42.487 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:47:42.494 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 14.4111ms
2025-12-05 23:47:42.505 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 23:47:42.554 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:47:42.785 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:47:42.805 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 23:47:43.115 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 23:47:43.228 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 23:47:43.241 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 420.8658ms
2025-12-05 23:47:43.244 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:47:43.256 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 750.5329ms
2025-12-05 23:47:51.861 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-05 23:47:51.866 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:47:51.867 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 7.5265ms
2025-12-05 23:47:51.872 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-05 23:47:51.875 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:47:51.877 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 23:47:51.894 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 23:47:52.016 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-05 23:47:52.560 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 23:47:52.607 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 23:47:52.613 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 23:47:52.617 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 716.602ms
2025-12-05 23:47:52.619 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 23:47:52.623 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 750.843ms
2025-12-05 23:47:52.681 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-05 23:47:52.782 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 23:47:52.829 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 23:47:52.832 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:47:52.835 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:47:52.845 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:47:52.847 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 165.243ms
2025-12-05 23:47:52.848 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 66.084ms
2025-12-05 23:47:52.849 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 20.4326ms
2025-12-05 23:47:52.859 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-05 23:47:52.860 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 23:47:52.866 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:47:52.874 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:47:52.881 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-05 23:47:52.881 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:47:52.884 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 23:47:52.889 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-05 23:47:52.898 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 23:47:52.964 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 23:47:52.966 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 76.7549ms
2025-12-05 23:47:52.967 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:47:52.970 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 109.9986ms
2025-12-05 23:47:52.982 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 23:47:53.049 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:47:53.051 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:47:53.054 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 23:47:53.067 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 23:47:53.081 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 23:47:53.082 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 17.0039ms
2025-12-05 23:47:53.089 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:47:53.092 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 109.2189ms
2025-12-05 23:47:53.145 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-05 23:47:53.178 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-05 23:47:53.191 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 297.5937ms
2025-12-05 23:47:53.194 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-05 23:47:53.196 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 336.0459ms
2025-12-05 23:48:18.384 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-05 23:48:18.394 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:18.396 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 12.1105ms
2025-12-05 23:48:18.409 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-05 23:48:18.414 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:18.416 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 23:48:18.418 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 23:48:18.437 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-05 23:48:18.732 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 23:48:18.739 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 23:48:18.742 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 23:48:18.743 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 321.4985ms
2025-12-05 23:48:18.746 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 23:48:18.748 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 339.5799ms
2025-12-05 23:48:18.853 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-05 23:48:18.880 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 23:48:18.898 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 23:48:18.906 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:18.910 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:18.914 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:18.915 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 35.1501ms
2025-12-05 23:48:18.918 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 20.2968ms
2025-12-05 23:48:18.933 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-05 23:48:18.929 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 75.6266ms
2025-12-05 23:48:18.948 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:18.951 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 23:48:18.955 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-05 23:48:18.957 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:18.958 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-05 23:48:18.961 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:48:18.968 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 23:48:18.970 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-05 23:48:18.974 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-05 23:48:18.975 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 9.2533ms
2025-12-05 23:48:18.976 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-05 23:48:18.982 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 53.3081ms
2025-12-05 23:48:19.068 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 23:48:19.071 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 23:48:19.072 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 101.0058ms
2025-12-05 23:48:19.073 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 23:48:19.073 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:48:19.075 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:19.076 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 124.866ms
2025-12-05 23:48:19.079 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:48:19.082 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 23:48:19.086 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 23:48:19.092 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 23:48:19.096 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 11.7613ms
2025-12-05 23:48:19.098 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:48:19.099 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 26.1676ms
2025-12-05 23:48:28.146 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 23:48:28.162 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:28.183 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 37.9976ms
2025-12-05 23:48:28.189 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 23:48:28.193 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:28.196 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:48:28.198 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 23:48:28.206 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 23:48:28.216 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 23:48:28.218 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 13.8884ms
2025-12-05 23:48:28.221 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:48:28.223 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 33.9155ms
2025-12-05 23:48:39.807 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-05 23:48:39.812 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:39.813 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 6.183ms
2025-12-05 23:48:39.818 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-05 23:48:39.828 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:39.860 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 23:48:39.861 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-05 23:48:39.883 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-05 23:48:40.080 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 23:48:40.097 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-05 23:48:40.101 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-05 23:48:40.102 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 221.5678ms
2025-12-05 23:48:40.109 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-05 23:48:40.112 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 293.5607ms
2025-12-05 23:48:40.209 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 23:48:40.227 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-05 23:48:40.250 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-05 23:48:40.253 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:40.255 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:40.261 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 34.182ms
2025-12-05 23:48:40.259 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 49.9794ms
2025-12-05 23:48:40.258 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:40.270 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 20.0001ms
2025-12-05 23:48:40.283 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 23:48:40.283 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-05 23:48:40.312 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:40.312 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:40.313 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-05 23:48:40.314 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:48:40.315 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-05 23:48:40.316 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 23:48:40.353 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 23:48:40.360 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 23:48:40.362 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 10.3632ms
2025-12-05 23:48:40.363 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:48:40.364 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-05 23:48:40.364 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 80.8355ms
2025-12-05 23:48:40.375 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-05 23:48:40.376 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-05 23:48:40.378 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 29.3039ms
2025-12-05 23:48:40.384 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-05 23:48:40.385 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 101.4077ms
2025-12-05 23:48:40.380 -03:00 [INF] CORS policy execution successful.
2025-12-05 23:48:40.391 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:48:40.392 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-05 23:48:40.400 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-05 23:48:40.410 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-05 23:48:40.412 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 13.586ms
2025-12-05 23:48:40.413 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-05 23:48:40.416 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 39.4914ms

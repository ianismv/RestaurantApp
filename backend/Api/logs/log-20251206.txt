2025-12-06 00:08:50.217 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-06 00:08:50.232 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:08:50.234 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 16.334ms
2025-12-06 00:08:50.239 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-06 00:08:50.247 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:08:50.248 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 00:08:50.252 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-06 00:08:50.428 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-06 00:08:50.642 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 00:08:50.650 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 00:08:50.655 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-06 00:08:50.662 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 401.026ms
2025-12-06 00:08:50.667 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 00:08:50.670 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 431.0807ms
2025-12-06 00:08:50.781 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:08:50.931 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:08:50.936 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:08:50.938 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:08:50.947 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:08:50.949 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:08:50.951 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 170.1365ms
2025-12-06 00:08:50.957 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:08:50.963 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:08:50.965 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:08:50.967 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:08:50.952 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 58.5745ms
2025-12-06 00:08:50.953 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 16.6139ms
2025-12-06 00:08:50.987 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:08:51.002 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:08:51.018 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:08:51.027 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 42.99ms
2025-12-06 00:08:51.020 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:08:51.028 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:08:51.030 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:08:51.034 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:08:51.043 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:08:51.040 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:08:51.035 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 77.6889ms
2025-12-06 00:08:51.048 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:08:51.063 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:08:51.065 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:08:51.079 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:08:51.101 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:08:51.104 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 58.0953ms
2025-12-06 00:08:51.119 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:08:51.116 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:08:51.121 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 118.9136ms
2025-12-06 00:08:51.124 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 28.1939ms
2025-12-06 00:08:51.130 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:08:51.138 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 107.1579ms
2025-12-06 00:09:03.697 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:09:03.709 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:09:03.715 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 17.4126ms
2025-12-06 00:09:03.759 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:09:03.763 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:09:03.765 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:09:03.775 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:09:03.780 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:09:03.792 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:09:03.801 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 22.0051ms
2025-12-06 00:09:03.812 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:09:03.816 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 57.0173ms
2025-12-06 00:09:11.093 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:09:11.147 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:09:11.153 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 59.7615ms
2025-12-06 00:09:11.170 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:09:11.187 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:09:11.192 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:09:11.194 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:09:11.217 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:09:11.229 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:09:11.231 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 19.1436ms
2025-12-06 00:09:11.236 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:09:11.244 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 74.4197ms
2025-12-06 00:09:15.578 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:09:15.594 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:09:15.599 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:09:15.602 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:09:15.614 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:09:15.626 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:09:15.635 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 23.2416ms
2025-12-06 00:09:15.638 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:09:15.646 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 68.4767ms
2025-12-06 00:39:17.607 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:39:17.610 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:17.612 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 4.4899ms
2025-12-06 00:39:17.617 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:39:17.620 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:17.622 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:39:17.623 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:39:17.673 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:39:17.677 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:39:17.678 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 52.4998ms
2025-12-06 00:39:17.680 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:39:17.681 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 63.8049ms
2025-12-06 00:39:32.134 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:39:32.134 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:39:32.232 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:32.228 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:32.238 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 103.6988ms
2025-12-06 00:39:32.257 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 122.4719ms
2025-12-06 00:39:32.318 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:39:32.353 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:39:32.355 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:32.357 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:32.359 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:39:32.366 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:39:32.370 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:39:32.371 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:39:32.378 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:39:32.389 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:39:32.390 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 15.1614ms
2025-12-06 00:39:32.391 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:39:32.394 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 76.5102ms
2025-12-06 00:39:32.509 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:39:32.542 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:39:32.552 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 166.9854ms
2025-12-06 00:39:32.553 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:39:32.555 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 202.6388ms
2025-12-06 00:39:48.356 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-06 00:39:48.362 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:48.363 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 7.4983ms
2025-12-06 00:39:48.377 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-06 00:39:48.379 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:48.405 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 00:39:48.409 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-06 00:39:48.429 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-06 00:39:48.606 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 00:39:48.615 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 00:39:48.622 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-06 00:39:48.626 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 199.2922ms
2025-12-06 00:39:48.629 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 00:39:48.632 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 255.1326ms
2025-12-06 00:39:48.685 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:39:48.693 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:39:48.696 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:48.702 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:48.718 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 25.1252ms
2025-12-06 00:39:48.704 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 19.0055ms
2025-12-06 00:39:48.733 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:39:48.734 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:39:48.739 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:48.747 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:48.750 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:39:48.752 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:39:48.758 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:39:48.754 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:39:48.776 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:39:48.784 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:39:48.794 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:39:48.801 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:39:48.802 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 28.9672ms
2025-12-06 00:39:48.804 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 22.6533ms
2025-12-06 00:39:48.809 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:39:48.810 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:39:48.814 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 80.3804ms
2025-12-06 00:39:48.812 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 78.608ms
2025-12-06 00:39:56.559 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:39:56.560 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:39:56.566 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:56.570 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:56.573 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 13.6114ms
2025-12-06 00:39:56.572 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 12.7037ms
2025-12-06 00:39:56.587 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:39:56.594 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:56.577 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:39:56.606 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:39:56.597 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:39:56.611 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:39:56.615 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:39:56.613 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:39:56.622 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:39:56.634 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:39:56.646 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:39:56.661 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:39:56.663 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 43.7757ms
2025-12-06 00:39:56.669 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:39:56.666 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 42.2968ms
2025-12-06 00:39:56.676 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:39:56.678 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 91.8253ms
2025-12-06 00:39:56.674 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 97.1511ms
2025-12-06 00:40:00.081 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:40:00.081 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:40:00.086 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:40:00.089 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:40:00.092 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:40:00.091 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:40:00.094 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:40:00.093 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:40:00.112 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:40:00.116 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:40:00.124 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:40:00.132 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:40:00.143 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 35.7383ms
2025-12-06 00:40:00.147 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 36.4992ms
2025-12-06 00:40:00.158 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:40:00.149 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:40:00.160 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 78.5793ms
2025-12-06 00:40:00.165 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 84.4206ms
2025-12-06 00:40:02.610 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:40:02.611 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:40:02.622 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:40:02.623 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 12.7834ms
2025-12-06 00:40:02.621 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:40:02.629 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 18.4341ms
2025-12-06 00:40:02.648 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:40:02.654 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:40:02.660 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:40:02.665 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:40:02.673 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:40:02.676 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:40:02.686 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:40:02.681 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:40:02.706 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:40:02.714 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:40:02.723 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:40:02.738 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:40:02.742 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 38.2975ms
2025-12-06 00:40:02.747 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 35.0494ms
2025-12-06 00:40:02.749 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:40:02.753 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:40:02.758 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 110.4324ms
2025-12-06 00:40:02.756 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 101.8747ms
2025-12-06 00:40:10.305 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:40:10.313 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:40:10.322 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 17.9199ms
2025-12-06 00:40:10.335 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:40:10.348 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:40:10.364 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:40:10.370 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:40:10.387 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:40:10.429 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:40:10.443 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 60.3084ms
2025-12-06 00:40:10.457 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:40:10.463 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 128.0199ms
2025-12-06 00:40:24.607 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:40:24.646 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:40:24.656 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:40:24.658 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 11.8001ms
2025-12-06 00:40:24.654 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:40:24.665 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 57.0384ms
2025-12-06 00:40:24.670 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:40:24.681 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:40:24.683 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:40:24.685 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:40:24.691 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:40:24.704 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:40:24.705 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:40:24.715 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:40:24.705 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 15.2748ms
2025-12-06 00:40:24.718 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:40:24.717 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:40:24.721 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:40:24.719 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 49.2883ms
2025-12-06 00:40:24.743 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:40:24.831 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:40:24.844 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 108.0608ms
2025-12-06 00:40:24.854 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:40:24.856 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 150.7784ms
2025-12-06 00:54:10.806 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:54:10.808 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:54:10.810 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 4.4265ms
2025-12-06 00:54:10.815 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:54:10.817 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:54:10.819 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:54:10.822 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:54:10.879 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:54:10.883 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:54:10.884 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 57.181ms
2025-12-06 00:54:10.886 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:54:10.887 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 72.679ms
2025-12-06 00:54:12.590 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:54:12.601 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:54:12.604 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:54:12.607 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:54:12.608 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 18.4825ms
2025-12-06 00:54:12.619 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:54:12.632 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:54:12.624 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:54:12.647 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:54:12.641 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:54:12.653 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:54:12.663 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:54:12.657 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:54:12.688 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 48.0106ms
2025-12-06 00:54:12.689 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:54:12.694 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 92.7495ms
2025-12-06 00:54:12.692 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:54:12.719 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:54:12.721 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 34.9552ms
2025-12-06 00:54:12.724 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:54:12.726 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 101.5494ms
2025-12-06 00:54:19.028 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:54:19.032 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:54:19.034 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 6.3907ms
2025-12-06 00:54:19.041 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:54:19.046 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:54:19.049 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:54:19.058 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:54:19.076 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:54:19.086 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:54:19.089 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 15.775ms
2025-12-06 00:54:19.093 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:54:19.101 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 60.3718ms
2025-12-06 00:54:22.016 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:54:22.031 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:54:22.033 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:54:22.037 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:54:22.053 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:54:22.084 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:54:22.089 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 37.9477ms
2025-12-06 00:54:22.098 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:54:22.103 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 86.9644ms
2025-12-06 00:54:24.944 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:54:24.949 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:54:24.951 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 7.4998ms
2025-12-06 00:54:24.965 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:54:24.973 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:54:24.983 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:54:24.985 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:54:25.001 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:54:25.015 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:54:25.019 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 19.2246ms
2025-12-06 00:54:25.020 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:54:25.032 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 66.548ms
2025-12-06 00:54:27.505 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:54:27.514 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:54:27.516 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:54:27.518 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:54:27.534 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:54:27.551 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:54:27.555 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 22.9522ms
2025-12-06 00:54:27.564 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:54:27.566 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 60.7796ms
2025-12-06 00:55:32.693 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-06 00:55:32.701 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:32.702 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 8.8898ms
2025-12-06 00:55:32.712 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-06 00:55:32.716 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:32.717 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 00:55:32.718 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-06 00:55:32.723 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-06 00:55:32.890 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 00:55:32.896 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 00:55:32.904 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-06 00:55:32.905 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 184.5193ms
2025-12-06 00:55:32.907 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 00:55:32.908 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 195.8597ms
2025-12-06 00:55:32.942 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:55:32.943 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:55:32.945 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:32.952 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 9.5121ms
2025-12-06 00:55:32.950 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:32.956 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 13.1261ms
2025-12-06 00:55:32.958 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:55:32.960 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:55:32.967 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:32.969 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:32.971 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:55:32.973 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:55:32.972 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:55:32.991 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:55:32.995 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:55:33.007 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:55:33.014 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 29.3663ms
2025-12-06 00:55:33.018 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:55:33.013 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:55:33.020 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 61.516ms
2025-12-06 00:55:33.029 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:55:33.042 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 31.6176ms
2025-12-06 00:55:33.044 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:55:33.046 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 86.2407ms
2025-12-06 00:55:40.202 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:55:40.223 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:40.225 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 22.8115ms
2025-12-06 00:55:40.243 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:55:40.256 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:40.259 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:55:40.264 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:55:40.286 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:55:40.305 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:55:40.309 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 31.1427ms
2025-12-06 00:55:40.313 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:55:40.322 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 78.8156ms
2025-12-06 00:55:43.361 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:55:43.368 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:43.370 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:55:43.376 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:55:43.391 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:55:43.412 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:55:43.422 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 34.9326ms
2025-12-06 00:55:43.427 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:55:43.433 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 72.1953ms
2025-12-06 00:55:46.554 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:55:46.555 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:55:46.572 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:46.566 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:46.574 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 18.5746ms
2025-12-06 00:55:46.581 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 26.7609ms
2025-12-06 00:55:46.598 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:55:46.590 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:55:46.602 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:46.615 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:46.618 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:55:46.621 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:55:46.629 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:55:46.625 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:55:46.643 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:55:46.658 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:55:46.667 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 27.9369ms
2025-12-06 00:55:46.669 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:55:46.672 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 82.8835ms
2025-12-06 00:55:46.738 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:55:46.741 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:55:46.742 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 92.616ms
2025-12-06 00:55:46.745 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:55:46.747 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 148.6201ms
2025-12-06 00:55:48.616 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:55:48.621 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:48.624 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:55:48.632 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:55:48.656 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:55:48.674 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:55:48.685 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 30.3703ms
2025-12-06 00:55:48.689 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:55:48.690 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 74.1958ms
2025-12-06 00:55:50.817 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:55:50.822 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:55:50.824 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:55:50.831 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:55:50.858 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:55:50.874 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:55:50.887 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 36.2075ms
2025-12-06 00:55:50.890 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:55:50.895 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 77.7725ms
2025-12-06 00:56:36.883 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/register - null null
2025-12-06 00:56:36.889 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:56:36.891 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/register - 204 null null 43.9085ms
2025-12-06 00:56:36.895 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/register - application/json 64
2025-12-06 00:56:36.900 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:56:36.901 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-12-06 00:56:36.908 -03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.DTOs.UserRegisterDto) on controller Api.Controllers.AuthController (Api).
2025-12-06 00:56:36.918 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-06 00:56:37.128 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "IsActive", "LastLoginAt", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiration", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-06 00:56:37.150 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 00:56:37.156 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-06 00:56:37.158 -03:00 [INF] Executed action Api.Controllers.AuthController.Register (Api) in 245.78ms
2025-12-06 00:56:37.160 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-12-06 00:56:37.161 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/register - 200 null application/json; charset=utf-8 265.9769ms
2025-12-06 00:56:37.190 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:56:37.198 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:56:37.200 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 10.6382ms
2025-12-06 00:56:37.193 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:56:37.215 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:56:37.219 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:56:37.225 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 31.8496ms
2025-12-06 00:56:37.223 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:56:37.237 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:56:37.238 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:56:37.250 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:56:37.252 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:56:37.256 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:56:37.266 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:56:37.270 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:56:37.286 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:56:37.294 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 30.3379ms
2025-12-06 00:56:37.296 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:56:37.292 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:56:37.298 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 83.6811ms
2025-12-06 00:56:37.310 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:56:37.320 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 29.6662ms
2025-12-06 00:56:37.323 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:56:37.324 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 87.1222ms
2025-12-06 00:56:43.939 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:56:43.946 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:56:43.947 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 8.185ms
2025-12-06 00:56:43.952 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:56:43.961 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:56:43.967 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:56:43.972 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:56:43.989 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:56:44.010 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:56:44.018 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 33.1387ms
2025-12-06 00:56:44.021 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:56:44.022 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 70.0702ms
2025-12-06 00:58:26.607 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-06 00:58:26.615 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:58:26.617 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 10.1913ms
2025-12-06 00:58:26.623 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-06 00:58:26.627 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:58:26.628 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 00:58:26.631 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-06 00:58:26.647 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-06 00:58:26.828 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 00:58:26.835 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 00:58:26.839 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-06 00:58:26.840 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 197.0742ms
2025-12-06 00:58:26.842 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 00:58:26.844 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 220.7387ms
2025-12-06 00:58:26.932 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:58:26.925 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 00:58:26.936 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:58:26.940 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:58:26.949 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 23.9058ms
2025-12-06 00:58:26.942 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 10.3973ms
2025-12-06 00:58:26.958 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:58:26.959 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 00:58:26.969 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:58:26.971 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:58:26.973 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 00:58:26.963 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:58:26.982 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 00:58:26.982 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:58:26.993 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 00:58:26.994 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:58:26.996 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 15.3705ms
2025-12-06 00:58:27.001 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 00:58:27.005 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 45.5822ms
2025-12-06 00:58:27.001 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:58:27.017 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:58:27.027 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 27.7455ms
2025-12-06 00:58:27.029 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:58:27.031 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 72.9193ms
2025-12-06 00:58:34.666 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:58:34.677 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:58:34.679 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 12.9606ms
2025-12-06 00:58:34.694 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:58:34.701 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:58:34.705 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:58:34.711 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:58:34.717 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:58:34.729 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:58:34.733 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 17.2743ms
2025-12-06 00:58:34.745 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:58:34.748 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 53.0233ms
2025-12-06 00:58:40.408 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 00:58:40.413 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:58:40.415 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 6.9389ms
2025-12-06 00:58:40.430 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 00:58:40.445 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:58:40.448 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:58:40.456 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 00:58:40.466 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 00:58:40.476 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:58:40.479 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 15.9078ms
2025-12-06 00:58:40.490 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 00:58:40.492 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 62.4244ms
2025-12-06 00:59:01.724 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-10&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 00:59:01.733 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:59:01.735 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-10&startTime=19:00&endTime=21:00&guests=2 - 204 null null 11.8719ms
2025-12-06 00:59:01.741 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-10&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 00:59:01.752 -03:00 [INF] CORS policy execution successful.
2025-12-06 00:59:01.756 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 00:59:01.765 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 00:59:01.823 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 00:59:01.895 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 00:59:01.902 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 00:59:01.905 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 111.2646ms
2025-12-06 00:59:01.906 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 00:59:01.908 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-10&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 167.1118ms
2025-12-06 01:56:52.788 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-06 01:56:52.799 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:56:52.801 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 12.6861ms
2025-12-06 01:56:52.805 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-06 01:56:52.809 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:56:52.811 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 01:56:52.814 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-06 01:56:52.917 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-06 01:56:53.116 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 01:56:53.123 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 01:56:53.133 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-06 01:56:53.134 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 313.1662ms
2025-12-06 01:56:53.136 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 01:56:53.137 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 332.3084ms
2025-12-06 01:56:53.250 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 01:56:53.253 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:56:53.254 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 3.9049ms
2025-12-06 01:56:53.235 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 01:56:53.235 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 01:56:53.266 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:56:53.261 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:56:53.267 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 32.0744ms
2025-12-06 01:56:53.269 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 01:56:53.272 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 37.1354ms
2025-12-06 01:56:53.283 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:56:53.291 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 01:56:53.297 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 01:56:53.292 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 01:56:53.321 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:56:53.321 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 01:56:53.322 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 01:56:53.337 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 01:56:53.338 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 01:56:53.345 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 31.9368ms
2025-12-06 01:56:53.355 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 01:56:53.355 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 01:56:53.358 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 89.047ms
2025-12-06 01:56:53.372 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 01:56:53.389 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 35.036ms
2025-12-06 01:56:53.391 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 01:56:53.394 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 104.9011ms
2025-12-06 01:56:53.396 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 01:56:53.401 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:56:53.405 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 01:56:53.413 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 01:56:53.420 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 01:56:53.435 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 01:56:53.437 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 18.3707ms
2025-12-06 01:56:53.445 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 01:56:53.447 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 51.2628ms
2025-12-06 01:57:04.355 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 01:57:04.368 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:57:04.376 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 20.6733ms
2025-12-06 01:57:04.387 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 01:57:04.399 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:57:04.402 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 01:57:04.408 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 01:57:04.424 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 01:57:04.443 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 01:57:04.447 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 26.3543ms
2025-12-06 01:57:04.459 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 01:57:04.461 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 75.4868ms
2025-12-06 01:59:25.543 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 01:59:25.555 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:59:25.556 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 13.2796ms
2025-12-06 01:59:25.559 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 01:59:25.562 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:59:25.563 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 01:59:25.564 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 01:59:25.567 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 01:59:25.569 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 01:59:25.570 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 4.5675ms
2025-12-06 01:59:25.572 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 01:59:25.574 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 14.6878ms
2025-12-06 01:59:26.896 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 01:59:26.897 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 01:59:26.915 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:59:26.917 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:59:26.918 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 22.5851ms
2025-12-06 01:59:26.919 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 01:59:26.926 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 01:59:26.927 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 01:59:26.931 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:59:26.935 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 01:59:26.935 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 01:59:26.941 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 01:59:26.942 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 01:59:26.943 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 10.3162ms
2025-12-06 01:59:26.948 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 01:59:26.948 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 01:59:26.950 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 53.6339ms
2025-12-06 01:59:26.953 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 01:59:26.962 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 15.3261ms
2025-12-06 01:59:26.965 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 01:59:26.968 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 41.6689ms
2025-12-06 01:59:30.681 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 01:59:30.688 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:59:30.689 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 01:59:30.691 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 01:59:30.696 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 01:59:30.706 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 01:59:30.711 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 18.1884ms
2025-12-06 01:59:30.716 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 01:59:30.718 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 37.0044ms
2025-12-06 01:59:33.732 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 01:59:33.741 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:59:33.743 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 11.4987ms
2025-12-06 01:59:33.748 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 01:59:33.755 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:59:33.757 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 01:59:33.761 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 01:59:33.767 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 01:59:33.779 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 01:59:33.782 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 16.4631ms
2025-12-06 01:59:33.784 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 01:59:33.786 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 37.6961ms
2025-12-06 01:59:36.536 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 01:59:36.544 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:59:36.546 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 01:59:36.548 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 01:59:36.554 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 01:59:36.559 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 01:59:36.564 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 11.6254ms
2025-12-06 01:59:36.566 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 01:59:36.571 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 34.3243ms
2025-12-06 01:59:56.398 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 01:59:56.403 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:59:56.404 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 6.0843ms
2025-12-06 01:59:56.408 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 01:59:56.410 -03:00 [INF] CORS policy execution successful.
2025-12-06 01:59:56.412 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 01:59:56.415 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 01:59:56.420 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 01:59:56.430 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 01:59:56.438 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 20.2108ms
2025-12-06 01:59:56.442 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 01:59:56.451 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 43.6374ms
2025-12-06 02:00:35.110 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-19&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:00:35.118 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:00:35.121 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-19&startTime=19:00&endTime=21:00&guests=2 - 204 null null 35.0499ms
2025-12-06 02:00:35.125 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-19&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:00:35.128 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:00:35.129 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:00:35.130 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:00:35.138 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:00:35.208 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:00:35.212 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:00:35.213 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 78.5009ms
2025-12-06 02:00:35.219 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:00:35.221 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-19&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 96.5545ms
2025-12-06 02:02:45.597 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 02:02:45.609 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:02:45.611 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 13.9028ms
2025-12-06 02:02:45.615 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 02:02:45.619 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:02:45.625 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:02:45.626 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 02:02:45.694 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 02:02:45.698 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 02:02:45.704 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 74.1989ms
2025-12-06 02:02:45.705 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:02:45.706 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 91.1523ms
2025-12-06 02:02:45.752 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 02:02:45.793 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 02:02:45.795 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:02:45.797 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:02:45.798 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 45.7121ms
2025-12-06 02:02:45.862 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:02:45.865 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 02:02:45.866 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 02:02:45.868 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:02:45.872 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:02:45.873 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 02:02:45.874 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 02:02:45.881 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 02:02:45.883 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 11.2744ms
2025-12-06 02:02:45.884 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:02:45.885 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 125.687ms
2025-12-06 02:02:45.955 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 02:02:45.960 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:02:45.962 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 86.0446ms
2025-12-06 02:02:45.967 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:02:45.968 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 103.3923ms
2025-12-06 02:02:46.473 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 02:02:46.478 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:02:46.480 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:02:46.481 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 02:02:46.485 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 02:02:46.487 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 02:02:46.489 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.1278ms
2025-12-06 02:02:46.492 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:02:46.493 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 19.8687ms
2025-12-06 02:02:47.539 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 02:02:47.544 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:02:47.545 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:02:47.547 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 02:02:47.553 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 02:02:47.559 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 02:02:47.560 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 10.1551ms
2025-12-06 02:02:47.562 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:02:47.563 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 24.1352ms
2025-12-06 02:02:49.001 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 02:02:49.012 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:02:49.014 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:02:49.015 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 02:02:49.021 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 02:02:49.025 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 02:02:49.026 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 9.0164ms
2025-12-06 02:02:49.029 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:02:49.030 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 29.4581ms
2025-12-06 02:02:49.078 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 02:02:49.081 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:02:49.083 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:02:49.131 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 02:02:49.138 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 02:02:49.144 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 02:02:49.145 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 10.7748ms
2025-12-06 02:02:49.147 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:02:49.148 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 70.1635ms
2025-12-06 02:03:04.698 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-17&startTime=22:00&endTime=23:00&guests=5 - null null
2025-12-06 02:03:04.704 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:03:04.706 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-17&startTime=22:00&endTime=23:00&guests=5 - 204 null null 8.0784ms
2025-12-06 02:03:04.710 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-17&startTime=22:00&endTime=23:00&guests=5 - null null
2025-12-06 02:03:04.713 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:03:04.715 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:03:04.718 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:03:04.723 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:03:04.728 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:03:04.733 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:03:04.737 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 16.5086ms
2025-12-06 02:03:04.738 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:03:04.739 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-17&startTime=22:00&endTime=23:00&guests=5 - 200 null application/json; charset=utf-8 28.4553ms
2025-12-06 02:03:15.258 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 02:03:15.268 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:03:15.269 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 10.3861ms
2025-12-06 02:03:15.273 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 02:03:15.277 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:03:15.279 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:03:15.281 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 02:03:15.291 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 02:03:15.300 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:03:15.303 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 15.5439ms
2025-12-06 02:03:15.305 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:03:15.306 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 32.8296ms
2025-12-06 02:03:28.922 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-12&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:03:28.927 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:03:28.929 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-12&startTime=19:00&endTime=21:00&guests=2 - 204 null null 7.2474ms
2025-12-06 02:03:28.933 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-12&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:03:28.935 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:03:28.936 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:03:28.937 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:03:28.943 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:03:28.948 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:03:28.952 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:03:28.953 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 12.08ms
2025-12-06 02:03:29.012 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:03:29.013 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-12&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 80.7087ms
2025-12-06 02:08:13.051 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 02:08:13.060 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:08:13.062 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 11.2101ms
2025-12-06 02:08:13.076 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 02:08:13.080 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:08:13.083 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:08:13.085 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 02:08:13.162 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 02:08:13.166 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:08:13.168 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 76.1696ms
2025-12-06 02:08:13.169 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:08:13.170 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 94.5584ms
2025-12-06 02:08:18.286 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:08:18.297 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:08:18.298 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - 204 null null 12.8408ms
2025-12-06 02:08:18.303 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:08:18.308 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:08:18.310 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:08:18.311 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:08:18.316 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:08:18.319 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:08:18.324 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:08:18.329 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 15.0614ms
2025-12-06 02:08:18.331 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:08:18.333 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 29.9999ms
2025-12-06 02:08:21.852 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 02:08:21.861 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:08:21.863 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 10.4614ms
2025-12-06 02:08:21.872 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 02:08:21.876 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:08:21.879 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:08:21.881 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 02:08:21.885 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 02:08:21.891 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:08:21.896 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 12.6281ms
2025-12-06 02:08:21.899 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:08:21.901 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 28.9361ms
2025-12-06 02:08:33.374 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=23:03&endTime=02:05&guests=2 - null null
2025-12-06 02:08:33.381 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:08:33.383 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=23:03&endTime=02:05&guests=2 - 204 null null 9.4455ms
2025-12-06 02:08:33.390 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=23:03&endTime=02:05&guests=2 - null null
2025-12-06 02:08:33.395 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:08:33.396 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:08:33.397 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:08:33.676 -03:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-06 02:08:33.681 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 282.2297ms
2025-12-06 02:08:33.682 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:08:33.685 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=23:03&endTime=02:05&guests=2 - 400 null application/json; charset=utf-8 294.0731ms
2025-12-06 02:08:57.255 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=23:03&endTime=23:16&guests=2 - null null
2025-12-06 02:08:57.268 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:08:57.270 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=23:03&endTime=23:16&guests=2 - 204 null null 15.2974ms
2025-12-06 02:08:57.275 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=23:03&endTime=23:16&guests=2 - null null
2025-12-06 02:08:57.278 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:08:57.280 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:08:57.281 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:08:57.285 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:08:57.289 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:08:57.293 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:08:57.295 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 11.2973ms
2025-12-06 02:08:57.305 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:08:57.306 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=23:03&endTime=23:16&guests=2 - 200 null application/json; charset=utf-8 31.6505ms
2025-12-06 02:11:08.494 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 02:11:08.502 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:11:08.503 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 9.0921ms
2025-12-06 02:11:08.507 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 02:11:08.511 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:11:08.512 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:11:08.513 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 02:11:08.522 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 02:11:08.527 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 02:11:08.528 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 11.2548ms
2025-12-06 02:11:08.531 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:11:08.532 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 25.5258ms
2025-12-06 02:11:08.609 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 02:11:08.612 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 02:11:08.623 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:11:08.627 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:11:08.628 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 18.4846ms
2025-12-06 02:11:08.628 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:11:08.633 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 02:11:08.638 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 02:11:08.642 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 02:11:08.645 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 02:11:08.653 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:11:08.653 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 17.5753ms
2025-12-06 02:11:08.656 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:11:08.657 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:11:08.658 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 02:11:08.659 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 47.8185ms
2025-12-06 02:11:08.669 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 02:11:08.674 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:11:08.676 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 12.5384ms
2025-12-06 02:11:08.677 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:11:08.678 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 35.9814ms
2025-12-06 02:13:04.257 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=23:03&endTime=23:16&guests=2 - null null
2025-12-06 02:13:04.270 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:04.271 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=23:03&endTime=23:16&guests=2 - 204 null null 13.9898ms
2025-12-06 02:13:04.276 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=23:03&endTime=23:16&guests=2 - null null
2025-12-06 02:13:04.279 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:04.280 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:13:04.281 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:13:04.284 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:13:04.287 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:13:04.289 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:13:04.290 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 7.5274ms
2025-12-06 02:13:04.292 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:13:04.293 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=23:03&endTime=23:16&guests=2 - 200 null application/json; charset=utf-8 17.3824ms
2025-12-06 02:13:16.666 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 02:13:16.676 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:16.679 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 13.1384ms
2025-12-06 02:13:16.686 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 02:13:16.694 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:16.698 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:13:16.699 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 02:13:16.755 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 02:13:16.759 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:13:16.761 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 58.9859ms
2025-12-06 02:13:16.763 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:13:16.764 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 78.6124ms
2025-12-06 02:13:23.705 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-11&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:13:23.724 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:23.726 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-11&startTime=19:00&endTime=21:00&guests=2 - 204 null null 21.186ms
2025-12-06 02:13:23.731 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-11&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:13:23.734 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:23.736 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:13:23.738 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:13:23.743 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:13:23.747 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:13:23.751 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:13:23.759 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 17.7174ms
2025-12-06 02:13:23.793 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:13:23.794 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-11&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 63.1939ms
2025-12-06 02:13:42.276 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-06 02:13:42.285 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:42.286 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 9.1006ms
2025-12-06 02:13:42.289 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-06 02:13:42.291 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:42.292 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 02:13:42.293 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-06 02:13:42.300 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-06 02:13:42.470 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 02:13:42.476 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 02:13:42.480 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-06 02:13:42.481 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 183.9306ms
2025-12-06 02:13:42.482 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 02:13:42.483 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 194.8035ms
2025-12-06 02:13:42.520 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-06 02:13:42.521 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/dishes - null null
2025-12-06 02:13:42.558 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 02:13:42.625 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 02:13:42.626 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:42.632 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:42.636 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:42.638 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:42.639 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 119.1023ms
2025-12-06 02:13:42.647 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-06 02:13:42.641 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 84.2015ms
2025-12-06 02:13:42.642 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 16.9848ms
2025-12-06 02:13:42.640 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/dishes - 204 null null 119.507ms
2025-12-06 02:13:42.650 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:42.655 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/dishes - null null
2025-12-06 02:13:42.659 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 02:13:42.664 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 02:13:42.668 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-06 02:13:42.668 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:42.672 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:42.674 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:42.678 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:13:42.682 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 02:13:42.676 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/dishes - 404 0 null 21.8615ms
2025-12-06 02:13:42.679 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-06 02:13:42.677 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:13:42.694 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 02:13:42.691 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5231/api/dishes, Response status code: 404
2025-12-06 02:13:42.690 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 02:13:42.718 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:13:42.756 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 69.2343ms
2025-12-06 02:13:42.759 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:13:42.760 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 96.4022ms
2025-12-06 02:13:42.777 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 02:13:42.786 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 02:13:42.787 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 88.5584ms
2025-12-06 02:13:42.788 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-06 02:13:42.789 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:13:42.791 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:13:42.792 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 132.6206ms
2025-12-06 02:13:42.815 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 121.5278ms
2025-12-06 02:13:42.816 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-06 02:13:42.818 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 170.6237ms
2025-12-06 02:13:47.521 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-06 02:13:47.525 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:13:47.529 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-06 02:13:47.532 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-06 02:13:47.537 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-06 02:13:47.540 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:13:47.544 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 8.4481ms
2025-12-06 02:13:47.553 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-06 02:13:47.556 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 34.8648ms
2025-12-06 02:15:59.391 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 02:15:59.404 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:15:59.405 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 13.8098ms
2025-12-06 02:15:59.410 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 02:15:59.414 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:15:59.416 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:15:59.419 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 02:15:59.429 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 02:15:59.436 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:15:59.441 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 16.3619ms
2025-12-06 02:15:59.443 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:15:59.444 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 34.4144ms
2025-12-06 02:16:55.445 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:16:55.458 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:16:55.460 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - 204 null null 15.1986ms
2025-12-06 02:16:55.463 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:16:55.466 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:16:55.466 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:16:55.467 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:16:55.471 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:16:55.475 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:16:55.479 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:16:55.483 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 13.4841ms
2025-12-06 02:16:55.486 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:16:55.489 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 25.8066ms
2025-12-06 02:23:09.620 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:23:09.630 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:23:09.631 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - 204 null null 10.3119ms
2025-12-06 02:23:09.636 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:23:09.640 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:23:09.641 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:23:09.642 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:23:09.700 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:23:09.710 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:23:09.716 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:23:09.721 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 76.6229ms
2025-12-06 02:23:09.724 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:23:09.725 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 89.8072ms
2025-12-06 02:35:05.268 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:35:05.271 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:35:05.272 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - 204 null null 4.5927ms
2025-12-06 02:35:05.277 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:35:05.280 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:35:05.282 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:35:05.283 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:35:05.339 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:35:05.350 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:35:05.353 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:35:05.355 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 69.528ms
2025-12-06 02:35:05.357 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:35:05.360 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 83.307ms
2025-12-06 02:35:39.568 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:35:39.584 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:35:39.585 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - 204 null null 17.286ms
2025-12-06 02:35:39.588 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:35:39.591 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:35:39.592 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:35:39.593 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:35:39.597 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:35:39.602 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:35:39.606 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:35:39.607 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 11.4582ms
2025-12-06 02:35:39.609 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:35:39.610 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 22.2987ms
2025-12-06 02:35:47.011 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-19&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:35:47.017 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:35:47.018 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-19&startTime=19:00&endTime=21:00&guests=2 - 204 null null 7.1646ms
2025-12-06 02:35:47.024 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-19&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:35:47.026 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:35:47.028 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:35:47.029 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:35:47.033 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:35:47.035 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:35:47.039 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:35:47.040 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 8.4704ms
2025-12-06 02:35:47.041 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:35:47.043 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-19&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 19.5574ms
2025-12-06 02:35:53.990 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-14&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:35:53.998 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:35:53.999 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-14&startTime=19:00&endTime=21:00&guests=2 - 204 null null 8.5047ms
2025-12-06 02:35:54.004 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-14&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:35:54.007 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:35:54.008 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:35:54.009 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:35:54.014 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:35:54.018 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:35:54.021 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:35:54.022 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 8.9096ms
2025-12-06 02:35:54.024 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:35:54.025 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-14&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 21.1848ms
2025-12-06 02:35:59.903 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:35:59.909 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:35:59.911 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 8.1985ms
2025-12-06 02:35:59.916 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:35:59.919 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:35:59.922 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:35:59.924 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:35:59.935 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:35:59.942 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:35:59.947 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:35:59.948 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 15.0743ms
2025-12-06 02:35:59.950 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:35:59.952 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 35.777ms
2025-12-06 02:36:04.760 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-13&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:36:04.766 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:36:04.767 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-13&startTime=19:00&endTime=21:00&guests=2 - 204 null null 6.7497ms
2025-12-06 02:36:04.771 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-13&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:36:04.776 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:36:04.777 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:36:04.778 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:36:04.782 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:36:04.785 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:36:04.788 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:36:04.793 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 12.4029ms
2025-12-06 02:36:04.796 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:36:04.797 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-13&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 25.7768ms
2025-12-06 02:37:15.888 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-13&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:37:15.903 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:37:15.904 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-13&startTime=19:00&endTime=21:00&guests=2 - 204 null null 15.1228ms
2025-12-06 02:37:15.908 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-13&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:37:15.911 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:37:15.912 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:37:15.914 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:37:15.917 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:37:15.920 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:37:15.923 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:37:15.925 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 8.9163ms
2025-12-06 02:37:15.926 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:37:15.927 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-13&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 18.5766ms
2025-12-06 02:37:18.499 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-13&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:37:18.504 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:37:18.506 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:37:18.507 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:37:18.510 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:37:18.517 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:37:18.521 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:37:18.522 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 12.9031ms
2025-12-06 02:37:18.524 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:37:18.526 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-13&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 26.9526ms
2025-12-06 02:39:19.658 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 02:39:19.667 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:39:19.668 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 9.7571ms
2025-12-06 02:39:19.672 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 119
2025-12-06 02:39:19.677 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:39:19.679 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 02:39:19.683 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 02:39:19.714 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 02:39:19.732 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 02:39:19.812 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 02:39:19.825 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 02:39:19.862 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 174.1424ms
2025-12-06 02:39:19.864 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 02:39:19.865 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 193.2691ms
2025-12-06 02:44:07.418 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 02:44:07.426 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:07.427 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 9.6524ms
2025-12-06 02:44:07.432 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 02:44:07.434 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:07.437 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:44:07.441 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 02:44:07.496 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 02:44:07.498 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 02:44:07.499 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 53.8214ms
2025-12-06 02:44:07.506 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:44:07.507 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 75.0287ms
2025-12-06 02:44:08.857 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-06 02:44:08.944 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 02:44:08.947 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/dishes - null null
2025-12-06 02:44:08.947 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 02:44:08.949 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:08.951 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:08.953 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:08.959 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:08.960 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 103.0861ms
2025-12-06 02:44:08.961 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 16.7872ms
2025-12-06 02:44:08.962 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/dishes - 204 null null 17.3212ms
2025-12-06 02:44:08.963 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:44:08.967 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/dishes - null null
2025-12-06 02:44:08.968 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-06 02:44:08.975 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 02:44:08.977 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 02:44:08.980 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:08.982 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:08.984 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:08.986 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/dishes - 404 0 null 19.1632ms
2025-12-06 02:44:08.996 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5231/api/dishes, Response status code: 404
2025-12-06 02:44:08.991 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-06 02:44:08.991 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:44:08.986 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 02:44:09.000 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-06 02:44:09.001 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 02:44:09.004 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 02:44:09.010 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-06 02:44:09.010 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 24.8731ms
2025-12-06 02:44:09.036 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:44:09.036 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:44:09.037 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 89.7578ms
2025-12-06 02:44:09.042 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 35.7646ms
2025-12-06 02:44:09.047 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-06 02:44:09.048 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 79.7079ms
2025-12-06 02:44:09.080 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 02:44:09.083 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:44:09.084 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 75.0218ms
2025-12-06 02:44:09.085 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:44:09.086 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 110.8694ms
2025-12-06 02:44:24.267 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-06 02:44:24.271 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:24.272 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 4.5256ms
2025-12-06 02:44:24.275 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-06 02:44:24.277 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:24.278 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 02:44:24.279 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-06 02:44:24.282 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-06 02:44:24.451 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 02:44:24.457 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 02:44:24.459 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-06 02:44:24.461 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 180.0458ms
2025-12-06 02:44:24.462 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 02:44:24.463 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 188.7427ms
2025-12-06 02:44:24.494 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 02:44:24.494 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 02:44:24.508 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:24.510 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:24.513 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 18.3789ms
2025-12-06 02:44:24.517 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 02:44:24.514 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 19.2301ms
2025-12-06 02:44:24.521 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:24.527 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:44:24.525 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 02:44:24.529 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 02:44:24.535 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:24.540 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:44:24.540 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 02:44:24.541 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 02:44:24.544 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:44:24.547 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 02:44:24.547 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 9.0042ms
2025-12-06 02:44:24.552 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 02:44:24.554 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 02:44:24.556 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 10.6356ms
2025-12-06 02:44:24.558 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 40.494ms
2025-12-06 02:44:24.559 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 02:44:24.563 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 37.5108ms
2025-12-06 02:44:35.802 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:44:35.820 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:35.822 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - 204 null null 19.5731ms
2025-12-06 02:44:35.826 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 02:44:35.830 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:35.833 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:44:35.836 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 02:44:35.839 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 02:44:35.849 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 02:44:35.852 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 02:44:35.854 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 16.2367ms
2025-12-06 02:44:35.856 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 02:44:35.857 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 31.4868ms
2025-12-06 02:44:44.611 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 02:44:44.617 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:44.619 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 7.9602ms
2025-12-06 02:44:44.629 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 113
2025-12-06 02:44:44.634 -03:00 [INF] CORS policy execution successful.
2025-12-06 02:44:44.635 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 02:44:44.636 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 02:44:44.640 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 02:44:44.645 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 02:44:44.654 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 02:44:44.658 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 02:44:44.662 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 23.5153ms
2025-12-06 02:44:44.667 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 02:44:44.669 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 39.8501ms
2025-12-06 03:33:42.811 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 03:33:43.103 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 03:33:43.114 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 03:33:43.117 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 03:33:43.120 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 03:33:43.130 -03:00 [INF] Applying migration '20251206063326_AddReservationDishes'.
2025-12-06 03:33:43.196 -03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ReservationDishes" (
    "ReservationId" integer NOT NULL,
    "DishId" integer NOT NULL,
    "Quantity" integer NOT NULL,
    CONSTRAINT "PK_ReservationDishes" PRIMARY KEY ("ReservationId", "DishId"),
    CONSTRAINT "FK_ReservationDishes_Dishes_DishId" FOREIGN KEY ("DishId") REFERENCES "Dishes" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ReservationDishes_Reservations_ReservationId" FOREIGN KEY ("ReservationId") REFERENCES "Reservations" ("Id") ON DELETE CASCADE
);
2025-12-06 03:33:43.202 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ReservationDishes_DishId" ON "ReservationDishes" ("DishId");
2025-12-06 03:33:43.207 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251206063326_AddReservationDishes', '9.0.11');
2025-12-06 12:18:31.536 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 12:18:31.889 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 12:18:31.901 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 12:18:31.904 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 12:18:31.908 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 12:18:31.914 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-06 12:18:32.172 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-06 12:18:32.183 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-06 12:18:32.190 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-06 12:18:32.369 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 12:18:32.600 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-06 12:18:33.328 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 12:18:33.344 -03:00 [INF] Hosting environment: Development
2025-12-06 12:18:33.363 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-06 12:18:33.429 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 12:18:33.691 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 269.9788ms
2025-12-06 12:18:33.713 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 12:18:33.715 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 12:18:33.719 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 12:18:33.748 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 32.3556ms
2025-12-06 12:18:33.748 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 35.0985ms
2025-12-06 12:18:33.844 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 125.5147ms
2025-12-06 12:18:33.892 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 12:18:33.945 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.8918ms
2025-12-06 12:26:09.486 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 12:26:09.944 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 12:26:09.956 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 12:26:09.960 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 12:26:09.964 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 12:26:09.970 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-06 12:26:10.243 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-06 12:26:10.253 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-06 12:26:10.259 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-06 12:26:10.399 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 12:26:10.569 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-06 12:26:10.806 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 12:26:10.808 -03:00 [INF] Hosting environment: Development
2025-12-06 12:26:10.809 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-06 12:26:11.285 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 12:26:11.511 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 234.5217ms
2025-12-06 12:26:11.520 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 12:26:11.520 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 12:26:11.549 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 12:26:11.554 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 33.8859ms
2025-12-06 12:26:11.556 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 36.1771ms
2025-12-06 12:26:11.609 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.9498ms
2025-12-06 12:26:11.656 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 12:26:11.719 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.9962ms
2025-12-06 13:27:21.561 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 13:27:21.611 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:27:21.616 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 55.1914ms
2025-12-06 13:27:21.619 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 13:27:21.628 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:27:21.780 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:27:21.802 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 13:27:22.141 -03:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 13:27:22.234 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 13:27:22.250 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 437.474ms
2025-12-06 13:27:22.253 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:27:22.261 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 641.3153ms
2025-12-06 13:27:24.569 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 13:27:24.570 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 13:27:24.612 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:27:24.615 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 46.3505ms
2025-12-06 13:27:24.614 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:27:24.619 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 13:27:24.629 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:27:24.632 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:27:24.634 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 13:27:24.644 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 13:27:24.668 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 13:27:24.737 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 13:27:24.751 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 13:27:24.753 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 107.0248ms
2025-12-06 13:27:24.760 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:27:24.767 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 197.5165ms
2025-12-06 13:27:24.849 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 13:27:24.944 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 13:27:24.969 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 293.6932ms
2025-12-06 13:27:24.971 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 13:27:24.982 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 363.1488ms
2025-12-06 13:33:47.986 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 13:33:47.990 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:33:47.988 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 13:33:47.992 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 5.8771ms
2025-12-06 13:33:48.000 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 13:33:48.002 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:33:48.007 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 13:33:48.013 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:33:48.014 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 26.2746ms
2025-12-06 13:33:48.017 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:33:48.018 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 17.9272ms
2025-12-06 13:33:48.021 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 13:33:48.022 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 13:33:48.029 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:33:48.030 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 13:33:48.031 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:33:48.037 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 13:33:48.093 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 13:33:48.097 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 13:33:48.098 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 63.0508ms
2025-12-06 13:33:48.099 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 13:33:48.100 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 13:33:48.102 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 13:33:48.103 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 95.8988ms
2025-12-06 13:33:48.104 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 60.6315ms
2025-12-06 13:33:48.107 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 13:33:48.109 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:33:48.111 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:33:48.114 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 92.5426ms
2025-12-06 13:33:48.115 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:33:48.118 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 13:33:48.124 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 13:33:48.128 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 13:33:48.130 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.8884ms
2025-12-06 13:33:48.131 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:33:48.132 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 24.6222ms
2025-12-06 13:36:01.007 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 13:36:01.086 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 13:36:01.092 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 13:36:01.094 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:36:01.099 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:36:01.101 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:36:01.102 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 126.2903ms
2025-12-06 13:36:01.102 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 16.8812ms
2025-12-06 13:36:01.103 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 11.2505ms
2025-12-06 13:36:01.106 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 13:36:01.111 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 13:36:01.115 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:36:01.117 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:36:01.118 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 13:36:01.120 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:36:01.122 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 13:36:01.123 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 13:36:01.133 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 13:36:01.139 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 13:36:01.141 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 13:36:01.145 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 13:36:01.147 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 16.3912ms
2025-12-06 13:36:01.149 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 23.3026ms
2025-12-06 13:36:01.151 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 13:36:01.151 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:36:01.154 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 13:36:01.156 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:36:01.158 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 46.8239ms
2025-12-06 13:36:01.159 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 53.2332ms
2025-12-06 13:36:01.161 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:36:01.175 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 13:36:01.182 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 13:36:01.190 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 13:36:01.194 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 13.8791ms
2025-12-06 13:36:01.198 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:36:01.200 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 49.5158ms
2025-12-06 13:36:56.498 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 13:36:56.865 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 13:36:56.876 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 13:36:56.879 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 13:36:56.885 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 13:36:56.892 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-06 13:36:57.128 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-06 13:36:57.138 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-06 13:36:57.145 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-06 13:36:57.302 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 13:36:57.502 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-06 13:36:57.713 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 13:36:57.715 -03:00 [INF] Hosting environment: Development
2025-12-06 13:36:57.716 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-06 13:36:58.770 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 13:36:58.999 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 240.1343ms
2025-12-06 13:36:59.015 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 13:36:59.019 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 13:36:59.028 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 8.8332ms
2025-12-06 13:36:59.028 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 13.4106ms
2025-12-06 13:36:59.038 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 13:36:59.104 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.2528ms
2025-12-06 13:36:59.168 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 13:36:59.227 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.8472ms
2025-12-06 13:37:05.985 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 13:37:05.996 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:37:05.999 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 13.9338ms
2025-12-06 13:37:06.002 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 13:37:06.011 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:37:06.155 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:37:06.171 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 13:37:06.430 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 13:37:06.532 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 13:37:06.549 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 368.7838ms
2025-12-06 13:37:06.555 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:37:06.562 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 559.3601ms
2025-12-06 13:37:12.432 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 13:37:12.442 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 13:37:12.449 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:37:12.451 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:37:12.453 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 21.4053ms
2025-12-06 13:37:12.457 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 15.3896ms
2025-12-06 13:37:12.464 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 13:37:12.464 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 13:37:12.470 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:37:12.472 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:37:12.475 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:37:12.480 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 13:37:12.481 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 13:37:12.498 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 13:37:12.567 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 13:37:12.577 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 13:37:12.579 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 92.6269ms
2025-12-06 13:37:12.581 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:37:12.582 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 118.0465ms
2025-12-06 13:37:12.663 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 13:37:12.744 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 13:37:12.765 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 263.4577ms
2025-12-06 13:37:12.768 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 13:37:12.769 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 304.9504ms
2025-12-06 13:37:28.970 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=5 - null null
2025-12-06 13:37:28.976 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:37:28.977 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=5 - 204 null null 6.907ms
2025-12-06 13:37:28.995 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=5 - null null
2025-12-06 13:37:28.997 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:37:29.000 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 13:37:29.008 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 13:37:29.050 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 13:37:29.084 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 13:37:29.093 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 13:37:29.098 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 84.9641ms
2025-12-06 13:37:29.103 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 13:37:29.104 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=5 - 200 null application/json; charset=utf-8 109.6673ms
2025-12-06 13:37:38.537 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=5 - null null
2025-12-06 13:37:38.543 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:37:38.548 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=5 - 204 null null 10.5433ms
2025-12-06 13:37:38.554 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=5 - null null
2025-12-06 13:37:38.556 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:37:38.557 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 13:37:38.558 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 13:37:38.565 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 13:37:38.572 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 13:37:38.575 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 13:37:38.577 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 16.2058ms
2025-12-06 13:37:38.582 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 13:37:38.585 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-18&startTime=19:00&endTime=21:00&guests=5 - 200 null application/json; charset=utf-8 30.3574ms
2025-12-06 13:37:54.720 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 13:37:54.727 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:37:54.729 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 9.2171ms
2025-12-06 13:37:54.735 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 122
2025-12-06 13:37:54.744 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:37:54.750 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 13:37:54.757 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 13:37:54.812 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 13:37:54.825 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 13:37:54.988 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 13:37:55.020 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 13:37:55.049 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 286.2693ms
2025-12-06 13:37:55.052 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 13:37:55.053 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 318.7254ms
2025-12-06 13:37:55.071 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/4/dishes - null null
2025-12-06 13:37:55.077 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:37:55.080 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/4/dishes - 204 null null 8.6071ms
2025-12-06 13:37:55.085 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/4/dishes - null null
2025-12-06 13:37:55.088 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:37:55.090 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 13:37:55.099 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 13:37:55.109 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.184ms
2025-12-06 13:37:55.112 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 13:37:55.116 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Api.Services.Implementations.ReservationDishService' while attempting to activate 'Api.Controllers.ReservationDishesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method391(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-06 13:37:55.169 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/4/dishes - 500 null text/plain; charset=utf-8 84.9612ms
2025-12-06 13:46:25.667 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 13:46:25.986 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 13:46:25.997 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 13:46:26.001 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 13:46:26.003 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 13:46:26.008 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-06 13:46:26.237 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-06 13:46:26.252 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-06 13:46:26.259 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-06 13:46:26.387 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 13:46:26.557 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-06 13:46:26.636 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 13:46:26.642 -03:00 [INF] Hosting environment: Development
2025-12-06 13:46:26.643 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-06 13:46:27.058 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 13:46:27.299 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 251.0419ms
2025-12-06 13:46:27.310 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 13:46:27.310 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 13:46:27.314 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 13:46:27.329 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 19.3112ms
2025-12-06 13:46:27.332 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 22.2562ms
2025-12-06 13:46:27.377 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.8064ms
2025-12-06 13:46:27.436 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 13:46:27.486 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.5408ms
2025-12-06 13:46:47.898 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 13:46:47.912 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:46:47.915 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 17.3122ms
2025-12-06 13:46:47.919 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 13:46:47.923 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:46:48.063 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:46:48.081 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 13:46:48.352 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 13:46:48.449 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 13:46:48.459 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 371.3667ms
2025-12-06 13:46:48.461 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:46:48.468 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 549.3995ms
2025-12-06 13:46:53.161 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 13:46:53.163 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 13:46:53.191 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:46:53.185 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:46:53.194 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 30.8867ms
2025-12-06 13:46:53.196 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 36.2421ms
2025-12-06 13:46:53.211 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 13:46:53.213 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 13:46:53.219 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:46:53.227 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:46:53.231 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 13:46:53.244 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:46:53.246 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 13:46:53.253 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 13:46:53.362 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 13:46:53.367 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 13:46:53.368 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 119.4785ms
2025-12-06 13:46:53.370 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:46:53.372 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 158.5193ms
2025-12-06 13:46:53.454 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 13:46:53.534 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 13:46:53.567 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 306.2985ms
2025-12-06 13:46:53.571 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 13:46:53.577 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 372.9673ms
2025-12-06 13:47:00.072 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-17&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 13:47:00.077 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:47:00.079 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-17&startTime=19:00&endTime=21:00&guests=2 - 204 null null 7.2128ms
2025-12-06 13:47:00.088 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-17&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 13:47:00.093 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:47:00.094 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 13:47:00.099 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 13:47:00.172 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 13:47:00.201 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 13:47:00.211 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 13:47:00.214 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 112.3461ms
2025-12-06 13:47:00.216 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 13:47:00.217 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-17&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 129.8376ms
2025-12-06 13:47:08.462 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 13:47:08.471 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:47:08.474 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 11.4989ms
2025-12-06 13:47:08.479 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 84
2025-12-06 13:47:08.484 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:47:08.486 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 13:47:08.490 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 13:47:08.530 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 13:47:08.543 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 13:47:08.709 -03:00 [ERR] Failed executing DbCommand (19ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 13:47:08.761 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Api.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: el valor nulo en la columna Notes de la relacin Reservations viola la restriccin not-null

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: el valor nulo en la columna Notes de la relacin Reservations viola la restriccin not-null
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Reservations
    ColumnName: Notes
    File: execMain.c
    Line: 2215
    Routine: ReportNotNullViolationError
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: el valor nulo en la columna Notes de la relacin Reservations viola la restriccin not-null

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: el valor nulo en la columna Notes de la relacin Reservations viola la restriccin not-null
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Reservations
    ColumnName: Notes
    File: execMain.c
    Line: 2215
    Routine: ReportNotNullViolationError
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-06 13:47:09.453 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-06 13:47:09.457 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 964.175ms
2025-12-06 13:47:09.458 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 13:47:09.461 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 400 null text/plain; charset=utf-8 981.2609ms
2025-12-06 13:49:40.722 -03:00 [INF] Application is shutting down...
2025-12-06 13:54:38.003 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 13:54:38.321 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 13:54:38.331 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 13:54:38.334 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 13:54:38.336 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 13:54:38.340 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-06 13:54:38.593 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-06 13:54:38.604 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-06 13:54:38.610 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-06 13:54:38.746 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 13:54:38.897 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-06 13:54:39.094 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 13:54:39.096 -03:00 [INF] Hosting environment: Development
2025-12-06 13:54:39.098 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-06 13:54:39.536 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 13:54:39.783 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 258.0735ms
2025-12-06 13:54:39.798 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 13:54:39.800 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 13:54:39.810 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 13:54:39.841 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 40.9107ms
2025-12-06 13:54:39.843 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 48.0408ms
2025-12-06 13:54:39.908 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.7337ms
2025-12-06 13:54:39.969 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 13:54:40.030 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.1873ms
2025-12-06 13:54:49.138 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 13:54:49.146 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:54:49.150 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 11.666ms
2025-12-06 13:54:49.153 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 13:54:49.157 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:54:49.297 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:54:49.317 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 13:54:49.562 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 13:54:49.657 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 13:54:49.669 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 343.8555ms
2025-12-06 13:54:49.672 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:54:49.679 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 526.4087ms
2025-12-06 13:54:52.297 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 13:54:52.302 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 13:54:52.305 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:54:52.308 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:54:52.313 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 16.0689ms
2025-12-06 13:54:52.315 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:54:52.319 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 13:54:52.332 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 13:54:52.336 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:54:52.340 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 13:54:52.367 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 13:54:52.414 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 13:54:52.419 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 13:54:52.421 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 98.8162ms
2025-12-06 13:54:52.422 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 13:54:52.424 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 121.8116ms
2025-12-06 13:54:52.512 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 13:54:52.591 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 13:54:52.611 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 238.5426ms
2025-12-06 13:54:52.615 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 13:54:52.616 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 283.5086ms
2025-12-06 13:54:59.831 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-26&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 13:54:59.841 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:54:59.843 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-26&startTime=19:00&endTime=21:00&guests=2 - 204 null null 12.1907ms
2025-12-06 13:54:59.850 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-26&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 13:54:59.853 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:54:59.854 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 13:54:59.861 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 13:54:59.898 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 13:54:59.928 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 13:54:59.936 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 13:54:59.942 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 77.3264ms
2025-12-06 13:54:59.946 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 13:54:59.948 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-26&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 98.2265ms
2025-12-06 13:55:03.827 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 13:55:03.831 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:55:03.832 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 5.1731ms
2025-12-06 13:55:03.836 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 84
2025-12-06 13:55:03.840 -03:00 [INF] CORS policy execution successful.
2025-12-06 13:55:03.841 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 13:55:03.846 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 13:55:03.893 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 13:55:03.910 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 13:55:04.078 -03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 13:55:04.119 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Api.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: el valor nulo en la columna Notes de la relacin Reservations viola la restriccin not-null

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: el valor nulo en la columna Notes de la relacin Reservations viola la restriccin not-null
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Reservations
    ColumnName: Notes
    File: execMain.c
    Line: 2215
    Routine: ReportNotNullViolationError
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: el valor nulo en la columna Notes de la relacin Reservations viola la restriccin not-null

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: el valor nulo en la columna Notes de la relacin Reservations viola la restriccin not-null
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Reservations
    ColumnName: Notes
    File: execMain.c
    Line: 2215
    Routine: ReportNotNullViolationError
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-06 13:55:04.794 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-06 13:55:04.795 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 945.0878ms
2025-12-06 13:55:04.796 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 13:55:04.797 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 400 null text/plain; charset=utf-8 960.8839ms
2025-12-06 14:17:29.103 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 14:17:29.572 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 14:17:29.588 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 14:17:29.590 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 14:17:29.592 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 14:17:29.601 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-06 14:17:29.862 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-06 14:17:29.871 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-06 14:17:29.877 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-06 14:17:30.011 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 14:17:30.206 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-06 14:17:30.278 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 14:17:30.279 -03:00 [INF] Hosting environment: Development
2025-12-06 14:17:30.280 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-06 14:17:30.888 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 14:17:31.156 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 272.845ms
2025-12-06 14:17:31.162 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 14:17:31.174 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 14:17:31.187 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 14:17:31.190 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 28.2715ms
2025-12-06 14:17:31.199 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 11.6706ms
2025-12-06 14:17:31.255 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.6473ms
2025-12-06 14:17:31.334 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 14:17:31.402 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.442ms
2025-12-06 14:17:39.255 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 14:17:39.267 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:17:39.270 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 14.4018ms
2025-12-06 14:17:39.273 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:17:39.280 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:17:39.409 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:17:39.435 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:17:39.661 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:17:39.742 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:17:39.754 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 312.3573ms
2025-12-06 14:17:39.757 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:17:39.765 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 492.1512ms
2025-12-06 14:17:47.121 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 14:17:47.130 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 14:17:47.137 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:17:47.138 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:17:47.142 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 12.4088ms
2025-12-06 14:17:47.141 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 21.0755ms
2025-12-06 14:17:47.151 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 14:17:47.151 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:17:47.160 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:17:47.161 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:17:47.167 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 14:17:47.169 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:17:47.175 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:17:47.185 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 14:17:47.264 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:17:47.273 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:17:47.278 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 96.6709ms
2025-12-06 14:17:47.279 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:17:47.281 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 129.5645ms
2025-12-06 14:17:47.358 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 14:17:47.437 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 14:17:47.462 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 270.0098ms
2025-12-06 14:17:47.466 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 14:17:47.468 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 317.2552ms
2025-12-06 14:17:56.739 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 14:17:56.745 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:17:56.747 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - 204 null null 7.3501ms
2025-12-06 14:17:56.751 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 14:17:56.757 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:17:56.759 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 14:17:56.764 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 14:17:56.808 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 14:17:56.841 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 14:17:56.848 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 14:17:56.853 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 85.5594ms
2025-12-06 14:17:56.856 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 14:17:56.859 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 108.336ms
2025-12-06 14:20:38.943 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 14:20:38.948 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:20:38.950 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 13.4672ms
2025-12-06 14:20:38.955 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:20:38.966 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:20:38.968 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:20:38.976 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:20:38.989 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:20:38.995 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:20:38.998 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 19.5096ms
2025-12-06 14:20:39.000 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:20:39.001 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 46.0442ms
2025-12-06 14:20:40.993 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 14:20:40.997 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:20:41.004 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:20:41.006 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:20:41.007 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 13.623ms
2025-12-06 14:20:41.009 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:20:41.017 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 14:20:41.023 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:20:41.019 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:20:41.025 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 14:20:41.040 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:20:41.048 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:20:41.040 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 14:20:41.052 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 15.3287ms
2025-12-06 14:20:41.058 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:20:41.059 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 14:20:41.060 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 65.6307ms
2025-12-06 14:20:41.068 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 14:20:41.075 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 18.2519ms
2025-12-06 14:20:41.077 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 14:20:41.079 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 61.2453ms
2025-12-06 14:20:55.170 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 14:20:55.180 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:20:55.181 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - 204 null null 11.8226ms
2025-12-06 14:20:55.186 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 14:20:55.188 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:20:55.189 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 14:20:55.190 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 14:20:55.195 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 14:20:55.199 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 14:20:55.201 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 14:20:55.203 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 10.2298ms
2025-12-06 14:20:55.204 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 14:20:55.206 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 20.0004ms
2025-12-06 14:21:00.390 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 14:21:00.416 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-06 14:21:00.423 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-06 14:21:00.425 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - 401 null null 34.6218ms
2025-12-06 14:25:02.812 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 14:25:02.817 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:25:02.818 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 33.2532ms
2025-12-06 14:25:02.822 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:25:02.825 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:25:02.826 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:25:02.828 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:25:02.986 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:25:02.993 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:25:02.994 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 164.3952ms
2025-12-06 14:25:02.996 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:25:02.999 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 177.6121ms
2025-12-06 14:25:09.545 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 14:25:09.546 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 14:25:09.551 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:25:09.561 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 16.6371ms
2025-12-06 14:25:09.557 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:25:09.566 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 20.7264ms
2025-12-06 14:25:09.571 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 14:25:09.572 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:25:09.580 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:25:09.584 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:25:09.593 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 14:25:09.594 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:25:09.599 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 14:25:09.600 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:25:09.614 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 14:25:09.624 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 14:25:09.629 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 26.6018ms
2025-12-06 14:25:09.644 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 14:25:09.646 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 76.6397ms
2025-12-06 14:25:09.684 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:25:09.696 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:25:09.699 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 84.5365ms
2025-12-06 14:25:09.703 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:25:09.710 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 137.2213ms
2025-12-06 14:25:15.476 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 14:25:15.483 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:25:15.486 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - 204 null null 9.543ms
2025-12-06 14:25:15.495 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 14:25:15.499 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:25:15.500 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 14:25:15.502 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 14:25:15.510 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 14:25:15.521 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 14:25:15.531 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 14:25:15.533 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 26.1512ms
2025-12-06 14:25:15.536 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 14:25:15.540 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 44.2668ms
2025-12-06 14:25:59.029 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 14:25:59.037 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:25:59.039 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 13.7407ms
2025-12-06 14:25:59.043 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:25:59.045 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:25:59.047 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:25:59.049 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:25:59.055 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:25:59.066 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:25:59.068 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 15.7978ms
2025-12-06 14:25:59.070 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:25:59.076 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 33.0229ms
2025-12-06 14:25:59.135 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:25:59.146 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:25:59.172 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:25:59.175 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:25:59.188 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:25:59.194 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:25:59.198 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 14.3271ms
2025-12-06 14:25:59.202 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:25:59.205 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 70.8762ms
2025-12-06 14:31:11.190 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 14:31:11.202 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:31:11.205 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 14.9132ms
2025-12-06 14:31:11.211 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:31:11.216 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:31:11.218 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:31:11.219 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:31:11.284 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:31:11.290 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:31:11.291 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 68.5883ms
2025-12-06 14:31:11.293 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:31:11.294 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 83.4751ms
2025-12-06 14:31:11.310 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:31:11.312 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:31:11.314 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:31:11.315 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:31:11.325 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:31:11.330 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:31:11.331 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.3622ms
2025-12-06 14:31:11.336 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:31:11.338 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 27.7ms
2025-12-06 14:31:11.486 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:31:11.490 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:31:11.493 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:31:11.494 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:31:11.502 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:31:11.509 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:31:11.510 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 9.8444ms
2025-12-06 14:31:11.512 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:31:11.518 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 32.3644ms
2025-12-06 14:31:14.391 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 14:31:14.401 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:31:14.406 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:31:14.409 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:31:14.411 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 19.1645ms
2025-12-06 14:31:14.414 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:31:14.423 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 14:31:14.426 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:31:14.437 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:31:14.445 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 14:31:14.449 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:31:14.453 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 14:31:14.460 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:31:14.475 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 32.1145ms
2025-12-06 14:31:14.476 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:31:14.478 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 76.8181ms
2025-12-06 14:31:14.486 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 14:31:14.494 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 14:31:14.506 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 33.5568ms
2025-12-06 14:31:14.508 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 14:31:14.509 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 85.7167ms
2025-12-06 14:31:25.976 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 14:31:25.983 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:31:25.984 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - 204 null null 8.4433ms
2025-12-06 14:31:25.995 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 14:31:26.004 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:31:26.012 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 14:31:26.015 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 14:31:26.027 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 14:31:26.040 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 14:31:26.052 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 14:31:26.054 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 34.2329ms
2025-12-06 14:31:26.057 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 14:31:26.065 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 69.8145ms
2025-12-06 14:31:37.940 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 14:31:37.992 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:31:37.996 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 56.4118ms
2025-12-06 14:31:38.016 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:31:38.034 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:31:38.046 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:31:38.051 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:31:38.076 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:31:38.088 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:31:38.092 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 18.3752ms
2025-12-06 14:31:38.096 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:31:38.102 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 86.4786ms
2025-12-06 14:31:38.196 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:31:38.209 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:31:38.217 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:31:38.229 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:31:38.240 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:31:38.265 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:31:38.272 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 36.8687ms
2025-12-06 14:31:38.284 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:31:38.293 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 97.0102ms
2025-12-06 14:51:43.432 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 14:51:43.778 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 14:51:43.789 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 14:51:43.793 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 14:51:43.796 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 14:51:43.801 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-06 14:51:44.128 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-06 14:51:44.138 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-06 14:51:44.146 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-06 14:51:44.331 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 14:51:44.541 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-06 14:51:44.788 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 14:51:44.789 -03:00 [INF] Hosting environment: Development
2025-12-06 14:51:44.790 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-06 14:51:45.350 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 14:51:45.580 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 238.1201ms
2025-12-06 14:51:45.590 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 14:51:45.592 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 14:51:45.596 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 14:51:45.630 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 37.5874ms
2025-12-06 14:51:45.631 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 40.5738ms
2025-12-06 14:51:45.672 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.9772ms
2025-12-06 14:51:45.739 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 14:51:45.806 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.6559ms
2025-12-06 14:57:02.640 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 14:57:03.021 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:03.048 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 14:57:03.114 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 474.3446ms
2025-12-06 14:57:03.118 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:03.120 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 72.0902ms
2025-12-06 14:57:03.125 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:57:03.129 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:03.347 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:57:03.371 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:57:04.150 -03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:57:04.503 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:57:04.540 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 1156.8224ms
2025-12-06 14:57:04.543 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:57:04.547 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:57:04.557 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:04.561 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:57:04.563 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:57:04.567 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 1441.6032ms
2025-12-06 14:57:04.658 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:57:04.675 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:57:04.677 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 110.788ms
2025-12-06 14:57:04.679 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:57:04.681 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 137.9819ms
2025-12-06 14:57:04.688 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:57:04.691 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:04.697 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:57:04.702 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:57:04.716 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:57:04.741 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:57:04.751 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 41.9409ms
2025-12-06 14:57:04.756 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:57:04.758 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:57:04.761 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:04.765 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 76.6274ms
2025-12-06 14:57:04.771 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:57:04.776 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:57:04.802 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:57:04.809 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:57:04.822 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 32.5752ms
2025-12-06 14:57:04.839 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:57:04.842 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 86.6702ms
2025-12-06 14:57:06.669 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 14:57:06.671 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 14:57:06.675 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:06.676 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:06.677 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 8.3985ms
2025-12-06 14:57:06.681 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:57:06.684 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 14:57:06.686 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 14:57:06.689 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:06.693 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 14:57:06.695 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 14:57:06.700 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 14:57:06.703 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 11.1877ms
2025-12-06 14:57:06.705 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 14:57:06.707 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 36.0016ms
2025-12-06 14:57:06.709 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 14:57:06.860 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 14:57:06.946 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 14:57:06.975 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 262.7721ms
2025-12-06 14:57:06.979 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 14:57:06.981 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 296.4999ms
2025-12-06 14:57:20.909 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 14:57:20.916 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:20.917 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - 204 null null 9.4092ms
2025-12-06 14:57:20.924 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 14:57:20.929 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:20.930 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 14:57:20.941 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 14:57:20.985 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 14:57:21.012 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 14:57:21.020 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 14:57:21.024 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 70.9193ms
2025-12-06 14:57:21.026 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 14:57:21.029 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-30&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 104.2524ms
2025-12-06 14:57:47.539 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 14:57:47.544 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:47.545 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 6.02ms
2025-12-06 14:57:47.565 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 122
2025-12-06 14:57:47.571 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:47.573 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 14:57:47.577 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 14:57:47.630 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 14:57:47.643 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 14:57:47.775 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 14:57:47.806 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 14:57:47.838 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 258.5816ms
2025-12-06 14:57:47.841 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 14:57:47.842 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 276.8568ms
2025-12-06 14:57:47.855 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/7/dishes - null null
2025-12-06 14:57:47.873 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:47.876 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/7/dishes - 204 null null 21.1232ms
2025-12-06 14:57:47.889 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/7/dishes - null null
2025-12-06 14:57:47.894 -03:00 [INF] CORS policy execution successful.
2025-12-06 14:57:47.896 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 14:57:47.904 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 14:57:47.913 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 4.2489ms
2025-12-06 14:57:47.914 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 14:57:47.917 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Api.Services.Implementations.ReservationDishService' while attempting to activate 'Api.Controllers.ReservationDishesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method391(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-06 14:57:47.965 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/7/dishes - 500 null text/plain; charset=utf-8 76.1457ms
2025-12-06 15:13:11.104 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 15:13:11.433 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 15:13:11.444 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 15:13:11.446 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 15:13:11.448 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 15:13:11.454 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-06 15:13:11.685 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-06 15:13:11.695 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-06 15:13:11.704 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-06 15:13:11.834 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 15:13:12.000 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-06 15:13:12.225 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 15:13:12.229 -03:00 [INF] Hosting environment: Development
2025-12-06 15:13:12.239 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-06 15:13:12.447 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 15:13:12.761 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 320.3122ms
2025-12-06 15:13:12.763 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 15:13:12.823 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 15:13:12.827 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 15:13:12.832 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 68.4331ms
2025-12-06 15:13:12.841 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 13.7394ms
2025-12-06 15:13:12.872 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.9798ms
2025-12-06 15:13:12.923 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 15:13:12.973 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.4851ms
2025-12-06 15:13:32.470 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 15:13:32.476 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:13:32.480 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 9.7809ms
2025-12-06 15:13:32.484 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:13:32.488 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:13:32.633 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:13:32.651 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:13:32.902 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:13:33.002 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:13:33.015 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 356.0848ms
2025-12-06 15:13:33.019 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:13:33.026 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 542.5559ms
2025-12-06 15:13:35.799 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:13:35.800 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:13:35.807 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:13:35.813 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:13:35.814 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 15.0414ms
2025-12-06 15:13:35.817 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:13:35.820 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:13:35.822 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 15:13:35.826 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:13:35.836 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:13:35.851 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:13:35.906 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:13:35.911 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:13:35.914 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 91.2833ms
2025-12-06 15:13:35.916 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:13:35.917 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 116.7307ms
2025-12-06 15:13:36.001 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 15:13:36.083 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:13:36.104 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 249.0221ms
2025-12-06 15:13:36.107 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:13:36.108 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 286.2662ms
2025-12-06 15:13:59.934 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-24&startTime=20:00&endTime=21:00&guests=2 - null null
2025-12-06 15:13:59.939 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:13:59.941 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-24&startTime=20:00&endTime=21:00&guests=2 - 204 null null 6.7098ms
2025-12-06 15:13:59.947 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-24&startTime=20:00&endTime=21:00&guests=2 - null null
2025-12-06 15:13:59.952 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:13:59.956 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 15:13:59.961 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 15:13:59.988 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 15:14:00.017 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 15:14:00.023 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:14:00.028 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 63.7279ms
2025-12-06 15:14:00.030 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 15:14:00.032 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-24&startTime=20:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 85.3764ms
2025-12-06 15:14:12.691 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:14:12.704 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:14:12.705 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 14.4042ms
2025-12-06 15:14:12.710 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 104
2025-12-06 15:14:12.715 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:14:12.717 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:14:12.721 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:14:12.772 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 15:14:12.786 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 15:14:12.917 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 15:14:12.943 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 15:14:12.965 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 241.0093ms
2025-12-06 15:14:12.993 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:14:12.994 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 284.7497ms
2025-12-06 15:14:13.001 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/8/dishes - null null
2025-12-06 15:14:13.007 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:14:13.008 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/8/dishes - 204 null null 6.7494ms
2025-12-06 15:14:13.015 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/8/dishes - null null
2025-12-06 15:14:13.022 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:14:13.024 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:14:13.028 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 15:14:13.034 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 4.632ms
2025-12-06 15:14:13.038 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:14:13.043 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Api.Services.Implementations.ReservationDishService' while attempting to activate 'Api.Controllers.ReservationDishesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method391(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-06 15:14:13.079 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/8/dishes - 500 null text/plain; charset=utf-8 63.8491ms
2025-12-06 15:16:55.335 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 15:16:55.693 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 15:16:55.704 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 15:16:55.707 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 15:16:55.709 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 15:16:55.714 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-06 15:16:55.951 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-06 15:16:55.962 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-06 15:16:55.970 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-06 15:16:56.115 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 15:16:56.343 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-06 15:16:56.560 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 15:16:56.565 -03:00 [INF] Hosting environment: Development
2025-12-06 15:16:56.568 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-06 15:16:57.097 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 15:16:57.381 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 292.0662ms
2025-12-06 15:16:57.388 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 15:16:57.394 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 15:16:57.404 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 15:16:57.409 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 20.6051ms
2025-12-06 15:16:57.414 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 10.1177ms
2025-12-06 15:16:57.465 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.8166ms
2025-12-06 15:16:57.516 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 15:16:57.568 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.311ms
2025-12-06 15:17:14.444 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 15:17:14.456 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:17:14.461 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 16.9019ms
2025-12-06 15:17:14.463 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:17:14.468 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:17:14.596 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:17:14.612 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:17:14.853 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:17:14.949 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:17:14.961 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 341.3752ms
2025-12-06 15:17:14.964 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:17:14.971 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 507.14ms
2025-12-06 15:17:16.937 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:17:16.946 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:17:16.959 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:17:16.960 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:17:16.962 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:17:16.965 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 31.4042ms
2025-12-06 15:17:16.966 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:17:16.976 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 15:17:16.979 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:17:16.983 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:17:16.999 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:17:17.059 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:17:17.064 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:17:17.065 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 87.7618ms
2025-12-06 15:17:17.067 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:17:17.071 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 125.9602ms
2025-12-06 15:17:17.159 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 15:17:17.236 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:17:17.256 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 250.1249ms
2025-12-06 15:17:17.259 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:17:17.261 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 284.8822ms
2025-12-06 15:17:29.282 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2026-03-19&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 15:17:29.286 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:17:29.287 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2026-03-19&startTime=19:00&endTime=21:00&guests=2 - 204 null null 5.0742ms
2025-12-06 15:17:29.291 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2026-03-19&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 15:17:29.294 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:17:29.296 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 15:17:29.301 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 15:17:29.326 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 15:17:29.353 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 15:17:29.361 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:17:29.365 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 60.9664ms
2025-12-06 15:17:29.367 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 15:17:29.368 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2026-03-19&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 77.0999ms
2025-12-06 15:17:39.686 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:17:39.692 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:17:39.694 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 8.0664ms
2025-12-06 15:17:39.701 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 129
2025-12-06 15:17:39.703 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:17:39.705 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:17:39.709 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:17:39.758 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 15:17:39.770 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 15:17:39.909 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 15:17:39.937 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 15:17:39.964 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 249.8539ms
2025-12-06 15:17:39.967 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:17:39.969 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 267.8602ms
2025-12-06 15:17:39.975 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/9/dishes - null null
2025-12-06 15:17:39.981 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:17:39.982 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/9/dishes - 204 null null 6.6857ms
2025-12-06 15:17:39.987 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/9/dishes - null null
2025-12-06 15:17:39.989 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:17:39.991 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:17:40.001 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 15:17:40.029 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 15:17:40.033 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:17:40.034 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 28.1713ms
2025-12-06 15:17:40.036 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:17:40.037 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/9/dishes - 200 null application/json; charset=utf-8 50.242ms
2025-12-06 15:26:15.002 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/dishes - null null
2025-12-06 15:26:15.006 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:26:15.008 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/dishes - 204 null null 6.6206ms
2025-12-06 15:26:15.015 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/dishes - null null
2025-12-06 15:26:15.054 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:26:15.055 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/dishes - 404 0 null 40.0502ms
2025-12-06 15:26:15.060 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5231/api/dishes, Response status code: 404
2025-12-06 15:26:24.518 -03:00 [INF] Application is shutting down...
2025-12-06 15:26:44.947 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 15:26:45.296 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 15:26:45.309 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 15:26:45.312 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 15:26:45.314 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 15:26:45.320 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-06 15:26:45.587 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-06 15:26:45.597 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-06 15:26:45.605 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-06 15:26:45.768 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 15:26:45.946 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-06 15:26:46.024 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 15:26:46.029 -03:00 [INF] Hosting environment: Development
2025-12-06 15:26:46.030 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-06 15:26:46.559 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 15:26:46.801 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 250.0359ms
2025-12-06 15:26:46.804 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 15:26:46.811 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 15:26:46.828 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 15:26:46.832 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 28.7286ms
2025-12-06 15:26:46.838 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 10.1045ms
2025-12-06 15:26:46.868 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.4474ms
2025-12-06 15:26:46.919 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 15:26:46.970 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.7229ms
2025-12-06 15:27:00.986 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 15:27:00.999 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:27:01.003 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 16.4405ms
2025-12-06 15:27:01.007 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:27:01.011 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:27:01.142 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:27:01.159 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:27:01.398 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:27:01.499 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:27:01.510 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 345.1409ms
2025-12-06 15:27:01.514 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:27:01.521 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 514.2731ms
2025-12-06 15:27:10.512 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:27:10.514 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 15:27:10.524 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:27:10.527 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:27:10.529 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 16.7644ms
2025-12-06 15:27:10.530 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 16.5847ms
2025-12-06 15:27:10.542 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 15:27:10.545 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:27:10.549 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:27:10.552 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:27:10.555 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:27:10.555 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:27:10.564 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:27:10.578 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:27:10.679 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:27:10.686 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:27:10.687 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 115.6288ms
2025-12-06 15:27:10.688 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:27:10.690 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 145.0003ms
2025-12-06 15:27:10.759 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 15:27:10.841 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:27:10.868 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 285.3055ms
2025-12-06 15:27:10.872 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:27:10.873 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 331.0579ms
2025-12-06 15:27:25.755 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2026-04-17&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 15:27:25.759 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:27:25.761 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2026-04-17&startTime=19:00&endTime=21:00&guests=2 - 204 null null 5.7077ms
2025-12-06 15:27:25.765 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2026-04-17&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 15:27:25.768 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:27:25.771 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 15:27:25.777 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 15:27:25.803 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 15:27:25.833 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 15:27:25.840 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:27:25.844 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 64.3795ms
2025-12-06 15:27:25.846 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 15:27:25.848 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2026-04-17&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 82.7333ms
2025-12-06 15:27:33.985 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:27:33.989 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:27:33.993 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 8.1204ms
2025-12-06 15:27:34.000 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 111
2025-12-06 15:27:34.002 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:27:34.004 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:27:34.009 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:27:34.049 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 15:27:34.063 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 15:27:34.201 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 15:27:34.227 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 15:27:34.244 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 231.6576ms
2025-12-06 15:27:34.247 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:27:34.249 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 248.9735ms
2025-12-06 15:27:34.255 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/10/dishes - null null
2025-12-06 15:27:34.261 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:27:34.262 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/10/dishes - 204 null null 6.611ms
2025-12-06 15:27:34.266 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/10/dishes - null null
2025-12-06 15:27:34.305 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/dishes - null null
2025-12-06 15:27:34.312 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:27:34.314 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:27:34.315 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:27:34.316 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/dishes - 204 null null 47.5301ms
2025-12-06 15:27:34.320 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 15:27:34.320 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/dishes - null null
2025-12-06 15:27:34.329 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:27:34.330 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/dishes - 404 0 null 9.6552ms
2025-12-06 15:27:34.334 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5231/api/dishes, Response status code: 404
2025-12-06 15:27:34.349 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 15:27:34.355 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:27:34.361 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 37.9946ms
2025-12-06 15:27:34.365 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:27:34.369 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/10/dishes - 200 null application/json; charset=utf-8 103.3726ms
2025-12-06 15:29:46.417 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 15:29:46.423 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:29:46.426 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 15:29:46.445 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 15:29:46.470 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:29:46.477 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 46.9272ms
2025-12-06 15:29:46.480 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:29:46.482 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 65.4447ms
2025-12-06 15:31:15.957 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-06 15:31:15.960 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:31:15.962 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 7.8223ms
2025-12-06 15:31:15.965 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 15:31:15.969 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:31:15.970 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:31:15.972 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 15:31:15.988 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 15:31:15.996 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:31:16.000 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 25.4687ms
2025-12-06 15:31:16.002 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:31:16.005 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 39.7599ms
2025-12-06 15:31:25.675 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:31:25.683 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:31:25.685 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 10.1545ms
2025-12-06 15:31:25.689 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 111
2025-12-06 15:31:25.693 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:31:25.694 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:31:25.696 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:31:25.705 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 15:31:25.895 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-06 15:31:25.897 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 198.1409ms
2025-12-06 15:31:25.898 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:31:25.900 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 400 null text/plain; charset=utf-8 210.1604ms
2025-12-06 15:31:29.448 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 111
2025-12-06 15:31:29.453 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:31:29.454 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:31:29.454 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:31:29.460 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 15:31:29.569 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-06 15:31:29.570 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 112.9902ms
2025-12-06 15:31:29.572 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:31:29.573 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 400 null text/plain; charset=utf-8 124.7653ms
2025-12-06 15:31:30.251 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 111
2025-12-06 15:31:30.257 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:31:30.258 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:31:30.262 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:31:30.268 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 15:31:30.367 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-12-06 15:31:30.370 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 103.3595ms
2025-12-06 15:31:30.371 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:31:30.372 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 400 null text/plain; charset=utf-8 121.3759ms
2025-12-06 15:31:33.496 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:31:33.503 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:31:33.504 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 7.6863ms
2025-12-06 15:31:33.507 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 111
2025-12-06 15:31:33.512 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:31:33.514 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:31:33.515 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:31:33.520 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 15:31:33.524 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 15:31:33.539 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 15:31:33.547 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 15:31:33.552 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 33.7753ms
2025-12-06 15:31:33.553 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:31:33.554 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 47.0881ms
2025-12-06 15:31:33.560 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/11/dishes - null null
2025-12-06 15:31:33.564 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:31:33.565 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/11/dishes - 204 null null 4.7143ms
2025-12-06 15:31:33.569 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-06 15:31:33.572 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/11/dishes - null null
2025-12-06 15:31:33.574 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:31:33.579 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:31:33.581 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 11.8869ms
2025-12-06 15:31:33.582 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:31:33.587 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 15:31:33.588 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 15:31:33.590 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:31:33.594 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:31:33.595 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 15:31:33.596 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 15:31:33.600 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:31:33.603 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 10.9287ms
2025-12-06 15:31:33.603 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 15:31:33.610 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:31:33.614 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:31:33.615 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/11/dishes - 200 null application/json; charset=utf-8 42.791ms
2025-12-06 15:31:33.617 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 14.8868ms
2025-12-06 15:31:33.621 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:31:33.622 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 35.6876ms
2025-12-06 15:31:56.454 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 15:31:56.791 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 15:31:56.801 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 15:31:56.803 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 15:31:56.805 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 15:31:56.810 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-06 15:31:57.057 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-06 15:31:57.067 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-06 15:31:57.076 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-06 15:31:57.208 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 15:31:57.384 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-06 15:31:57.602 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 15:31:57.604 -03:00 [INF] Hosting environment: Development
2025-12-06 15:31:57.605 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-06 15:31:57.963 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 15:31:58.212 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 255.3019ms
2025-12-06 15:31:58.221 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 15:31:58.266 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 15:31:58.272 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 15:31:58.277 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 56.2792ms
2025-12-06 15:31:58.282 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 9.7287ms
2025-12-06 15:31:58.321 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.4916ms
2025-12-06 15:31:58.376 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 15:31:58.431 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.2996ms
2025-12-06 15:32:21.183 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-06 15:32:21.189 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:32:21.192 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 8.3405ms
2025-12-06 15:32:21.196 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-06 15:32:21.200 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:32:21.261 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 15:32:21.281 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-06 15:32:21.512 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-06 15:32:22.068 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 15:32:22.109 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 15:32:22.126 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-06 15:32:22.136 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 848.2037ms
2025-12-06 15:32:22.138 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 15:32:22.146 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 949.7521ms
2025-12-06 15:32:22.180 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 15:32:22.224 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:32:22.232 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:32:22.235 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:32:22.235 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 55.2053ms
2025-12-06 15:32:22.236 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 12.152ms
2025-12-06 15:32:22.239 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 15:32:22.241 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:32:22.247 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:32:22.249 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:32:22.316 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:32:22.316 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:32:22.321 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:32:22.322 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:32:22.419 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:32:22.426 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:32:22.429 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 106.0359ms
2025-12-06 15:32:22.431 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:32:22.433 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 191.6318ms
2025-12-06 15:32:22.481 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 15:32:22.560 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:32:22.581 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 252.8359ms
2025-12-06 15:32:22.583 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:32:22.585 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 346.3585ms
2025-12-06 15:32:33.677 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-24&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 15:32:33.684 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:32:33.685 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-24&startTime=19:00&endTime=21:00&guests=2 - 204 null null 7.759ms
2025-12-06 15:32:33.690 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-24&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 15:32:33.693 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:32:33.697 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 15:32:33.702 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 15:32:33.731 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 15:32:33.766 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 15:32:33.773 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:32:33.777 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 70.8685ms
2025-12-06 15:32:33.780 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 15:32:33.781 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-24&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 91.8812ms
2025-12-06 15:32:42.183 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:32:42.194 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:32:42.195 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 13.0482ms
2025-12-06 15:32:42.204 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 113
2025-12-06 15:32:42.210 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:32:42.211 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:32:42.215 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:32:42.251 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 15:32:42.265 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 15:32:42.336 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 15:32:42.358 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 15:32:42.379 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 153.7701ms
2025-12-06 15:32:42.383 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:32:42.387 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 182.8292ms
2025-12-06 15:32:42.399 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/12/dishes - null null
2025-12-06 15:32:42.403 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:32:42.404 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-06 15:32:42.406 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/12/dishes - 204 null null 7.2792ms
2025-12-06 15:32:42.408 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:32:42.413 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/12/dishes - null null
2025-12-06 15:32:42.415 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 11.5053ms
2025-12-06 15:32:42.419 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:32:42.426 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 15:32:42.428 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:32:42.430 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:32:42.432 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:32:42.434 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 15:32:42.436 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 15:32:42.448 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 15:32:42.480 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:32:42.485 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 44.4131ms
2025-12-06 15:32:42.486 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:32:42.488 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 61.3478ms
2025-12-06 15:32:42.520 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 15:32:42.524 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:32:42.525 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 88.7258ms
2025-12-06 15:32:42.526 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:32:42.527 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/12/dishes - 200 null application/json; charset=utf-8 114.1372ms
2025-12-06 15:35:21.948 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-06 15:35:21.955 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:21.957 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 8.9354ms
2025-12-06 15:35:21.961 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 15:35:21.965 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:21.967 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:35:21.969 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 15:35:21.972 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 15:35:21.976 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:35:21.978 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 7.3919ms
2025-12-06 15:35:21.979 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:35:21.983 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 21.6017ms
2025-12-06 15:35:31.748 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 15:35:31.752 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:31.753 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 5.2506ms
2025-12-06 15:35:31.757 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:35:31.759 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:31.762 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:35:31.764 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:35:31.776 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:35:31.781 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:35:31.782 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 14.7842ms
2025-12-06 15:35:31.784 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:35:31.784 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 27.4735ms
2025-12-06 15:35:33.334 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:35:33.375 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:35:33.387 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:33.390 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:33.391 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 56.7736ms
2025-12-06 15:35:33.392 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:35:33.395 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 15:35:33.397 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:35:33.401 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:33.406 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:35:33.406 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:35:33.411 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:35:33.409 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:35:33.420 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 15.6375ms
2025-12-06 15:35:33.421 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:35:33.424 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 82.5494ms
2025-12-06 15:35:33.430 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 15:35:33.434 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:35:33.437 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 19.6395ms
2025-12-06 15:35:33.438 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:35:33.439 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 43.7761ms
2025-12-06 15:35:41.282 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-31&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 15:35:41.287 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:41.288 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-31&startTime=19:00&endTime=21:00&guests=2 - 204 null null 6.6412ms
2025-12-06 15:35:41.294 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-31&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 15:35:41.299 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:41.300 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 15:35:41.301 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 15:35:41.306 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 15:35:41.311 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 15:35:41.315 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:35:41.317 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 13.3116ms
2025-12-06 15:35:41.319 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 15:35:41.320 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-31&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 26.1095ms
2025-12-06 15:35:52.252 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:35:52.265 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:52.267 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 15.2974ms
2025-12-06 15:35:52.276 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 123
2025-12-06 15:35:52.279 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:52.280 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:35:52.281 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:35:52.285 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 15:35:52.292 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 15:35:52.308 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 15:35:52.314 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 15:35:52.316 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 32.162ms
2025-12-06 15:35:52.317 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:35:52.319 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 42.3836ms
2025-12-06 15:35:52.325 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/13/dishes - null null
2025-12-06 15:35:52.329 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:52.331 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/13/dishes - 204 null null 6.3226ms
2025-12-06 15:35:52.334 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/13/dishes - null null
2025-12-06 15:35:52.338 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-06 15:35:52.339 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:52.341 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:52.343 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:35:52.344 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 6.0481ms
2025-12-06 15:35:52.345 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 15:35:52.349 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 15:35:52.356 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 15:35:52.357 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:35:52.361 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:35:52.362 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:35:52.364 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 11.2501ms
2025-12-06 15:35:52.365 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 15:35:52.366 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:35:52.369 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/13/dishes - 200 null application/json; charset=utf-8 34.3133ms
2025-12-06 15:35:52.370 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 15:35:52.376 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:35:52.377 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 9.7363ms
2025-12-06 15:35:52.379 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:35:52.380 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 30.5737ms
2025-12-06 15:36:12.275 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/13/dishes - null null
2025-12-06 15:36:12.279 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:36:12.283 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/13/dishes - 204 null null 8.6113ms
2025-12-06 15:36:12.290 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/13/dishes - application/json 25
2025-12-06 15:36:12.293 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:36:12.295 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 15:36:12.309 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 15:36:12.334 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 15:36:12.359 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-06 15:36:12.367 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 15:36:12.368 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 46.6701ms
2025-12-06 15:36:12.370 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 15:36:12.371 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/13/dishes - 204 null null 81.6893ms
2025-12-06 15:36:12.377 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/13/dishes - null null
2025-12-06 15:36:12.380 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:36:12.381 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:36:12.382 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 15:36:12.386 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 15:36:12.393 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:36:12.396 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 11.2469ms
2025-12-06 15:36:12.398 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:36:12.399 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/13/dishes - 200 null application/json; charset=utf-8 21.6463ms
2025-12-06 15:36:12.407 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/13/dishes - application/json 25
2025-12-06 15:36:12.410 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:36:12.411 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 15:36:12.414 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 15:36:12.421 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 15:36:12.428 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-06 15:36:12.439 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 15:36:12.442 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 22.9616ms
2025-12-06 15:36:12.444 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 15:36:12.445 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/13/dishes - 204 null null 38.6422ms
2025-12-06 15:36:12.454 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/13/dishes - null null
2025-12-06 15:36:12.457 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:36:12.458 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:36:12.459 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 15:36:12.462 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 15:36:12.468 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:36:12.470 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 8.9725ms
2025-12-06 15:36:12.471 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:36:12.473 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/13/dishes - 200 null application/json; charset=utf-8 18.5214ms
2025-12-06 15:36:12.482 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/13/dishes - application/json 25
2025-12-06 15:36:12.486 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:36:12.488 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 15:36:12.489 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 15:36:12.493 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 15:36:12.501 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-06 15:36:12.505 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 15:36:12.506 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 14.149ms
2025-12-06 15:36:12.507 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 15:36:12.508 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/13/dishes - 204 null null 26.4701ms
2025-12-06 15:36:12.518 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/13/dishes - null null
2025-12-06 15:36:12.522 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:36:12.523 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:36:12.524 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 15:36:12.537 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 15:36:12.542 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:36:12.544 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 17.2585ms
2025-12-06 15:36:12.547 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:36:12.549 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/13/dishes - 200 null application/json; charset=utf-8 31.1123ms
2025-12-06 15:36:12.573 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:36:12.584 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:36:12.587 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 14.0815ms
2025-12-06 15:36:12.594 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 15:36:12.599 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:36:12.601 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:36:12.604 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:36:12.608 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 15:36:12.614 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:36:12.618 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 11.6232ms
2025-12-06 15:36:12.620 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:36:12.621 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 26.9858ms
2025-12-06 15:36:26.530 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/13 - null null
2025-12-06 15:36:26.544 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:36:26.546 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/13 - 204 null null 15.4368ms
2025-12-06 15:36:26.551 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/13 - null null
2025-12-06 15:36:26.553 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:36:26.554 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-06 15:36:26.555 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-06 15:36:26.556 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/13 - 405 0 null 5.1073ms
2025-12-06 15:36:32.071 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:36:32.079 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:36:32.083 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 13.1484ms
2025-12-06 15:36:32.120 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 15:36:32.139 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:36:32.141 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:36:32.143 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:36:32.147 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 15:36:32.151 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:36:32.153 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 7.8659ms
2025-12-06 15:36:32.155 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:36:32.156 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 36.335ms
2025-12-06 15:44:42.758 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 15:44:42.761 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:44:42.762 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 4.1766ms
2025-12-06 15:44:42.765 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:44:42.768 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:44:42.770 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:44:42.771 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:44:42.824 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:44:42.828 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:44:42.829 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 55.4807ms
2025-12-06 15:44:42.831 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:44:42.832 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 67.2049ms
2025-12-06 15:44:44.292 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:44:44.334 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:44:44.343 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:44:44.347 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:44:44.348 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 55.9295ms
2025-12-06 15:44:44.350 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:44:44.358 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:44:44.354 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 15:44:44.365 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:44:44.366 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:44:44.369 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:44:44.370 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:44:44.371 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.7042ms
2025-12-06 15:44:44.376 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:44:44.377 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:44:44.383 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 48.9056ms
2025-12-06 15:44:44.387 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 15:44:44.397 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:44:44.400 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 19.5236ms
2025-12-06 15:44:44.402 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:44:44.403 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 48.4608ms
2025-12-06 15:44:52.655 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2026-03-18&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 15:44:52.659 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:44:52.660 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2026-03-18&startTime=19:00&endTime=21:00&guests=2 - 204 null null 5.5838ms
2025-12-06 15:44:52.664 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2026-03-18&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 15:44:52.667 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:44:52.668 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 15:44:52.670 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 15:44:52.674 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 15:44:52.678 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 15:44:52.681 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:44:52.682 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 10.4639ms
2025-12-06 15:44:52.684 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 15:44:52.685 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2026-03-18&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 20.8722ms
2025-12-06 15:45:09.823 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:45:09.854 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:45:09.855 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 32.4758ms
2025-12-06 15:45:09.859 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 132
2025-12-06 15:45:09.863 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:45:09.865 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:45:09.867 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:45:09.873 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 15:45:09.878 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 15:45:09.893 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 15:45:09.905 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 15:45:09.908 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 37.3913ms
2025-12-06 15:45:09.912 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:45:09.919 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 59.8557ms
2025-12-06 15:45:09.935 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/14/dishes - null null
2025-12-06 15:45:09.938 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-06 15:45:09.943 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:45:09.941 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:45:09.947 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/14/dishes - 204 null null 11.7817ms
2025-12-06 15:45:09.945 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 6.3619ms
2025-12-06 15:45:09.993 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 15:45:09.996 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:45:09.993 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/14/dishes - null null
2025-12-06 15:45:09.997 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:45:09.999 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:45:10.000 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 15:45:10.001 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:45:10.003 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 15:45:10.004 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 15:45:10.010 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:45:10.014 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 11.0039ms
2025-12-06 15:45:10.023 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:45:10.025 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 31.3978ms
2025-12-06 15:45:10.063 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 15:45:10.066 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:45:10.068 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 62.2212ms
2025-12-06 15:45:10.069 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:45:10.070 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/14/dishes - 200 null application/json; charset=utf-8 108.9793ms
2025-12-06 15:46:12.664 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 15:46:12.669 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:46:12.669 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 5.4777ms
2025-12-06 15:46:12.672 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:46:12.674 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:46:12.677 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:46:12.678 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:46:12.682 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:46:12.685 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:46:12.687 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.589ms
2025-12-06 15:46:12.688 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:46:12.689 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 17.2611ms
2025-12-06 15:46:12.732 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:46:12.737 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:46:12.739 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:46:12.749 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:46:12.758 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:46:12.766 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:46:12.767 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 15.6244ms
2025-12-06 15:46:12.769 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:46:12.770 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 37.7148ms
2025-12-06 15:48:49.286 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 15:48:49.318 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:48:49.319 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 32.1745ms
2025-12-06 15:48:49.323 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:48:49.325 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:48:49.326 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:48:49.328 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:48:49.331 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:48:49.334 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:48:49.336 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 6.2069ms
2025-12-06 15:48:49.338 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:48:49.339 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 15.7594ms
2025-12-06 15:48:49.382 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:48:49.384 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:48:49.386 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:48:49.392 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:48:49.416 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:48:49.418 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:48:49.420 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.6924ms
2025-12-06 15:48:49.426 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:48:49.427 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 45.4064ms
2025-12-06 15:58:20.481 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 15:58:20.485 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:58:20.486 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 33.7559ms
2025-12-06 15:58:20.490 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:58:20.492 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:58:20.494 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:58:20.497 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:58:20.561 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:58:20.566 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:58:20.567 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 68.6151ms
2025-12-06 15:58:20.568 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:58:20.570 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 80.1526ms
2025-12-06 15:58:23.353 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:58:23.369 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 15:58:23.372 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:58:23.378 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 25.1385ms
2025-12-06 15:58:23.375 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:58:23.386 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:58:23.392 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 15:58:23.387 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 15:58:23.415 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 15:58:23.417 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:58:23.422 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 15:58:23.424 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:58:23.431 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 21.0101ms
2025-12-06 15:58:23.433 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:58:23.438 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 15:58:23.448 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 79.057ms
2025-12-06 15:58:23.455 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 15:58:23.471 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:58:23.482 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 35.3738ms
2025-12-06 15:58:23.485 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 15:58:23.488 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 100.885ms
2025-12-06 15:58:34.736 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-14&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 15:58:34.745 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:58:34.747 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-14&startTime=19:00&endTime=21:00&guests=2 - 204 null null 10.6117ms
2025-12-06 15:58:34.753 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-14&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 15:58:34.758 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:58:34.763 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 15:58:34.764 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 15:58:34.769 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 15:58:34.774 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 15:58:34.780 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:58:34.783 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 15.1587ms
2025-12-06 15:58:34.784 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 15:58:34.786 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-14&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 32.9698ms
2025-12-06 15:58:58.817 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 15:58:58.825 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:58:58.827 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 10.1603ms
2025-12-06 15:58:58.835 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 104
2025-12-06 15:58:58.839 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:58:58.840 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:58:58.841 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 15:58:58.851 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 15:58:58.858 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 15:58:58.871 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 15:58:58.876 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 15:58:58.883 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 34.6095ms
2025-12-06 15:58:58.886 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 15:58:58.888 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 53.4407ms
2025-12-06 15:58:58.895 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/15/dishes - null null
2025-12-06 15:58:58.928 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-06 15:58:58.932 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:58:58.934 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:58:58.936 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/15/dishes - 204 null null 40.343ms
2025-12-06 15:58:58.937 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 11.7016ms
2025-12-06 15:58:58.942 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/15/dishes - null null
2025-12-06 15:58:58.952 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 15:58:58.957 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:58:58.959 -03:00 [INF] CORS policy execution successful.
2025-12-06 15:58:58.961 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:58:58.964 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:58:58.966 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 15:58:58.968 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 15:58:58.978 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 15:58:58.989 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:58:58.992 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 18.7727ms
2025-12-06 15:58:58.994 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 15:58:58.995 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/15/dishes - 200 null application/json; charset=utf-8 52.6034ms
2025-12-06 15:58:59.038 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 15:58:59.040 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 15:58:59.042 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 64.751ms
2025-12-06 15:58:59.043 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 15:58:59.044 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 92.2957ms
2025-12-06 16:00:37.954 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-06 16:00:37.965 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:00:37.967 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 12.3777ms
2025-12-06 16:00:37.973 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 16:00:37.977 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:00:37.980 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 16:00:37.987 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 16:00:37.993 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 16:00:37.997 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:00:38.003 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 11.2535ms
2025-12-06 16:00:38.006 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 16:00:38.008 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 35.6503ms
2025-12-06 16:05:42.970 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-06 16:05:42.974 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:05:42.977 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 7.2589ms
2025-12-06 16:05:42.982 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 16:05:42.988 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:05:42.990 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 16:05:42.994 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 16:05:43.051 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 16:05:43.055 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:05:43.057 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 59.8797ms
2025-12-06 16:05:43.059 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 16:05:43.061 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 78.8229ms
2025-12-06 16:06:52.955 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-06 16:06:52.961 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:06:52.965 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 12.9697ms
2025-12-06 16:06:52.970 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 16:06:52.973 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:06:52.978 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 16:06:52.979 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 16:06:52.987 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 16:06:52.992 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:06:52.998 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 13.9176ms
2025-12-06 16:06:52.999 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 16:06:53.002 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 31.9689ms
2025-12-06 16:07:31.602 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/15 - null null
2025-12-06 16:07:31.612 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:07:31.614 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/15 - 204 null null 12.1659ms
2025-12-06 16:07:31.618 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5231/api/reservations/15 - null null
2025-12-06 16:07:31.624 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:07:31.627 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Delete (Api)'
2025-12-06 16:07:31.634 -03:00 [INF] Route matched with {action = "Delete", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:07:31.681 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-12-06 16:07:31.692 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-12-06 16:07:31.712 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Reservations"
WHERE "Id" = @p0;
2025-12-06 16:07:31.722 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:07:31.725 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Delete (Api) in 78.2579ms
2025-12-06 16:07:31.728 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Delete (Api)'
2025-12-06 16:07:31.731 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5231/api/reservations/15 - 204 null null 112.5117ms
2025-12-06 16:08:18.161 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 16:08:18.166 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:18.167 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 9.8023ms
2025-12-06 16:08:18.171 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:08:18.182 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:18.184 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:08:18.185 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:08:18.193 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:08:18.197 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:08:18.199 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.2801ms
2025-12-06 16:08:18.201 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:08:18.203 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 31.7843ms
2025-12-06 16:08:18.253 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:08:18.261 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:18.267 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:08:18.275 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:08:18.283 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:08:18.289 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:08:18.291 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.2443ms
2025-12-06 16:08:18.293 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:08:18.294 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 40.9639ms
2025-12-06 16:08:20.882 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:08:20.900 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:20.902 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:08:20.903 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:08:20.909 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:08:20.912 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:08:20.916 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.9397ms
2025-12-06 16:08:20.919 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:08:20.921 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 38.9064ms
2025-12-06 16:08:20.969 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:08:20.980 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:20.983 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:08:20.985 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:08:20.999 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:08:21.004 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:08:21.007 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 9.1496ms
2025-12-06 16:08:21.012 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:08:21.014 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 44.452ms
2025-12-06 16:08:22.559 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:08:22.563 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:22.564 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:08:22.566 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:08:22.577 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:08:22.581 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:08:22.583 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 7.8851ms
2025-12-06 16:08:22.589 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:08:22.591 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 32.5418ms
2025-12-06 16:08:22.648 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:08:22.660 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:22.699 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:08:22.703 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:08:22.715 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:08:22.746 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:08:22.762 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 50.3197ms
2025-12-06 16:08:22.767 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:08:22.771 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 123.5109ms
2025-12-06 16:08:28.707 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 16:08:28.711 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:28.712 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 5.7967ms
2025-12-06 16:08:28.723 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 104
2025-12-06 16:08:28.730 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:28.732 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 16:08:28.736 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:08:28.744 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 16:08:28.756 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 16:08:28.774 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 16:08:28.781 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 16:08:28.782 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 40.9002ms
2025-12-06 16:08:28.786 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 16:08:28.792 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 69.7032ms
2025-12-06 16:08:28.807 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/16/dishes - null null
2025-12-06 16:08:28.815 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-06 16:08:28.823 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:28.821 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:28.825 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 10.2903ms
2025-12-06 16:08:28.826 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/16/dishes - 204 null null 18.76ms
2025-12-06 16:08:28.841 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - null null
2025-12-06 16:08:28.844 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:28.829 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 16:08:28.847 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:08:28.849 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:28.855 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:08:28.858 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 16:08:28.862 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 16:08:28.862 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:08:28.875 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:08:28.877 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 15.7232ms
2025-12-06 16:08:28.878 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:08:28.880 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - 200 null application/json; charset=utf-8 38.4283ms
2025-12-06 16:08:28.932 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 16:08:28.938 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:08:28.941 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 76.3389ms
2025-12-06 16:08:28.943 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 16:08:28.946 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 116.2433ms
2025-12-06 16:08:54.753 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/16/dishes - null null
2025-12-06 16:08:54.756 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:54.758 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/16/dishes - 204 null null 39.7529ms
2025-12-06 16:08:54.763 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/16/dishes - application/json 25
2025-12-06 16:08:54.766 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:54.767 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:08:54.770 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:08:54.776 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 16:08:54.791 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-06 16:08:54.798 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:08:54.800 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 26.059ms
2025-12-06 16:08:54.802 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:08:54.804 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/16/dishes - 204 null null 40.3564ms
2025-12-06 16:08:54.810 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - null null
2025-12-06 16:08:54.813 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:54.816 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:08:54.818 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:08:54.826 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:08:54.830 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:08:54.834 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 10.0779ms
2025-12-06 16:08:54.837 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:08:54.839 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - 200 null application/json; charset=utf-8 29.4563ms
2025-12-06 16:08:54.849 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/16/dishes - application/json 25
2025-12-06 16:08:54.857 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:54.862 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:08:54.866 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:08:54.881 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 16:08:54.921 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-06 16:08:54.930 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:08:54.932 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 58.9546ms
2025-12-06 16:08:54.934 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:08:54.946 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/16/dishes - 204 null null 96.9305ms
2025-12-06 16:08:54.958 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - null null
2025-12-06 16:08:54.963 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:54.965 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:08:54.966 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:08:54.972 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:08:54.983 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:08:54.984 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 14.7728ms
2025-12-06 16:08:54.986 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:08:54.987 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - 200 null application/json; charset=utf-8 28.6442ms
2025-12-06 16:08:54.997 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/16/dishes - application/json 25
2025-12-06 16:08:55.000 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:55.006 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:08:55.010 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:08:55.037 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 16:08:55.051 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-06 16:08:55.056 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:08:55.056 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 21.9652ms
2025-12-06 16:08:55.058 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:08:55.060 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/16/dishes - 204 null null 63.1918ms
2025-12-06 16:08:55.069 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - null null
2025-12-06 16:08:55.071 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:55.072 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:08:55.073 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:08:55.078 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:08:55.086 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:08:55.088 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 10.9856ms
2025-12-06 16:08:55.090 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:08:55.092 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - 200 null application/json; charset=utf-8 23.4736ms
2025-12-06 16:08:55.105 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/16/dishes - application/json 25
2025-12-06 16:08:55.114 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:55.117 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:08:55.119 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:08:55.134 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 16:08:55.139 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-06 16:08:55.143 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:08:55.149 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 19.3066ms
2025-12-06 16:08:55.151 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:08:55.153 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/16/dishes - 204 null null 47.6427ms
2025-12-06 16:08:55.161 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - null null
2025-12-06 16:08:55.163 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:55.165 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:08:55.166 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:08:55.172 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:08:55.184 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:08:55.186 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 16.5412ms
2025-12-06 16:08:55.187 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:08:55.190 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - 200 null application/json; charset=utf-8 29.5602ms
2025-12-06 16:08:55.206 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/16/dishes - application/json 25
2025-12-06 16:08:55.219 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:55.222 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:08:55.224 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:08:55.235 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 16:08:55.242 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-06 16:08:55.246 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:08:55.251 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 17.703ms
2025-12-06 16:08:55.254 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:08:55.256 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/16/dishes - 204 null null 50.1377ms
2025-12-06 16:08:55.265 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - null null
2025-12-06 16:08:55.269 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:55.271 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:08:55.273 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:08:55.278 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:08:55.282 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:08:55.288 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 12.1372ms
2025-12-06 16:08:55.295 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:08:55.297 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - 200 null application/json; charset=utf-8 31.6807ms
2025-12-06 16:08:55.351 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/16/dishes - application/json 25
2025-12-06 16:08:55.358 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:55.365 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:08:55.366 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:08:55.372 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 16:08:55.383 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-06 16:08:55.386 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:08:55.387 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 16.4611ms
2025-12-06 16:08:55.388 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:08:55.389 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/16/dishes - 204 null null 37.7043ms
2025-12-06 16:08:55.398 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - null null
2025-12-06 16:08:55.401 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:55.402 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:08:55.403 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:08:55.407 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:08:55.414 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:08:55.416 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 10.1528ms
2025-12-06 16:08:55.418 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:08:55.421 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - 200 null application/json; charset=utf-8 22.2109ms
2025-12-06 16:08:55.473 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 16:08:55.479 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:55.483 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 10.6645ms
2025-12-06 16:08:55.513 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 16:08:55.518 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:08:55.520 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:08:55.523 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:08:55.539 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 16:08:55.551 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:08:55.556 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 20.0321ms
2025-12-06 16:08:55.566 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:08:55.568 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 55.1929ms
2025-12-06 16:16:56.707 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/16 - null null
2025-12-06 16:16:56.710 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/16/dishes - null null
2025-12-06 16:16:56.720 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:16:56.723 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:16:56.726 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/16 - 204 null null 18.8068ms
2025-12-06 16:16:56.729 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/16/dishes - 204 null null 21.8232ms
2025-12-06 16:16:56.745 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/16 - null null
2025-12-06 16:16:56.759 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:16:56.762 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-06 16:16:56.754 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - null null
2025-12-06 16:16:56.765 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-06 16:16:56.773 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/16 - 405 0 null 27.2844ms
2025-12-06 16:16:56.770 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:16:56.779 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:16:56.781 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:16:56.850 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:16:56.854 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:16:56.855 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 65.2649ms
2025-12-06 16:16:56.857 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:16:56.858 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/16/dishes - 200 null application/json; charset=utf-8 104.3123ms
2025-12-06 16:36:28.986 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/16 - null null
2025-12-06 16:36:28.989 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:36:28.991 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/16 - 204 null null 5.1088ms
2025-12-06 16:36:28.995 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/16 - null null
2025-12-06 16:36:29.002 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:36:29.003 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-06 16:36:29.006 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-06 16:36:29.008 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/16 - 405 0 null 13.0263ms
2025-12-06 16:37:12.845 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 16:37:13.315 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 16:37:13.326 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 16:37:13.330 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 16:37:13.332 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 16:37:13.337 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-06 16:37:13.590 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-06 16:37:13.601 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-06 16:37:13.609 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-06 16:37:13.748 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 16:37:13.923 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-06 16:37:14.159 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 16:37:14.162 -03:00 [INF] Hosting environment: Development
2025-12-06 16:37:14.163 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-06 16:37:14.990 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 16:37:15.226 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 242.2772ms
2025-12-06 16:37:15.241 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 16:37:15.241 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 16:37:15.288 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 16:37:15.292 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 51.7461ms
2025-12-06 16:37:15.296 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 55.1441ms
2025-12-06 16:37:15.339 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.526ms
2025-12-06 16:37:15.387 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 16:37:15.443 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.6739ms
2025-12-06 16:37:23.512 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 16:37:23.520 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:37:23.523 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 11.7964ms
2025-12-06 16:37:23.530 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:37:23.535 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:37:23.694 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:37:23.712 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:37:23.975 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:37:24.069 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:37:24.082 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 363.1646ms
2025-12-06 16:37:24.085 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:37:24.091 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 561.2158ms
2025-12-06 16:37:25.620 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 16:37:25.621 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:37:25.630 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:37:25.634 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:37:25.635 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 15.4696ms
2025-12-06 16:37:25.638 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:37:25.640 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 16:37:25.640 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:37:25.648 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:37:25.656 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:37:25.678 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:37:25.740 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:37:25.750 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:37:25.752 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 101.2463ms
2025-12-06 16:37:25.753 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:37:25.755 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 133.5181ms
2025-12-06 16:37:25.846 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 16:37:25.932 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:37:25.956 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 272.9441ms
2025-12-06 16:37:25.962 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:37:25.964 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 324.1864ms
2025-12-06 16:37:56.520 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-06 16:37:56.528 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:37:56.531 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 11.0441ms
2025-12-06 16:37:56.541 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-06 16:37:56.544 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:37:56.545 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 16:37:56.549 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-06 16:37:56.582 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-06 16:37:56.750 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-06 16:37:56.755 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 202.8897ms
2025-12-06 16:37:56.756 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-06 16:37:56.759 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 401 null application/json; charset=utf-8 217.964ms
2025-12-06 16:38:44.976 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/register - null null
2025-12-06 16:38:44.981 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:38:44.983 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/register - 204 null null 6.4048ms
2025-12-06 16:38:44.987 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/register - application/json 70
2025-12-06 16:38:44.991 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:38:44.992 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-12-06 16:38:44.996 -03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.DTOs.UserRegisterDto) on controller Api.Controllers.AuthController (Api).
2025-12-06 16:38:45.006 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-06 16:38:45.498 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "IsActive", "LastLoginAt", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiration", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-06 16:38:45.547 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-06 16:38:45.551 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-06 16:38:45.554 -03:00 [INF] Executed action Api.Controllers.AuthController.Register (Api) in 553.4794ms
2025-12-06 16:38:45.555 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-12-06 16:38:45.556 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/register - 200 null application/json; charset=utf-8 569.3764ms
2025-12-06 16:38:45.591 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 16:38:45.630 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 16:38:45.637 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:38:45.639 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:38:45.640 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 49.702ms
2025-12-06 16:38:45.641 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 11.7092ms
2025-12-06 16:38:45.646 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:38:45.648 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 16:38:45.651 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:38:45.654 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:38:45.656 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:38:45.656 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:38:45.658 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:38:45.659 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:38:45.662 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:38:45.667 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:38:45.669 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.5768ms
2025-12-06 16:38:45.670 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:38:45.672 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 25.7908ms
2025-12-06 16:38:45.810 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 16:38:45.812 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:38:45.815 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 152.553ms
2025-12-06 16:38:45.818 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:38:45.819 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 170.8411ms
2025-12-06 16:39:08.861 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-07&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 16:39:08.865 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:08.866 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-07&startTime=19:00&endTime=21:00&guests=2 - 204 null null 7.3635ms
2025-12-06 16:39:08.871 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-07&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 16:39:08.873 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:08.874 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 16:39:08.878 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 16:39:08.899 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 16:39:08.925 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 16:39:08.940 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:39:08.947 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 65.5228ms
2025-12-06 16:39:08.950 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 16:39:08.951 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-07&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 80.1516ms
2025-12-06 16:39:33.440 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 16:39:33.444 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:33.445 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 11.6825ms
2025-12-06 16:39:33.449 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 140
2025-12-06 16:39:33.452 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:33.453 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 16:39:33.456 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:39:33.483 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 16:39:33.498 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 16:39:33.550 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 16:39:33.560 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 16:39:33.585 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 126.0768ms
2025-12-06 16:39:33.588 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 16:39:33.590 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 141.1088ms
2025-12-06 16:39:33.596 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/17/dishes - null null
2025-12-06 16:39:33.602 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:33.604 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/17/dishes - 204 null null 8.3817ms
2025-12-06 16:39:33.649 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-06 16:39:33.654 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/17/dishes - null null
2025-12-06 16:39:33.656 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:33.659 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:33.660 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 47.1543ms
2025-12-06 16:39:33.661 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:33.666 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 16:39:33.669 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:33.670 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:33.670 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 16:39:33.676 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 16:39:33.689 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 16:39:33.694 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:39:33.700 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:39:33.704 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 31.1764ms
2025-12-06 16:39:33.745 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:33.750 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/17/dishes - 200 null application/json; charset=utf-8 96.1772ms
2025-12-06 16:39:33.759 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:39:33.765 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 87.0975ms
2025-12-06 16:39:33.767 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 16:39:33.770 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 103.75ms
2025-12-06 16:39:44.306 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/17 - null null
2025-12-06 16:39:44.312 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:44.313 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/17 - 204 null null 6.6122ms
2025-12-06 16:39:44.317 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5231/api/reservations/17 - null null
2025-12-06 16:39:44.320 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:44.321 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Delete (Api)'
2025-12-06 16:39:44.326 -03:00 [INF] Route matched with {action = "Delete", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:39:44.347 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-12-06 16:39:44.357 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-12-06 16:39:44.375 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Reservations"
WHERE "Id" = @p0;
2025-12-06 16:39:44.385 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:39:44.388 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Delete (Api) in 58.643ms
2025-12-06 16:39:44.390 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Delete (Api)'
2025-12-06 16:39:44.392 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5231/api/reservations/17 - 204 null null 74.5858ms
2025-12-06 16:39:50.798 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 16:39:50.804 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:50.805 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 7.5523ms
2025-12-06 16:39:50.812 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 140
2025-12-06 16:39:50.816 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:50.818 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 16:39:50.819 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:39:50.825 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 16:39:50.831 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 16:39:50.843 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 16:39:50.851 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 16:39:50.852 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 30.0197ms
2025-12-06 16:39:50.854 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 16:39:50.856 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 43.7978ms
2025-12-06 16:39:50.861 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:39:50.873 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:50.878 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-06 16:39:50.887 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - 204 null null 25.8055ms
2025-12-06 16:39:50.888 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:50.894 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:39:50.896 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 17.7892ms
2025-12-06 16:39:50.901 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:50.904 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 16:39:50.906 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:50.909 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:50.911 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:50.913 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 16:39:50.916 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 16:39:50.916 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:39:50.919 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 16:39:50.922 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:39:50.925 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:39:50.927 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 12.5426ms
2025-12-06 16:39:50.929 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 10.4433ms
2025-12-06 16:39:50.930 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:50.932 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 16:39:50.934 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 40.1026ms
2025-12-06 16:39:50.935 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 30.5647ms
2025-12-06 16:39:58.765 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:39:58.770 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:58.771 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - 204 null null 5.6282ms
2025-12-06 16:39:58.776 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - application/json 25
2025-12-06 16:39:58.778 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:58.779 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:39:58.783 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:58.795 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 16:39:58.818 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-06 16:39:58.823 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:39:58.823 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 38.0356ms
2025-12-06 16:39:58.825 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:39:58.826 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - 204 null null 50.1166ms
2025-12-06 16:39:58.831 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:39:58.833 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:58.834 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:58.835 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:58.839 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:39:58.845 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:39:58.848 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 10.5174ms
2025-12-06 16:39:58.850 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:58.851 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 20.0938ms
2025-12-06 16:39:58.857 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - application/json 25
2025-12-06 16:39:58.860 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:58.861 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:39:58.862 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:58.866 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 16:39:58.871 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-06 16:39:58.879 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:39:58.889 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 24.8267ms
2025-12-06 16:39:58.897 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:39:58.899 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - 204 null null 41.5105ms
2025-12-06 16:39:58.904 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:39:58.912 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:58.914 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:58.915 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:58.922 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:39:58.929 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:39:58.931 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 11.6871ms
2025-12-06 16:39:58.933 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:58.934 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 30.6473ms
2025-12-06 16:39:58.947 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - application/json 25
2025-12-06 16:39:58.950 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:58.951 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:39:58.953 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:58.962 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 16:39:58.968 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-06 16:39:58.970 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:39:58.971 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 12.4744ms
2025-12-06 16:39:58.974 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:39:58.976 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - 204 null null 29.1396ms
2025-12-06 16:39:58.980 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:39:58.982 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:58.985 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:58.986 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:58.991 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:39:58.994 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:39:58.996 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 7.9244ms
2025-12-06 16:39:58.997 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:58.998 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 17.8331ms
2025-12-06 16:39:59.009 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - application/json 25
2025-12-06 16:39:59.012 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:59.013 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:39:59.014 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:59.018 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 16:39:59.023 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-06 16:39:59.026 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:39:59.027 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 10.634ms
2025-12-06 16:39:59.029 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:39:59.030 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - 204 null null 20.666ms
2025-12-06 16:39:59.034 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:39:59.036 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:59.037 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:59.040 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:59.044 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:39:59.047 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:39:59.049 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 6.4688ms
2025-12-06 16:39:59.050 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:59.051 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 16.6497ms
2025-12-06 16:39:59.061 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - application/json 25
2025-12-06 16:39:59.063 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:59.064 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:39:59.065 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:59.070 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 16:39:59.077 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-06 16:39:59.080 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:39:59.081 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 13.1796ms
2025-12-06 16:39:59.082 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:39:59.083 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - 204 null null 22.0592ms
2025-12-06 16:39:59.087 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:39:59.090 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:59.092 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:59.093 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:59.096 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:39:59.099 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:39:59.100 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 4.918ms
2025-12-06 16:39:59.101 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:59.102 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 15.0852ms
2025-12-06 16:39:59.111 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - application/json 25
2025-12-06 16:39:59.112 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:59.113 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:39:59.115 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:59.118 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 16:39:59.124 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-06 16:39:59.130 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:39:59.131 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 14.8934ms
2025-12-06 16:39:59.132 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:39:59.134 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - 204 null null 23.5919ms
2025-12-06 16:39:59.150 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:39:59.152 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:59.153 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:59.154 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:59.161 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:39:59.163 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:39:59.164 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.6998ms
2025-12-06 16:39:59.165 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:59.167 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 16.5228ms
2025-12-06 16:39:59.174 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - application/json 25
2025-12-06 16:39:59.176 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:59.177 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:39:59.179 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:59.183 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 16:39:59.188 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-06 16:39:59.193 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:39:59.194 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 13.0123ms
2025-12-06 16:39:59.196 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 16:39:59.197 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - 204 null null 23.4162ms
2025-12-06 16:39:59.201 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:39:59.203 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:59.205 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:59.206 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:39:59.210 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:39:59.213 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:39:59.214 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.8914ms
2025-12-06 16:39:59.215 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:39:59.216 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 14.6603ms
2025-12-06 16:39:59.237 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 16:39:59.240 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:59.241 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 4.5873ms
2025-12-06 16:39:59.249 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 16:39:59.252 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:39:59.253 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:39:59.259 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:39:59.264 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 16:39:59.267 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:39:59.269 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 6.4266ms
2025-12-06 16:39:59.272 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:39:59.273 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 23.7663ms
2025-12-06 16:40:04.518 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - null null
2025-12-06 16:40:04.530 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:40:04.532 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - 204 null null 13.878ms
2025-12-06 16:40:04.540 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18 - null null
2025-12-06 16:40:04.544 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:40:04.545 -03:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-12-06 16:40:04.546 -03:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-12-06 16:40:04.547 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18 - 405 0 null 6.6796ms
2025-12-06 16:46:49.531 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 16:46:49.548 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 17.0124ms
2025-12-06 16:46:49.576 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 16:46:49.611 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 34.7243ms
2025-12-06 16:46:49.608 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 16:46:49.577 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 16:46:49.624 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 47.4816ms
2025-12-06 16:46:49.632 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.6448ms
2025-12-06 16:46:49.828 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 16:46:49.840 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/favicon-32x32.png - null null
2025-12-06 16:46:49.867 -03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-12-06 16:46:49.874 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/favicon-32x32.png - 200 628 image/png 33.8499ms
2025-12-06 16:46:49.870 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 42.184ms
2025-12-06 16:50:11.681 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 16:50:12.038 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 16:50:12.051 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 16:50:12.053 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 16:50:12.056 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 16:50:12.062 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-06 16:50:12.369 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-06 16:50:12.379 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-06 16:50:12.386 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-06 16:50:12.567 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 16:50:12.741 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-06 16:50:12.942 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 16:50:12.945 -03:00 [INF] Hosting environment: Development
2025-12-06 16:50:12.946 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-06 16:50:13.439 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 16:50:13.660 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 226.2121ms
2025-12-06 16:50:13.667 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 16:50:13.669 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 16:50:13.720 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 16:50:13.724 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 57.4296ms
2025-12-06 16:50:13.732 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 12.2791ms
2025-12-06 16:50:13.786 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 117.7968ms
2025-12-06 16:50:13.923 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 16:50:13.970 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.4954ms
2025-12-06 16:50:50.879 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 16:50:50.948 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:50:50.951 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 72.0246ms
2025-12-06 16:50:50.955 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:50:50.960 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:50:51.103 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:50:51.122 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:50:51.352 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:50:51.438 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:50:51.451 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 321.8147ms
2025-12-06 16:50:51.454 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:50:51.461 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 506.2226ms
2025-12-06 16:50:53.304 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 16:50:53.305 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:50:53.323 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:50:53.328 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:50:53.330 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 26.0383ms
2025-12-06 16:50:53.335 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:50:53.339 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 16:50:53.343 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:50:53.352 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:50:53.380 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:50:53.410 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:50:53.494 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:50:53.504 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:50:53.507 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 134.1113ms
2025-12-06 16:50:53.511 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:50:53.514 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 208.1783ms
2025-12-06 16:50:53.594 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 16:50:53.690 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:50:53.710 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 292.7212ms
2025-12-06 16:50:53.711 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:50:53.712 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 373.8995ms
2025-12-06 16:51:01.729 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - null null
2025-12-06 16:51:01.737 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:51:01.739 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - 204 null null 10.2526ms
2025-12-06 16:51:01.744 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18 - null null
2025-12-06 16:51:01.751 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:51:01.754 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 16:51:01.762 -03:00 [INF] Route matched with {action = "GetById", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:51:01.801 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-12-06 16:51:01.815 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 16:51:01.818 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetById (Api) in 46.9055ms
2025-12-06 16:51:01.820 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 16:51:01.822 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18 - 200 null application/json; charset=utf-8 78.4461ms
2025-12-06 16:56:01.967 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - null null
2025-12-06 16:56:01.968 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:56:01.974 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 16:56:01.977 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 16:56:01.980 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:56:01.987 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:56:01.989 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:56:01.998 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:56:02.001 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - 204 null null 34.1317ms
2025-12-06 16:56:02.002 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - 204 null null 33.8061ms
2025-12-06 16:56:02.003 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 28.3889ms
2025-12-06 16:56:02.004 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 26.8091ms
2025-12-06 16:56:02.019 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:56:02.025 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18 - null null
2025-12-06 16:56:02.033 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:56:02.036 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:56:02.040 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:56:02.046 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:56:02.047 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:56:02.049 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 16:56:02.050 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:56:02.051 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:56:02.052 -03:00 [INF] Route matched with {action = "GetById", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:56:02.059 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:56:02.150 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-12-06 16:56:02.162 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 16:56:02.169 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetById (Api) in 100.7174ms
2025-12-06 16:56:02.171 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 16:56:02.174 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18 - 200 null application/json; charset=utf-8 149.1084ms
2025-12-06 16:56:02.244 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:56:02.251 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:56:02.253 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 188.0788ms
2025-12-06 16:56:02.254 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:56:02.255 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:56:02.265 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:56:02.266 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 246.8395ms
2025-12-06 16:56:02.267 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:56:02.275 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:56:02.284 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:56:02.293 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:56:02.297 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 15.2332ms
2025-12-06 16:56:02.299 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:56:02.301 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 47.1429ms
2025-12-06 16:56:02.307 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:56:02.347 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:56:02.353 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 279.5767ms
2025-12-06 16:56:02.354 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:56:02.354 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:56:02.357 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:56:02.358 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 324.6659ms
2025-12-06 16:56:02.360 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:56:02.365 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:56:02.380 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:56:02.388 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:56:02.390 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 17.684ms
2025-12-06 16:56:02.391 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:56:02.394 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 40.4111ms
2025-12-06 16:57:00.962 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18 - null null
2025-12-06 16:57:00.984 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-06 16:57:00.993 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-06 16:57:00.996 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18 - 401 0 null 33.116ms
2025-12-06 16:57:49.438 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 16:57:49.772 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-06 16:57:49.783 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-06 16:57:49.785 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-06 16:57:49.787 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-06 16:57:49.793 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-06 16:57:50.034 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-06 16:57:50.048 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-06 16:57:50.057 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-06 16:57:50.187 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-06 16:57:50.347 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-06 16:57:50.550 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-06 16:57:50.552 -03:00 [INF] Hosting environment: Development
2025-12-06 16:57:50.553 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-06 16:57:50.835 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-06 16:57:51.109 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 281.0951ms
2025-12-06 16:57:51.116 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-06 16:57:51.119 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-06 16:57:51.133 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-06 16:57:51.147 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 13.2097ms
2025-12-06 16:57:51.156 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 40.1562ms
2025-12-06 16:57:51.185 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.8477ms
2025-12-06 16:57:51.241 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-06 16:57:51.293 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.6463ms
2025-12-06 16:58:29.520 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 16:58:29.532 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:29.569 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 48.7902ms
2025-12-06 16:58:29.573 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:58:29.577 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:29.712 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:58:29.728 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:58:29.952 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:58:30.047 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:58:30.059 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 324.6435ms
2025-12-06 16:58:30.064 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:58:30.073 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 499.8707ms
2025-12-06 16:58:31.831 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 16:58:31.837 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 16:58:31.885 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:31.887 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:31.887 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 56.5803ms
2025-12-06 16:58:31.889 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:58:31.890 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 16:58:31.892 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 16:58:31.896 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:31.903 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:58:31.921 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:58:31.977 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 16:58:31.983 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 16:58:31.984 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 86.1253ms
2025-12-06 16:58:31.985 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 16:58:31.987 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 150.2178ms
2025-12-06 16:58:32.064 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 16:58:32.162 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:58:32.187 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 263.892ms
2025-12-06 16:58:32.189 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:58:32.190 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 299.5004ms
2025-12-06 16:58:35.732 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - null null
2025-12-06 16:58:35.747 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:35.752 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - 204 null null 19.4757ms
2025-12-06 16:58:35.760 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18 - null null
2025-12-06 16:58:35.763 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:35.764 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 16:58:35.768 -03:00 [INF] Route matched with {action = "GetById", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:58:35.799 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-12-06 16:58:35.813 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 16:58:35.815 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetById (Api) in 44.7203ms
2025-12-06 16:58:35.817 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 16:58:35.818 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18 - 200 null application/json; charset=utf-8 58.8748ms
2025-12-06 16:58:35.830 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:58:35.835 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:35.836 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - 204 null null 6.0717ms
2025-12-06 16:58:35.848 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:58:35.854 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:35.856 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:58:35.865 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:58:35.888 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:58:35.922 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:58:35.927 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 58.9528ms
2025-12-06 16:58:35.928 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:58:35.929 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 81.292ms
2025-12-06 16:58:41.560 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes/3 - null null
2025-12-06 16:58:41.564 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:41.565 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes/3 - 204 null null 4.5032ms
2025-12-06 16:58:41.569 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5231/api/reservations/18/dishes/3 - null null
2025-12-06 16:58:41.572 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:41.573 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.RemoveDish (Api)'
2025-12-06 16:58:41.579 -03:00 [INF] Route matched with {action = "RemoveDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveDish(Int32, Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:58:41.595 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 16:58:41.688 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ReservationDishes"
WHERE "DishId" = @p0 AND "ReservationId" = @p1;
2025-12-06 16:58:41.704 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 16:58:41.706 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.RemoveDish (Api) in 122.7281ms
2025-12-06 16:58:41.707 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.RemoveDish (Api)'
2025-12-06 16:58:41.708 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5231/api/reservations/18/dishes/3 - 204 null null 139.3534ms
2025-12-06 16:58:41.714 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:58:41.717 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:41.718 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - 204 null null 4.2025ms
2025-12-06 16:58:41.721 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:58:41.724 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:41.725 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:58:41.725 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:58:41.732 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:58:41.735 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:58:41.737 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 9.2185ms
2025-12-06 16:58:41.739 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:58:41.740 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 19.0458ms
2025-12-06 16:58:54.443 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 16:58:54.452 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:54.457 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 14.0786ms
2025-12-06 16:58:54.464 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 16:58:54.470 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:54.473 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:58:54.475 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:58:54.497 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 16:58:54.509 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:58:54.510 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 28.7838ms
2025-12-06 16:58:54.512 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:58:54.513 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 49.3086ms
2025-12-06 16:58:56.906 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - null null
2025-12-06 16:58:56.906 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:58:56.911 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:56.916 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:56.924 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - 204 null null 18.1229ms
2025-12-06 16:58:56.924 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - 204 null null 18.1108ms
2025-12-06 16:58:56.938 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:58:56.943 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18 - null null
2025-12-06 16:58:56.945 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:56.947 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:56.949 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:58:56.951 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 16:58:56.952 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:58:56.955 -03:00 [INF] Route matched with {action = "GetById", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:58:56.960 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:58:56.964 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:58:56.966 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 8.4779ms
2025-12-06 16:58:56.968 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:58:56.969 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 31.0563ms
2025-12-06 16:58:57.027 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-12-06 16:58:57.031 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 16:58:57.032 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetById (Api) in 71.8021ms
2025-12-06 16:58:57.035 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 16:58:57.037 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18 - 200 null application/json; charset=utf-8 94.0231ms
2025-12-06 16:58:57.044 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 16:58:57.046 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:58:57.047 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:58:57.048 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 16:58:57.052 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 16:58:57.055 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:58:57.057 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 6.8893ms
2025-12-06 16:58:57.060 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 16:58:57.061 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 16.8771ms
2025-12-06 16:59:04.069 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 16:59:04.073 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:59:04.075 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 6.3736ms
2025-12-06 16:59:04.091 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 16:59:04.095 -03:00 [INF] CORS policy execution successful.
2025-12-06 16:59:04.096 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:59:04.098 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 16:59:04.107 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 16:59:04.112 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 16:59:04.118 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 15.6147ms
2025-12-06 16:59:04.122 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 16:59:04.125 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 33.4625ms
2025-12-06 17:06:40.956 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 17:06:40.961 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:06:40.962 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 6.7314ms
2025-12-06 17:06:40.966 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 17:06:40.968 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:06:40.969 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 17:06:40.970 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 17:06:41.021 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 17:06:41.027 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:06:41.028 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 56.4665ms
2025-12-06 17:06:41.031 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 17:06:41.032 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 65.8796ms
2025-12-06 17:08:23.987 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 17:08:23.995 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:08:23.996 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 43.8546ms
2025-12-06 17:08:23.998 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 17:08:24.002 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:08:24.003 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 17:08:24.003 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 17:08:24.010 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 17:08:24.014 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:08:24.016 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 7.8469ms
2025-12-06 17:08:24.017 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 17:08:24.019 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 20.6559ms
2025-12-06 17:21:59.653 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - null null
2025-12-06 17:21:59.683 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 17:21:59.687 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:21:59.690 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:21:59.691 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - 204 null null 70.6218ms
2025-12-06 17:21:59.692 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - 204 null null 8.6927ms
2025-12-06 17:21:59.699 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 17:21:59.700 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18 - null null
2025-12-06 17:21:59.704 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:21:59.706 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:21:59.707 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:21:59.708 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 17:21:59.711 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:21:59.714 -03:00 [INF] Route matched with {action = "GetById", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 17:21:59.789 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 17:21:59.792 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-12-06 17:21:59.792 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:21:59.796 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 17:21:59.797 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 80.295ms
2025-12-06 17:21:59.798 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetById (Api) in 61.1711ms
2025-12-06 17:21:59.799 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:21:59.800 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 17:21:59.801 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 101.795ms
2025-12-06 17:21:59.802 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18 - 200 null application/json; charset=utf-8 101.8834ms
2025-12-06 17:40:33.068 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 17:40:33.068 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - null null
2025-12-06 17:40:33.074 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 17:40:33.074 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-06 17:40:33.077 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:40:33.079 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:40:33.081 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:40:33.084 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:40:33.085 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - 204 null null 16.6973ms
2025-12-06 17:40:33.085 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - 204 null null 17.5285ms
2025-12-06 17:40:33.086 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 12.5991ms
2025-12-06 17:40:33.087 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 12.9848ms
2025-12-06 17:40:33.092 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 17:40:33.095 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 17:40:33.097 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18 - null null
2025-12-06 17:40:33.100 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:40:33.102 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:40:33.104 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:40:33.106 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 17:40:33.106 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:40:33.107 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 17:40:33.108 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 17:40:33.109 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:40:33.110 -03:00 [INF] Route matched with {action = "GetById", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 17:40:33.231 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 17:40:33.234 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 17:40:33.237 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:40:33.239 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 17:40:33.241 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 126.048ms
2025-12-06 17:40:33.242 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-12-06 17:40:33.242 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 129.7433ms
2025-12-06 17:40:33.243 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-06 17:40:33.243 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:40:33.249 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 17:40:33.250 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 17:40:33.252 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:40:33.253 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 158.5251ms
2025-12-06 17:40:33.255 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetById (Api) in 75.3328ms
2025-12-06 17:40:33.256 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 163.4675ms
2025-12-06 17:40:33.257 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 17:40:33.265 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 17:40:33.272 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-06 17:40:33.274 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18 - 200 null application/json; charset=utf-8 177.1301ms
2025-12-06 17:40:33.281 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-06 17:40:33.285 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-06 17:40:33.287 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 10.747ms
2025-12-06 17:40:33.289 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-06 17:40:33.290 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 47.5568ms
2025-12-06 17:42:05.924 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 17:42:05.931 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:05.933 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - 204 null null 8.8197ms
2025-12-06 17:42:05.938 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - application/json 25
2025-12-06 17:42:05.942 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:05.943 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 17:42:05.949 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:42:05.980 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 17:42:06.021 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-06 17:42:06.027 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 17:42:06.028 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 73.8177ms
2025-12-06 17:42:06.029 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 17:42:06.030 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - 204 null null 92.4183ms
2025-12-06 17:42:06.040 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 17:42:06.043 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:06.044 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:06.045 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:42:06.051 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 17:42:06.056 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:42:06.057 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 8.2041ms
2025-12-06 17:42:06.059 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:06.060 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 20.1675ms
2025-12-06 17:42:14.723 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 17:42:14.727 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:14.728 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - 204 null null 4.8046ms
2025-12-06 17:42:14.736 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - application/json 25
2025-12-06 17:42:14.738 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:14.740 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 17:42:14.740 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:42:14.745 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 17:42:14.757 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-06 17:42:14.760 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 17:42:14.763 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 20.6449ms
2025-12-06 17:42:14.765 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 17:42:14.767 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/18/dishes - 204 null null 30.193ms
2025-12-06 17:42:14.773 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 17:42:14.776 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:14.777 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:14.778 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:42:14.787 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 17:42:14.791 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:42:14.792 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 7.1399ms
2025-12-06 17:42:14.794 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:14.797 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 23.4139ms
2025-12-06 17:42:23.579 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes/1 - null null
2025-12-06 17:42:23.584 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:23.585 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes/1 - 204 null null 6.4585ms
2025-12-06 17:42:23.589 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5231/api/reservations/18/dishes/1 - null null
2025-12-06 17:42:23.591 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:23.592 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.RemoveDish (Api)'
2025-12-06 17:42:23.594 -03:00 [INF] Route matched with {action = "RemoveDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveDish(Int32, Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:42:23.600 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 17:42:23.610 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "ReservationDishes"
WHERE "DishId" = @p0 AND "ReservationId" = @p1;
2025-12-06 17:42:23.615 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 17:42:23.616 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.RemoveDish (Api) in 17.3416ms
2025-12-06 17:42:23.617 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.RemoveDish (Api)'
2025-12-06 17:42:23.618 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5231/api/reservations/18/dishes/1 - 204 null null 29.397ms
2025-12-06 17:42:23.625 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 17:42:23.634 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:23.635 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - 204 null null 10.6029ms
2025-12-06 17:42:23.638 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 17:42:23.640 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:23.641 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:23.644 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:42:23.649 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 17:42:23.652 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:42:23.653 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.2927ms
2025-12-06 17:42:23.655 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:23.656 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 18.1292ms
2025-12-06 17:42:30.610 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 17:42:30.643 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:30.646 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 35.5193ms
2025-12-06 17:42:30.652 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 17:42:30.654 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:30.656 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 17:42:30.662 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 17:42:30.673 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 17:42:30.679 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:42:30.680 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 13.2979ms
2025-12-06 17:42:30.682 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 17:42:30.683 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 31.286ms
2025-12-06 17:42:35.568 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 17:42:35.575 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:35.576 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - 204 null null 7.7686ms
2025-12-06 17:42:35.583 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-06 17:42:35.585 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:35.586 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 17:42:35.592 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-06 17:42:35.615 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-06 17:42:35.648 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-06 17:42:35.656 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:42:35.660 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 65.1048ms
2025-12-06 17:42:35.662 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-06 17:42:35.663 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 80.4668ms
2025-12-06 17:42:41.350 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 17:42:41.364 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:41.365 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 14.2678ms
2025-12-06 17:42:41.369 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 98
2025-12-06 17:42:41.373 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:41.374 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 17:42:41.377 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 17:42:41.400 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-06 17:42:41.415 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-06 17:42:41.474 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-06 17:42:41.494 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 17:42:41.516 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 136.3039ms
2025-12-06 17:42:41.520 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-06 17:42:41.521 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 152.4621ms
2025-12-06 17:42:41.528 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/19/dishes - null null
2025-12-06 17:42:41.531 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:41.531 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/19/dishes - 204 null null 3.7739ms
2025-12-06 17:42:41.535 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/19/dishes - null null
2025-12-06 17:42:41.539 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-06 17:42:41.552 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:41.548 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:41.554 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 15.5459ms
2025-12-06 17:42:41.556 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:41.563 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-06 17:42:41.563 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:42:41.567 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:41.572 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 17:42:41.574 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 17:42:41.577 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-06 17:42:41.577 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:42:41.581 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 10.4101ms
2025-12-06 17:42:41.582 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:41.584 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/19/dishes - 200 null application/json; charset=utf-8 48.4848ms
2025-12-06 17:42:41.590 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-06 17:42:41.598 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:42:41.601 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 21.0831ms
2025-12-06 17:42:41.604 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-06 17:42:41.607 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 43.9474ms
2025-12-06 17:42:47.903 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/19/dishes - null null
2025-12-06 17:42:47.906 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:47.907 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/19/dishes - 204 null null 4.8611ms
2025-12-06 17:42:47.911 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/19/dishes - application/json 25
2025-12-06 17:42:47.913 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:47.914 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 17:42:47.916 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:42:47.921 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 17:42:47.930 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-06 17:42:47.934 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 17:42:47.936 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 17.1057ms
2025-12-06 17:42:47.938 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 17:42:47.940 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/19/dishes - 204 null null 28.6233ms
2025-12-06 17:42:47.945 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/19/dishes - null null
2025-12-06 17:42:47.947 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:47.949 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:47.949 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:42:47.953 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 17:42:47.956 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:42:47.957 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.8441ms
2025-12-06 17:42:47.959 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:47.960 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/19/dishes - 200 null application/json; charset=utf-8 15.6969ms
2025-12-06 17:42:47.968 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/19/dishes - application/json 25
2025-12-06 17:42:47.971 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:47.972 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 17:42:47.973 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:42:47.979 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 17:42:47.985 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-06 17:42:47.992 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 17:42:47.993 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 16.4847ms
2025-12-06 17:42:47.994 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 17:42:47.996 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/19/dishes - 204 null null 27.9276ms
2025-12-06 17:42:48.003 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/19/dishes - null null
2025-12-06 17:42:48.007 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:48.008 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:48.009 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:42:48.012 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 17:42:48.015 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:42:48.017 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.9186ms
2025-12-06 17:42:48.021 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:48.023 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/19/dishes - 200 null application/json; charset=utf-8 19.6791ms
2025-12-06 17:42:48.039 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/19/dishes - application/json 25
2025-12-06 17:42:48.054 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:48.057 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 17:42:48.059 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:42:48.064 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-06 17:42:48.069 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-06 17:42:48.074 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 17:42:48.075 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 13.2774ms
2025-12-06 17:42:48.077 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-06 17:42:48.078 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/19/dishes - 204 null null 38.64ms
2025-12-06 17:42:48.086 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/19/dishes - null null
2025-12-06 17:42:48.090 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:48.091 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:48.092 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:42:48.095 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 17:42:48.098 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:42:48.100 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.8874ms
2025-12-06 17:42:48.104 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:48.107 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/19/dishes - 200 null application/json; charset=utf-8 21.7319ms
2025-12-06 17:42:48.131 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 17:42:48.149 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:48.157 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 25.9969ms
2025-12-06 17:42:48.164 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 17:42:48.173 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:48.175 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 17:42:48.176 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 17:42:48.180 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 17:42:48.185 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:42:48.189 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 10.3728ms
2025-12-06 17:42:48.192 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 17:42:48.193 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 28.6016ms
2025-12-06 17:42:52.353 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/19 - null null
2025-12-06 17:42:52.355 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/19/dishes - null null
2025-12-06 17:42:52.360 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:52.366 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/19 - 204 null null 12.9035ms
2025-12-06 17:42:52.364 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:52.373 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:52.375 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:42:52.377 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/19 - null null
2025-12-06 17:42:52.382 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:42:52.380 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 17:42:52.385 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 17:42:52.392 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:42:52.392 -03:00 [INF] Route matched with {action = "GetById", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 17:42:52.394 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 15.7225ms
2025-12-06 17:42:52.398 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:42:52.398 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-12-06 17:42:52.400 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/19/dishes - 200 null application/json; charset=utf-8 44.7894ms
2025-12-06 17:42:52.404 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 17:42:52.409 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetById (Api) in 12.8156ms
2025-12-06 17:42:52.411 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 17:42:52.412 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/19 - 200 null application/json; charset=utf-8 34.7858ms
2025-12-06 17:43:14.311 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/19 - null null
2025-12-06 17:43:14.317 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:43:14.318 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/19 - 204 null null 6.9575ms
2025-12-06 17:43:14.321 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5231/api/reservations/19 - null null
2025-12-06 17:43:14.323 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:43:14.325 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Delete (Api)'
2025-12-06 17:43:14.331 -03:00 [INF] Route matched with {action = "Delete", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 17:43:14.339 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-12-06 17:43:14.354 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-12-06 17:43:14.371 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Reservations"
WHERE "Id" = @p0;
2025-12-06 17:43:14.378 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-06 17:43:14.380 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Delete (Api) in 44.9198ms
2025-12-06 17:43:14.382 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Delete (Api)'
2025-12-06 17:43:14.383 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5231/api/reservations/19 - 204 null null 61.29ms
2025-12-06 17:43:14.402 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-06 17:43:14.404 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:43:14.405 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 3.2595ms
2025-12-06 17:43:14.429 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-06 17:43:14.446 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:43:14.448 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 17:43:14.449 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 17:43:14.453 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-06 17:43:14.456 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:43:14.462 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 10.6583ms
2025-12-06 17:43:14.465 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-06 17:43:14.466 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 37.292ms
2025-12-06 17:43:18.535 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - null null
2025-12-06 17:43:18.542 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 17:43:18.551 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:43:18.553 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:43:18.555 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18 - 204 null null 19.6361ms
2025-12-06 17:43:18.558 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/18/dishes - 204 null null 15.2257ms
2025-12-06 17:43:18.562 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - null null
2025-12-06 17:43:18.565 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/18 - null null
2025-12-06 17:43:18.568 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:43:18.570 -03:00 [INF] CORS policy execution successful.
2025-12-06 17:43:18.571 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:43:18.575 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-06 17:43:18.573 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 17:43:18.580 -03:00 [INF] Route matched with {action = "GetById", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Api.Controllers.ReservationsController (Api).
2025-12-06 17:43:18.580 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-06 17:43:18.584 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."Id" = @__id_0
LIMIT 1
2025-12-06 17:43:18.585 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-06 17:43:18.591 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 12.5791ms
2025-12-06 17:43:18.592 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-06 17:43:18.588 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-06 17:43:18.595 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetById (Api) in 13.3482ms
2025-12-06 17:43:18.597 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetById (Api)'
2025-12-06 17:43:18.593 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18/dishes - 200 null application/json; charset=utf-8 31.0857ms
2025-12-06 17:43:18.599 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/18 - 200 null application/json; charset=utf-8 34.1862ms

2025-12-15 00:11:27.139 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 00:11:54.397 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 00:11:54.410 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 00:11:54.415 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 00:11:54.419 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 00:11:54.427 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-15 00:11:54.799 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 00:11:54.810 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-15 00:11:54.818 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-15 00:11:55.001 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 00:11:55.270 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-15 00:11:55.362 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 00:11:55.364 -03:00 [INF] Hosting environment: Development
2025-12-15 00:11:55.365 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-15 00:11:56.251 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-15 00:11:56.539 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 296.2479ms
2025-12-15 00:11:56.547 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-15 00:11:56.587 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 43.3822ms
2025-12-15 00:11:57.253 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-15 00:11:57.253 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-15 00:11:57.259 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 6.1731ms
2025-12-15 00:11:57.303 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.9337ms
2025-12-15 00:11:58.538 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-15 00:11:58.570 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.072ms
2025-12-15 00:12:05.748 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 00:12:05.756 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:05.761 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 12.2067ms
2025-12-15 00:12:05.764 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 00:12:05.771 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:05.979 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 00:12:06.000 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 00:12:06.397 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:12:06.502 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 00:12:06.515 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 499.39ms
2025-12-15 00:12:06.517 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 00:12:06.535 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 771.1453ms
2025-12-15 00:12:08.000 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 00:12:08.001 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 00:12:08.002 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 00:12:08.001 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 00:12:08.013 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.013 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.017 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.019 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.020 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 20.7679ms
2025-12-15 00:12:08.022 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 20.9595ms
2025-12-15 00:12:08.023 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 21.1794ms
2025-12-15 00:12:08.030 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 28.8674ms
2025-12-15 00:12:08.035 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 00:12:08.038 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 00:12:08.048 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 00:12:08.052 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 00:12:08.087 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.090 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.095 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.098 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.101 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 00:12:08.102 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:12:08.104 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:12:08.106 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 00:12:08.111 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 00:12:08.116 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 00:12:08.116 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 00:12:08.129 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 00:12:08.200 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:12:08.203 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 00:12:08.215 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.213 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 00:12:08.213 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 00:12:08.216 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:12:08.221 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 100.0534ms
2025-12-15 00:12:08.223 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 00:12:08.228 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 00:12:08.228 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 193.1101ms
2025-12-15 00:12:08.267 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 00:12:08.331 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:08.348 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 00:12:08.371 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:08.376 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 126.7286ms
2025-12-15 00:12:08.377 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:12:08.379 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 175.8832ms
2025-12-15 00:12:08.404 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 280.4772ms
2025-12-15 00:12:08.405 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 00:12:08.405 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:12:08.421 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 373.826ms
2025-12-15 00:12:08.423 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:08.433 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 294.8687ms
2025-12-15 00:12:08.434 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 00:12:08.436 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 384.5899ms
2025-12-15 00:12:08.469 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 00:12:08.582 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:08.602 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 472.0466ms
2025-12-15 00:12:08.604 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:12:08.606 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 568.4959ms
2025-12-15 00:12:12.156 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:12:12.160 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:12.163 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 6.9909ms
2025-12-15 00:12:12.169 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:12:12.175 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:12.185 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:12:12.192 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:12:12.269 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:12:12.277 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:12.283 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 81.5249ms
2025-12-15 00:12:12.287 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:12:12.296 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 119.0815ms
2025-12-15 00:29:47.143 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:29:47.147 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:29:47.148 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 5.9303ms
2025-12-15 00:29:47.152 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:29:47.155 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:29:47.157 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:29:47.158 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:29:47.332 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:29:47.336 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:29:47.338 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 175.5413ms
2025-12-15 00:29:47.339 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:29:47.340 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 188.4928ms
2025-12-15 00:33:26.235 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:33:26.248 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:33:26.249 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 13.8946ms
2025-12-15 00:33:26.267 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:33:26.270 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:33:26.273 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:33:26.275 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:33:26.289 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:33:26.293 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:33:26.295 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 10.7295ms
2025-12-15 00:33:26.297 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:33:26.299 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 31.6547ms
2025-12-15 00:33:54.096 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:33:54.100 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:33:54.101 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 9.0227ms
2025-12-15 00:33:54.105 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:33:54.108 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:33:54.109 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:33:54.110 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:33:54.115 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:33:54.117 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:33:54.119 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 6.1452ms
2025-12-15 00:33:54.120 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:33:54.121 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 15.7222ms
2025-12-15 00:36:08.096 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:36:08.099 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:36:08.100 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 9.3953ms
2025-12-15 00:36:08.103 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:36:08.106 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:36:08.107 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:36:08.108 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:36:08.170 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:36:08.175 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:36:08.177 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 66.3917ms
2025-12-15 00:36:08.178 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:36:08.179 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 76.1954ms
2025-12-15 00:42:38.135 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:42:38.138 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:42:38.139 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 3.4041ms
2025-12-15 00:42:38.142 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:42:38.144 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:42:38.146 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:42:38.147 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:42:38.220 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:42:38.236 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:42:38.239 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 88.753ms
2025-12-15 00:42:38.241 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:42:38.242 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 100.271ms
2025-12-15 00:44:20.517 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/1 - null null
2025-12-15 00:44:20.521 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:44:20.522 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/1 - 204 null null 5.107ms
2025-12-15 00:44:20.525 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/1 - application/json 75
2025-12-15 00:44:20.528 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:44:20.529 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:44:20.536 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:44:20.585 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:44:20.690 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Name" = @p0
WHERE "Id" = @p1;
2025-12-15 00:44:20.709 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 00:44:20.711 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 171.8875ms
2025-12-15 00:44:20.714 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:44:20.717 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/1 - 200 null application/json; charset=utf-8 192.086ms
2025-12-15 00:44:20.721 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:44:20.723 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:44:20.724 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 2.9696ms
2025-12-15 00:44:20.727 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:44:20.732 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:44:20.734 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:44:20.735 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:44:20.739 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:44:20.742 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:44:20.744 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 6.53ms
2025-12-15 00:44:20.745 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:44:20.750 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 22.6302ms
2025-12-15 00:49:38.291 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/6 - null null
2025-12-15 00:49:38.296 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:38.296 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/6 - 204 null null 5.7813ms
2025-12-15 00:49:38.300 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/6 - application/json 65
2025-12-15 00:49:38.302 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:38.303 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:49:38.304 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:38.475 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:49:38.482 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsActive" = @p0
WHERE "Id" = @p1;
2025-12-15 00:49:38.486 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 00:49:38.488 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 179.3641ms
2025-12-15 00:49:38.489 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:49:38.492 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/6 - 200 null application/json; charset=utf-8 192.0281ms
2025-12-15 00:49:38.496 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:49:38.499 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:38.500 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 4.3359ms
2025-12-15 00:49:38.505 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:49:38.507 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:38.508 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:38.509 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:38.517 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:49:38.521 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:49:38.525 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 13.315ms
2025-12-15 00:49:38.536 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:38.541 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 36.7608ms
2025-12-15 00:49:44.176 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:49:44.180 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:44.181 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 5.0909ms
2025-12-15 00:49:44.189 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:49:44.193 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:44.195 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:44.198 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:44.214 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 00:49:44.220 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:49:44.224 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 22.8252ms
2025-12-15 00:49:44.225 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:44.227 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 38.195ms
2025-12-15 00:49:58.841 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/6 - null null
2025-12-15 00:49:58.845 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:58.847 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/6 - 204 null null 6.7565ms
2025-12-15 00:49:58.852 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/6 - application/json 64
2025-12-15 00:49:58.856 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:58.857 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:49:58.857 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:58.862 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:49:58.866 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsActive" = @p0
WHERE "Id" = @p1;
2025-12-15 00:49:58.870 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 00:49:58.872 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 11.9603ms
2025-12-15 00:49:58.874 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:49:58.876 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/6 - 200 null application/json; charset=utf-8 24.2986ms
2025-12-15 00:49:58.885 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:49:58.890 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:58.891 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 5.8706ms
2025-12-15 00:49:58.898 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:49:58.902 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:58.904 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:58.905 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:58.911 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 00:49:58.918 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:49:58.920 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 11.1512ms
2025-12-15 00:49:58.923 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:58.925 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 27.7219ms
2025-12-15 00:50:02.527 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:50:02.530 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:50:02.531 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:50:02.533 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:50:02.536 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 00:50:02.540 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:50:02.542 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 7.1283ms
2025-12-15 00:50:02.544 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:50:02.545 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 17.3214ms
2025-12-15 00:51:59.278 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 00:51:59.342 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 00:51:59.344 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:51:59.346 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:51:59.347 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 69.2106ms
2025-12-15 00:51:59.348 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 6.0211ms
2025-12-15 00:51:59.350 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 00:51:59.352 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 00:51:59.355 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:51:59.358 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:51:59.360 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:51:59.361 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:51:59.361 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 00:51:59.362 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 00:51:59.366 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 00:51:59.372 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:51:59.375 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.3949ms
2025-12-15 00:51:59.378 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:51:59.379 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 28.5823ms
2025-12-15 00:51:59.434 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 00:51:59.444 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:51:59.445 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 79.7495ms
2025-12-15 00:51:59.447 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:51:59.448 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 95.7429ms
2025-12-15 00:52:01.296 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 00:52:01.299 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:01.302 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 6.1309ms
2025-12-15 00:52:01.310 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 00:52:01.314 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:01.315 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:52:01.316 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 00:52:01.320 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 00:52:01.327 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:01.330 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 12.2816ms
2025-12-15 00:52:01.332 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:52:01.335 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 25.4465ms
2025-12-15 00:52:17.571 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 00:52:17.595 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:17.596 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 24.2149ms
2025-12-15 00:52:17.603 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 00:52:17.606 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:17.609 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:52:17.610 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 00:52:17.614 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 00:52:17.621 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:17.622 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 9.2693ms
2025-12-15 00:52:17.624 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:52:17.625 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 22.5047ms
2025-12-15 00:52:18.802 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 00:52:18.802 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 00:52:18.804 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 00:52:18.813 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 00:52:18.818 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.822 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.879 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 77.2788ms
2025-12-15 00:52:18.828 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 25.9321ms
2025-12-15 00:52:18.825 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.826 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.886 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 00:52:18.908 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 00:52:18.909 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 105.146ms
2025-12-15 00:52:18.910 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:52:18.913 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.918 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.922 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 00:52:18.923 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 00:52:18.925 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 00:52:18.925 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:52:18.928 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.932 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 00:52:18.934 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 00:52:18.934 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 00:52:18.935 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:52:18.939 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 00:52:18.941 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:18.941 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 00:52:18.945 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 14.071ms
2025-12-15 00:52:18.948 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:52:18.945 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 00:52:18.952 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 139.9032ms
2025-12-15 00:52:18.954 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 00:52:18.963 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:18.974 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 37.1848ms
2025-12-15 00:52:18.975 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 00:52:18.976 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:18.976 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 90.6109ms
2025-12-15 00:52:18.978 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 31.4142ms
2025-12-15 00:52:18.982 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:52:18.984 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 61.8531ms
2025-12-15 00:52:19.001 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 00:52:19.007 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:19.009 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 69.8508ms
2025-12-15 00:52:19.010 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:52:19.011 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 103.0526ms
2025-12-15 00:58:26.237 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:58:26.242 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:58:26.243 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 6.0596ms
2025-12-15 00:58:26.249 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:58:26.252 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:58:26.253 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:58:26.256 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:58:26.268 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:58:26.277 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:58:26.279 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 18.8846ms
2025-12-15 00:58:26.281 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:58:26.284 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 35.07ms
2025-12-15 00:59:12.037 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5231/api/users/3 - null null
2025-12-15 00:59:12.064 -03:00 [INF] CORS policy execution failed.
2025-12-15 00:59:12.070 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 00:59:12.073 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-15 00:59:12.080 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 00:59:12.081 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5231/api/users/3 - 401 0 null 43.6281ms
2025-12-15 00:59:23.421 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5231/api/users/3 - null null
2025-12-15 00:59:23.431 -03:00 [INF] CORS policy execution failed.
2025-12-15 00:59:23.432 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 00:59:23.448 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 03:59:23'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-15 00:59:23.510 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 03:59:23'.
2025-12-15 00:59:23.512 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-15 00:59:23.514 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 00:59:23.515 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5231/api/users/3 - 401 0 null 94.2479ms
2025-12-15 00:59:56.505 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 00:59:56.523 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:59:56.527 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 21.6003ms
2025-12-15 00:59:56.532 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 00:59:56.535 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:59:56.537 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 5.4069ms
2025-12-15 00:59:56.541 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 01:00:04.096 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 64
2025-12-15 01:00:04.100 -03:00 [INF] CORS policy execution failed.
2025-12-15 01:00:04.101 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 01:00:04.105 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 04:00:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-15 01:00:04.113 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 04:00:04'.
2025-12-15 01:00:04.116 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:00:04.147 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:00:04.187 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:00:04.563 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:00:04.581 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:00:04.586 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 01:00:04.588 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 429.998ms
2025-12-15 01:00:04.592 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:00:04.594 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 497.564ms
2025-12-15 01:00:21.268 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5231/api/users/3 - null null
2025-12-15 01:00:21.271 -03:00 [INF] CORS policy execution failed.
2025-12-15 01:00:21.272 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 01:00:21.277 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Delete (Api)'
2025-12-15 01:00:21.287 -03:00 [INF] Route matched with {action = "Delete", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:00:21.315 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Id", u0."CreatedAt", u0."Email", u0."IsActive", u0."LastLoginAt", u0."Name", u0."PasswordHash", u0."RefreshToken", u0."RefreshTokenExpiration", u0."Role", r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM (
    SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
    FROM "Users" AS u
    WHERE u."Id" = @__id_0
    LIMIT 1
) AS u0
LEFT JOIN "Reservations" AS r ON u0."Id" = r."UserId"
ORDER BY u0."Id"
2025-12-15 01:00:21.324 -03:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 01:00:21.328 -03:00 [INF] Executed action Api.Controllers.UsersController.Delete (Api) in 36.2912ms
2025-12-15 01:00:21.330 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Delete (Api)'
2025-12-15 01:00:21.332 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5231/api/users/3 - 400 null application/json; charset=utf-8 64.4235ms
2025-12-15 01:00:49.182 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 01:00:49.186 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.187 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 5.5995ms
2025-12-15 01:00:49.192 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-15 01:00:49.196 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.197 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:00:49.198 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:00:49.203 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:00:49.394 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:00:49.399 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:00:49.402 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 01:00:49.403 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 202.2218ms
2025-12-15 01:00:49.405 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:00:49.406 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 213.7198ms
2025-12-15 01:00:49.471 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:00:49.472 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:00:49.510 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:00:49.512 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:00:49.514 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.517 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.519 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.521 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.522 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 51.4146ms
2025-12-15 01:00:49.523 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 51.0341ms
2025-12-15 01:00:49.525 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 14.9571ms
2025-12-15 01:00:49.526 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 14.0607ms
2025-12-15 01:00:49.530 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:00:49.534 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:00:49.534 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:00:49.537 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:00:49.539 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.545 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.547 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.549 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.550 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 20.6122ms
2025-12-15 01:00:49.562 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:00:49.553 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:00:49.554 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:00:49.552 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:00:49.564 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.565 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:00:49.567 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:00:49.568 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:00:49.578 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:00:49.617 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.571 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:00:49.568 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:00:49.618 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:00:49.620 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:49.621 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:00:49.622 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:00:49.623 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 52.5412ms
2025-12-15 01:00:49.632 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:00:49.634 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 99.1553ms
2025-12-15 01:00:49.635 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:00:49.643 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:49.646 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 17.4744ms
2025-12-15 01:00:49.648 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:00:49.649 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 86.6629ms
2025-12-15 01:00:49.721 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:00:49.722 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:00:49.730 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:00:49.730 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:49.731 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:00:49.733 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:00:49.734 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 156.5667ms
2025-12-15 01:00:49.737 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:49.738 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 106.5533ms
2025-12-15 01:00:49.744 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:00:49.742 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 169.8136ms
2025-12-15 01:00:49.739 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:00:49.746 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 167.9718ms
2025-12-15 01:00:49.747 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:00:49.748 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 214.0573ms
2025-12-15 01:00:49.752 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 214.7868ms
2025-12-15 01:00:50.727 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:00:50.727 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:00:50.730 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:50.735 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:50.737 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:00:50.737 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:00:50.742 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:00:50.743 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:00:50.749 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:00:50.771 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:00:50.784 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:50.788 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:50.789 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 41.9382ms
2025-12-15 01:00:50.797 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:00:50.796 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 47.0951ms
2025-12-15 01:00:50.798 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 71.4521ms
2025-12-15 01:00:50.799 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:00:50.804 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 77.2177ms
2025-12-15 01:00:58.922 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:00:58.929 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:58.931 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 8.3783ms
2025-12-15 01:00:58.935 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:00:58.941 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:58.943 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:00:58.945 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:00:58.951 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:00:58.960 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:58.961 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 13.6326ms
2025-12-15 01:00:58.963 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:00:58.964 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 29.3613ms
2025-12-15 01:01:42.718 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/3 - null null
2025-12-15 01:01:42.729 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:42.730 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/3 - 204 null null 11.8153ms
2025-12-15 01:01:42.734 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/3 - application/json 59
2025-12-15 01:01:42.736 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:42.738 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:01:42.739 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:01:42.743 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:01:42.754 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsActive" = @p0
WHERE "Id" = @p1;
2025-12-15 01:01:42.759 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:01:42.761 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 19.9005ms
2025-12-15 01:01:42.763 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:01:42.764 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/3 - 200 null application/json; charset=utf-8 29.2933ms
2025-12-15 01:01:42.767 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:01:42.769 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:42.770 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 3.4728ms
2025-12-15 01:01:42.775 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:01:42.777 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:42.778 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:01:42.779 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:01:42.785 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:01:42.789 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:01:42.791 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 8.7411ms
2025-12-15 01:01:42.794 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:01:42.796 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 21.1986ms
2025-12-15 01:01:47.026 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:01:47.029 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:47.032 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 6.1834ms
2025-12-15 01:01:47.035 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:01:47.038 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:47.040 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:01:47.041 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:01:47.049 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:01:47.055 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:01:47.058 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 11.8581ms
2025-12-15 01:01:47.060 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:01:47.062 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 27.2426ms
2025-12-15 01:02:26.274 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users/3 - null null
2025-12-15 01:02:26.285 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetById (Api)'
2025-12-15 01:02:26.289 -03:00 [INF] Route matched with {action = "GetById", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:02:26.314 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-12-15 01:02:26.333 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:02:26.338 -03:00 [INF] Executed action Api.Controllers.UsersController.GetById (Api) in 36.1886ms
2025-12-15 01:02:26.346 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetById (Api)'
2025-12-15 01:02:26.347 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users/3 - 200 null application/json; charset=utf-8 76.2056ms
2025-12-15 01:03:37.822 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/3 - application/json 89
2025-12-15 01:03:37.837 -03:00 [INF] CORS policy execution failed.
2025-12-15 01:03:37.838 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 01:03:37.841 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:03:37.842 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:03:37.847 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:03:37.855 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsActive" = @p0, "Role" = @p1
WHERE "Id" = @p2;
2025-12-15 01:03:37.859 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:03:37.860 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 14.7938ms
2025-12-15 01:03:37.862 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:03:37.864 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/3 - 200 null application/json; charset=utf-8 41.6289ms
2025-12-15 01:03:49.191 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:03:49.221 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:03:49.226 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.232 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.233 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 41.5927ms
2025-12-15 01:03:49.250 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:03:49.242 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 49.459ms
2025-12-15 01:03:49.253 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.258 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:03:49.259 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:03:49.261 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.264 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:03:49.266 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:03:49.270 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:03:49.272 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:03:49.276 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:03:49.276 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:03:49.289 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 19.3496ms
2025-12-15 01:03:49.290 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:03:49.291 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:03:49.291 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 41.1747ms
2025-12-15 01:03:49.293 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 19.7488ms
2025-12-15 01:03:49.300 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:03:49.302 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 43.9003ms
2025-12-15 01:03:49.906 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:03:49.911 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.914 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 6.5697ms
2025-12-15 01:03:49.922 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:03:49.925 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.925 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:03:49.926 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:03:49.937 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:03:49.941 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:03:49.942 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 13.7236ms
2025-12-15 01:03:49.943 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:03:49.944 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 21.9828ms
2025-12-15 01:03:53.233 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:03:53.236 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:53.237 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 4.5ms
2025-12-15 01:03:53.241 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:03:53.245 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:53.248 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:03:53.250 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:03:53.255 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:03:53.260 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:03:53.263 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 9.6259ms
2025-12-15 01:03:53.266 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:03:53.268 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 26.8883ms
2025-12-15 01:04:15.946 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/2 - null null
2025-12-15 01:04:15.967 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:15.968 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/2 - 204 null null 22.1216ms
2025-12-15 01:04:15.972 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/2 - application/json 59
2025-12-15 01:04:15.974 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:15.975 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:04:15.976 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:04:15.980 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:04:15.997 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='?', @__id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__dto_Email_0 AND u."Id" <> @__id_1)
2025-12-15 01:04:16.002 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Email" = @p0
WHERE "Id" = @p1;
2025-12-15 01:04:16.007 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:04:16.010 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 31.5962ms
2025-12-15 01:04:16.011 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:04:16.013 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/2 - 200 null application/json; charset=utf-8 41.1735ms
2025-12-15 01:04:16.018 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:04:16.021 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:16.022 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 4.2822ms
2025-12-15 01:04:16.027 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:04:16.030 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:16.032 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:16.034 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:04:16.044 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:04:16.048 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:16.050 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 11.0681ms
2025-12-15 01:04:16.052 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:16.055 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 28.4293ms
2025-12-15 01:04:24.398 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:04:24.452 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:24.453 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 55.1036ms
2025-12-15 01:04:24.449 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:04:24.460 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:24.461 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 11.7442ms
2025-12-15 01:04:24.463 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:04:24.464 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:04:24.466 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:24.470 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:24.471 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:04:24.472 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:04:24.472 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:04:24.473 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:04:24.478 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:04:24.480 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:24.481 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:04:24.482 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 4.5469ms
2025-12-15 01:04:24.490 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:04:24.490 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:24.491 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 27.1701ms
2025-12-15 01:04:24.493 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 17.8513ms
2025-12-15 01:04:24.497 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:04:24.498 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 34.8144ms
2025-12-15 01:04:24.994 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:04:25.002 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:25.005 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 10.6968ms
2025-12-15 01:04:25.010 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:04:25.013 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:25.015 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:25.017 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:04:25.023 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:04:25.028 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:25.030 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 8.8679ms
2025-12-15 01:04:25.031 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:25.033 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 23.1871ms
2025-12-15 01:04:26.540 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:04:26.543 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:26.546 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 4.9195ms
2025-12-15 01:04:26.551 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:04:26.554 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:26.555 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:26.557 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:04:26.564 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:04:26.568 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:26.570 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 11.3215ms
2025-12-15 01:04:26.573 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:26.600 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 48.4233ms
2025-12-15 01:15:28.878 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/1 - null null
2025-12-15 01:15:28.882 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:28.883 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/1 - 204 null null 4.7445ms
2025-12-15 01:15:28.886 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/1 - application/json 32
2025-12-15 01:15:28.888 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:28.890 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:15:28.892 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:15:28.949 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:15:28.954 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:15:28.955 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 59.6145ms
2025-12-15 01:15:28.966 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:15:28.967 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/1 - 200 null application/json; charset=utf-8 80.8537ms
2025-12-15 01:15:28.971 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:15:28.975 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:28.977 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 6.5292ms
2025-12-15 01:15:28.980 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:15:28.983 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:28.985 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:15:28.986 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:15:28.998 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:15:29.004 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:29.009 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 17.1932ms
2025-12-15 01:15:29.010 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:15:29.012 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 31.5688ms
2025-12-15 01:15:39.790 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:15:39.831 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:15:39.836 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:39.839 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:39.843 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 12.4687ms
2025-12-15 01:15:39.841 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 50.5482ms
2025-12-15 01:15:39.846 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:15:39.850 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:15:39.852 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:39.857 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:39.858 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:15:39.860 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:15:39.861 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:15:39.862 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:15:39.873 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:15:39.881 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:39.890 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 26.3716ms
2025-12-15 01:15:39.893 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:15:39.895 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 48.3942ms
2025-12-15 01:15:39.925 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:15:39.929 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:39.931 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 65.2742ms
2025-12-15 01:15:39.933 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:15:39.934 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 84.1381ms
2025-12-15 01:15:49.609 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:15:49.614 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:49.618 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 9.6862ms
2025-12-15 01:15:49.625 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:15:49.628 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:49.630 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:15:49.631 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:15:49.638 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:15:49.643 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:49.646 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 10.7598ms
2025-12-15 01:15:49.647 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:15:49.652 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 26.2439ms
2025-12-15 01:15:56.514 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:15:56.525 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:56.526 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 11.2887ms
2025-12-15 01:15:56.529 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:15:56.532 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:56.535 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:15:56.537 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:15:56.542 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:15:56.549 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:56.551 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.4117ms
2025-12-15 01:15:56.553 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:15:56.556 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 26.8201ms
2025-12-15 01:16:06.584 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:16:06.627 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:16:06.655 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:16:06.658 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:06.661 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.666 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.668 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.671 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.672 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 88.0993ms
2025-12-15 01:16:06.673 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 45.9488ms
2025-12-15 01:16:06.673 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 44.5569ms
2025-12-15 01:16:06.674 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 16.4523ms
2025-12-15 01:16:06.681 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:06.682 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:06.686 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:16:06.688 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:16:06.691 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.694 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.696 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.699 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.699 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:06.700 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:06.701 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:16:06.702 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:16:06.703 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:06.704 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:16:06.705 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:16:06.706 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:16:06.709 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:06.718 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:06.720 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.3236ms
2025-12-15 01:16:06.748 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:16:06.749 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:06.753 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 71.9014ms
2025-12-15 01:16:06.754 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:06.758 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 47.181ms
2025-12-15 01:16:06.759 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:06.760 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 78.3244ms
2025-12-15 01:16:06.762 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:16:06.767 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:06.770 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 57.0845ms
2025-12-15 01:16:06.772 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:16:06.773 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 87.1548ms
2025-12-15 01:16:06.820 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:16:06.824 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:16:06.827 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:06.829 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 113.0182ms
2025-12-15 01:16:06.830 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:16:06.831 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 142.4462ms
2025-12-15 01:16:10.366 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:16:10.372 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:10.374 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 7.8945ms
2025-12-15 01:16:10.381 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:16:10.385 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:10.386 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:16:10.388 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:16:10.398 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:16:10.402 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:10.404 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 10.7977ms
2025-12-15 01:16:10.405 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:16:10.406 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 25.1006ms
2025-12-15 01:16:25.479 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:16:25.479 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:25.495 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:25.490 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:25.496 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 17.0185ms
2025-12-15 01:16:25.497 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 17.9912ms
2025-12-15 01:16:25.502 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:25.508 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:25.511 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:25.515 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:25.516 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:25.517 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:25.518 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:25.519 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:16:25.527 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:25.531 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:25.534 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 10.4918ms
2025-12-15 01:16:25.539 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:25.539 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:16:25.542 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 39.9369ms
2025-12-15 01:16:25.547 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:25.550 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 23.4773ms
2025-12-15 01:16:25.551 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:25.552 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 43.9774ms
2025-12-15 01:16:27.588 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:27.588 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:27.594 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:27.596 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:27.597 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:27.598 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:27.599 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:27.600 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:16:27.606 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:27.610 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:27.610 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:16:27.612 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 9.5944ms
2025-12-15 01:16:27.617 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:27.618 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:27.619 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 31.1435ms
2025-12-15 01:16:27.621 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 13.3259ms
2025-12-15 01:16:27.625 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:27.626 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 38.0065ms
2025-12-15 01:16:31.719 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:16:31.724 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:31.725 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 6.7072ms
2025-12-15 01:16:31.732 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:31.737 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:31.738 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:31.740 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:31.746 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:31.749 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:31.750 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 5.0411ms
2025-12-15 01:16:31.754 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:31.757 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 24.3748ms
2025-12-15 01:16:33.085 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:16:33.086 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:16:33.086 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:33.087 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:33.094 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.098 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.100 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.109 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 22.6884ms
2025-12-15 01:16:33.108 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 21.789ms
2025-12-15 01:16:33.105 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 19.8312ms
2025-12-15 01:16:33.104 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.128 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:33.130 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:16:33.133 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:16:33.134 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:33.138 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.140 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.142 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.143 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:33.144 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:33.148 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:33.145 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:16:33.145 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:16:33.148 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:16:33.155 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:33.157 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:16:33.158 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:16:33.162 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 14.2119ms
2025-12-15 01:16:33.163 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:16:33.165 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:16:33.166 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:16:33.169 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:33.175 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:33.176 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:16:33.177 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:33.178 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 91.1709ms
2025-12-15 01:16:33.180 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 19.3723ms
2025-12-15 01:16:33.182 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:33.183 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 18.056ms
2025-12-15 01:16:33.189 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:33.191 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 27.5832ms
2025-12-15 01:16:33.192 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:16:33.193 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 65.6431ms
2025-12-15 01:16:33.194 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:16:33.196 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 65.1251ms
2025-12-15 01:16:33.199 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 66.2405ms
2025-12-15 01:20:10.076 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 01:20:10.426 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 01:20:10.437 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 01:20:10.439 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 01:20:10.442 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 01:20:10.449 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-15 01:20:10.712 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 01:20:10.724 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-15 01:20:10.731 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-15 01:20:10.898 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 01:20:11.075 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-15 01:20:11.163 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 01:20:11.165 -03:00 [INF] Hosting environment: Development
2025-12-15 01:20:11.165 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-15 01:20:11.896 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-15 01:20:12.158 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-15 01:20:12.161 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-15 01:20:12.168 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 283.3552ms
2025-12-15 01:20:12.186 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 28.1408ms
2025-12-15 01:20:12.186 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 25.0886ms
2025-12-15 01:20:12.783 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-15 01:20:12.823 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.1544ms
2025-12-15 01:20:14.098 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-15 01:20:14.139 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.6561ms
2025-12-15 01:24:30.471 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:24:30.476 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:30.479 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 8.1848ms
2025-12-15 01:24:30.482 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:24:30.487 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:30.761 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:30.782 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:24:31.154 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:24:31.264 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:24:31.281 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 489.9858ms
2025-12-15 01:24:31.283 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:31.291 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 809.0606ms
2025-12-15 01:24:32.780 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:24:32.780 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:24:32.851 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:24:32.860 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:24:32.860 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:24:32.862 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.873 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.866 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.868 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.864 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.873 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 93.1269ms
2025-12-15 01:24:32.876 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 63.6127ms
2025-12-15 01:24:32.877 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:32.877 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 17.1044ms
2025-12-15 01:24:32.877 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 97.2905ms
2025-12-15 01:24:32.883 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:24:32.883 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:24:32.884 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:24:32.886 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:24:32.891 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:24:32.893 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.895 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.898 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.900 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.907 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:24:32.909 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:24:32.909 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:24:32.913 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:24:32.913 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:24:32.913 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:24:32.923 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:24:32.925 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:24:32.966 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:24:32.984 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:24:32.991 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 94.4011ms
2025-12-15 01:24:32.992 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:32.994 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 134.0233ms
2025-12-15 01:24:33.073 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:24:33.074 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:24:33.075 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:24:33.097 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:33.114 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:33.134 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:24:33.134 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 220.111ms
2025-12-15 01:24:33.134 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 207.045ms
2025-12-15 01:24:33.140 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:24:33.142 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:24:33.143 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:33.143 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 257.313ms
2025-12-15 01:24:33.144 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 260.868ms
2025-12-15 01:24:33.147 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 221.6588ms
2025-12-15 01:24:33.155 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:24:33.156 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 265.8885ms
2025-12-15 01:24:33.194 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:24:33.283 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:33.297 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 380.4209ms
2025-12-15 01:24:33.298 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:24:33.300 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 417.1596ms
2025-12-15 01:24:36.247 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:24:36.250 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:36.251 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 3.4663ms
2025-12-15 01:24:36.254 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:24:36.257 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:36.258 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:36.259 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:24:36.267 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:24:36.272 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:24:36.273 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 11.6327ms
2025-12-15 01:24:36.274 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:36.275 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 21.1698ms
2025-12-15 01:24:36.406 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:24:36.406 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:24:36.406 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:24:36.408 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:36.411 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:36.413 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:36.415 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:24:36.418 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:24:36.417 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:36.416 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:24:36.428 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:24:36.427 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:24:36.430 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:24:36.440 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:24:36.443 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:24:36.446 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:36.463 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 40.3794ms
2025-12-15 01:24:36.465 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:24:36.466 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:36.448 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:24:36.466 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 59.6511ms
2025-12-15 01:24:36.468 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 37.4214ms
2025-12-15 01:24:36.469 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 35.4269ms
2025-12-15 01:24:36.477 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:36.475 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:24:36.478 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 71.4671ms
2025-12-15 01:24:36.480 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 73.4898ms
2025-12-15 01:24:42.313 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:24:42.313 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:24:42.326 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:24:42.326 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:24:42.347 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.351 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.356 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.359 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.361 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 48.2084ms
2025-12-15 01:24:42.362 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 48.9146ms
2025-12-15 01:24:42.363 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 37.0416ms
2025-12-15 01:24:42.365 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 38.5975ms
2025-12-15 01:24:42.403 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:24:42.407 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:24:42.410 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:24:42.412 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:24:42.415 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.418 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.421 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.425 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.430 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:24:42.431 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:24:42.429 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:24:42.427 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:24:42.428 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:24:42.439 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:24:42.439 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:24:42.440 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:24:42.441 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:24:42.445 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:42.456 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:24:42.456 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:24:42.457 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 24.2389ms
2025-12-15 01:24:42.459 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:42.462 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:24:42.462 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:24:42.464 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 8.9914ms
2025-12-15 01:24:42.471 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:24:42.469 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 56.6118ms
2025-12-15 01:24:42.465 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:24:42.473 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 65.6918ms
2025-12-15 01:24:42.473 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:42.478 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:42.482 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 34.589ms
2025-12-15 01:24:42.486 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:24:42.485 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 32.5637ms
2025-12-15 01:24:42.488 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 77.7473ms
2025-12-15 01:24:42.489 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:24:42.493 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 90.7868ms
2025-12-15 01:29:49.209 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:29:49.214 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.215 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 6.3569ms
2025-12-15 01:29:49.221 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:29:49.225 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.226 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:49.228 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:29:49.234 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:29:49.239 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:29:49.240 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.3501ms
2025-12-15 01:29:49.242 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:49.244 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 22.4859ms
2025-12-15 01:29:49.337 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:29:49.339 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.339 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:29:49.423 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.374 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 37.5271ms
2025-12-15 01:29:49.379 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:29:49.418 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:29:49.371 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:29:49.424 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 84.7565ms
2025-12-15 01:29:49.427 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:29:49.433 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.435 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.437 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.444 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 72.8552ms
2025-12-15 01:29:49.483 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:29:49.442 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.442 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 66.4322ms
2025-12-15 01:29:49.443 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:49.439 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:29:49.487 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.487 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:29:49.490 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:29:49.492 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:29:49.494 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.499 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:29:49.506 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:29:49.502 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.505 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:29:49.500 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:29:49.506 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:29:49.509 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:29:49.510 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:29:49.510 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:29:49.517 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:29:49.517 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:29:49.518 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:29:49.522 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:29:49.523 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:49.526 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 22.0975ms
2025-12-15 01:29:49.526 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:29:49.539 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:49.540 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 26.4748ms
2025-12-15 01:29:49.541 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:29:49.535 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:49.533 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:49.533 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:29:49.534 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 26.008ms
2025-12-15 01:29:49.543 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 115.4155ms
2025-12-15 01:29:49.544 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 159.4012ms
2025-12-15 01:29:49.585 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 64.5901ms
2025-12-15 01:29:49.592 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:29:49.593 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:49.602 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:29:49.603 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 119.7729ms
2025-12-15 01:29:49.605 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 76.2207ms
2025-12-15 01:29:49.610 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:29:49.615 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 125.0612ms
2025-12-15 01:29:49.606 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 166.5906ms
2025-12-15 01:29:55.945 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:29:55.949 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:55.949 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 4.1764ms
2025-12-15 01:29:55.954 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:29:55.957 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:55.958 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:55.960 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:29:55.968 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:29:55.975 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:29:55.977 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 12.5361ms
2025-12-15 01:29:55.979 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:55.982 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 27.7997ms
2025-12-15 01:29:56.573 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:29:56.573 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:29:56.574 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:29:56.586 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.587 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 12.9319ms
2025-12-15 01:29:56.581 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.598 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 25.6085ms
2025-12-15 01:29:56.574 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:29:56.647 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.653 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 78.3627ms
2025-12-15 01:29:56.576 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:29:56.665 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.583 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.668 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 95.0818ms
2025-12-15 01:29:56.668 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:56.671 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:29:56.684 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:29:56.689 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:29:56.691 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 9.2775ms
2025-12-15 01:29:56.694 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:56.697 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 120.1192ms
2025-12-15 01:29:56.735 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:29:56.735 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:29:56.803 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.747 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:29:56.815 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.817 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:29:56.819 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:29:56.834 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:29:56.746 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:29:56.841 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.845 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:29:56.853 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:29:56.805 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:29:56.863 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:29:56.839 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:56.869 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 36.7653ms
2025-12-15 01:29:56.789 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.861 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:29:56.870 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:29:56.879 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 132.9202ms
2025-12-15 01:29:56.871 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:29:56.878 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:56.870 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:29:56.885 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:29:56.889 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 32.2866ms
2025-12-15 01:29:56.898 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:29:56.897 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:29:56.899 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 152.7019ms
2025-12-15 01:29:56.900 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:29:56.903 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:56.914 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 46.4954ms
2025-12-15 01:29:56.913 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:56.915 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:29:56.920 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 184.9033ms
2025-12-15 01:29:56.919 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 21.8978ms
2025-12-15 01:29:56.925 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:29:56.929 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 194.1622ms
2025-12-15 01:30:18.041 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:30:18.051 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.052 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 11.752ms
2025-12-15 01:30:18.056 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:30:18.058 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.059 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:30:18.060 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:30:18.108 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:30:18.111 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:30:18.112 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 50.8517ms
2025-12-15 01:30:18.115 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:30:18.116 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 59.9227ms
2025-12-15 01:30:18.617 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:30:18.662 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.664 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 46.3175ms
2025-12-15 01:30:18.672 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:30:18.658 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:30:18.723 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.724 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 65.9523ms
2025-12-15 01:30:18.722 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:30:18.676 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.730 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 57.1602ms
2025-12-15 01:30:18.729 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.715 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:30:18.736 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.737 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 60.4035ms
2025-12-15 01:30:18.733 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:30:18.730 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:30:18.732 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:30:18.790 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.783 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:30:18.788 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.740 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:30:18.796 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.797 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:30:18.798 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:30:18.794 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:30:18.823 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:30:18.823 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:30:18.791 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:30:18.832 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:30:18.839 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:30:18.840 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 47.3197ms
2025-12-15 01:30:18.844 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:30:18.845 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 123.1579ms
2025-12-15 01:30:18.847 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:30:18.881 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:30:18.922 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:30:18.939 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.955 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:30:18.956 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:30:18.956 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:30:18.956 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:30:18.956 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:30:18.959 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:30:18.961 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 118.9382ms
2025-12-15 01:30:18.967 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:30:18.969 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 140.1643ms
2025-12-15 01:30:18.971 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:30:18.971 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:30:18.972 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 150.8795ms
2025-12-15 01:30:18.978 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:30:18.974 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 242.3012ms
2025-12-15 01:30:18.977 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:30:18.973 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:30:18.987 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 246.9566ms
2025-12-15 01:30:18.994 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 27.1108ms
2025-12-15 01:30:18.995 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 265.1407ms
2025-12-15 01:30:19.000 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:30:19.005 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 123.8912ms
2025-12-15 01:31:24.423 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:31:24.425 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:24.426 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 2.2992ms
2025-12-15 01:31:24.428 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:31:24.431 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:24.433 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:31:24.435 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:31:24.438 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:31:24.441 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:31:24.442 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.7497ms
2025-12-15 01:31:24.444 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:31:24.445 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 16.7619ms
2025-12-15 01:31:24.979 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:31:24.988 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:31:24.997 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:31:24.997 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:31:25.016 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.008 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.018 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 30.3562ms
2025-12-15 01:31:24.999 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.017 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 19.6337ms
2025-12-15 01:31:25.009 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.037 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 40.7672ms
2025-12-15 01:31:25.032 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 53.6125ms
2025-12-15 01:31:25.031 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:31:25.050 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.054 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:31:25.092 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.054 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:31:25.060 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:31:25.061 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:31:25.109 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:31:25.093 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:31:25.151 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:31:25.108 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.054 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:31:25.106 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.155 -03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:31:25.156 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:31:25.167 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:31:25.167 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:31:25.170 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:31:25.158 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.169 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 57.7312ms
2025-12-15 01:31:25.167 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:31:25.170 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:31:25.174 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:31:25.185 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:31:25.180 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:31:25.176 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:31:25.186 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:31:25.187 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:31:25.190 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:31:25.198 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:31:25.191 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 37.737ms
2025-12-15 01:31:25.201 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:31:25.190 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 158.764ms
2025-12-15 01:31:25.200 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 13.2084ms
2025-12-15 01:31:25.206 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:31:25.202 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 148.0349ms
2025-12-15 01:31:25.205 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:31:25.216 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:31:25.218 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 45.1732ms
2025-12-15 01:31:25.218 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:31:25.219 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 165.3323ms
2025-12-15 01:31:25.194 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:31:25.223 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 45.3861ms
2025-12-15 01:31:25.224 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:31:25.225 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 165.0229ms
2025-12-15 01:31:25.207 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 153.1383ms
2025-12-15 01:33:47.970 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:33:47.979 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:33:47.982 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:47.985 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:47.987 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 17.8247ms
2025-12-15 01:33:47.995 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 15.6256ms
2025-12-15 01:33:47.999 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:33:48.006 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:33:48.009 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:48.011 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:48.013 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:33:48.016 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:33:48.015 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:33:48.022 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:33:48.024 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:33:48.026 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:33:48.029 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:33:48.032 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:33:48.034 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 13.2283ms
2025-12-15 01:33:48.036 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.3453ms
2025-12-15 01:33:48.038 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:33:48.039 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:33:48.042 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 42.5994ms
2025-12-15 01:33:48.043 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 36.5791ms
2025-12-15 01:33:57.745 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:33:57.758 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.759 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 14.1683ms
2025-12-15 01:33:57.754 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:33:57.780 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.751 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:33:57.747 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:33:57.784 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:33:57.785 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 31.0485ms
2025-12-15 01:33:57.787 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.802 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 51.1379ms
2025-12-15 01:33:57.792 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.789 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.802 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:33:57.806 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:33:57.806 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:33:57.807 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 60.3494ms
2025-12-15 01:33:57.809 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.813 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.815 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:33:57.818 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:33:57.823 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:33:57.819 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:33:57.823 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:33:57.819 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:33:57.841 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:33:57.838 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.836 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:33:57.842 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:33:57.848 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:33:57.849 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:33:57.853 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:33:57.853 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:33:57.854 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:33:57.856 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:33:57.858 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 32.593ms
2025-12-15 01:33:57.859 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 37.6287ms
2025-12-15 01:33:57.866 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:33:57.866 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 23.1129ms
2025-12-15 01:33:57.868 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:33:57.869 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:33:57.872 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:33:57.872 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:33:57.879 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 73.4282ms
2025-12-15 01:33:57.874 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 90.1109ms
2025-12-15 01:33:57.876 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.225ms
2025-12-15 01:33:57.886 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:33:57.873 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 71.3569ms
2025-12-15 01:33:57.890 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 70.4178ms
2025-12-15 01:34:38.413 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:34:38.422 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-15 01:34:38.437 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 01:34:38.438 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 401 0 null 24.4536ms
2025-12-15 01:34:49.188 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:34:49.196 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 04:34:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-15 01:34:49.231 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 04:34:49'.
2025-12-15 01:34:49.233 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-15 01:34:49.236 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 01:34:49.236 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 401 0 null 48.2461ms
2025-12-15 01:35:10.846 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 01:35:10.888 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:35:10.890 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 43.6479ms
2025-12-15 01:35:10.893 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 01:35:10.895 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:35:10.896 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 3.0022ms
2025-12-15 01:35:10.900 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 01:35:20.675 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 64
2025-12-15 01:35:20.679 -03:00 [INF] CORS policy execution failed.
2025-12-15 01:35:20.680 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 01:35:20.684 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 04:35:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-15 01:35:20.691 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 04:35:20'.
2025-12-15 01:35:20.694 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:35:20.703 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:35:20.793 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:35:21.254 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:35:21.283 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:35:21.289 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 01:35:21.291 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 583.6181ms
2025-12-15 01:35:21.294 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:35:21.295 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 619.6912ms
2025-12-15 01:35:36.136 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:35:36.142 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:35:36.146 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:35:36.162 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:35:36.170 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:35:36.172 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 23.0436ms
2025-12-15 01:35:36.174 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:35:36.175 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 38.4455ms
2025-12-15 01:39:35.849 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 01:39:35.855 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:35.856 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 30.2313ms
2025-12-15 01:39:35.864 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-15 01:39:35.866 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:35.867 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:39:35.869 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:39:35.873 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:39:36.062 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:39:36.068 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:39:36.072 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 01:39:36.073 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 202.847ms
2025-12-15 01:39:36.075 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:39:36.076 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 211.8839ms
2025-12-15 01:39:36.145 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:39:36.153 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:39:36.167 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.159 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:39:36.170 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.172 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 15.9591ms
2025-12-15 01:39:36.150 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:39:36.168 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 14.8095ms
2025-12-15 01:39:36.162 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:39:36.165 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.181 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.185 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:39:36.187 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:39:36.197 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.189 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 43.8026ms
2025-12-15 01:39:36.190 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 40.2037ms
2025-12-15 01:39:36.192 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.188 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.198 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:39:36.206 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:39:36.205 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:39:36.205 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 43.6261ms
2025-12-15 01:39:36.206 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:39:36.209 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.210 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:39:36.214 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:39:36.220 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:39:36.217 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:39:36.217 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:39:36.223 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.225 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:39:36.226 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:39:36.230 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.231 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:39:36.237 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:39:36.236 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:39:36.233 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 16.3678ms
2025-12-15 01:39:36.242 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:39:36.240 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:39:36.237 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:39:36.243 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 56.609ms
2025-12-15 01:39:36.258 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:39:36.262 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:39:36.266 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 31.0595ms
2025-12-15 01:39:36.267 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:39:36.268 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 61.9014ms
2025-12-15 01:39:36.324 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:39:36.325 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:39:36.331 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:39:36.335 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 116.4091ms
2025-12-15 01:39:36.336 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:39:36.337 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:39:36.339 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 154.4457ms
2025-12-15 01:39:36.338 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 99.4094ms
2025-12-15 01:39:36.348 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:39:36.349 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 134.8802ms
2025-12-15 01:39:36.351 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:39:36.354 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:39:36.355 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 104.3113ms
2025-12-15 01:39:36.357 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:39:36.358 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 141.0861ms
2025-12-15 01:39:46.880 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:39:46.885 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:46.886 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 5.2968ms
2025-12-15 01:39:46.889 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:39:46.891 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:46.893 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:39:46.895 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:39:46.899 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:39:46.902 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:39:46.903 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.4438ms
2025-12-15 01:39:46.905 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:39:46.906 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 16.9842ms
2025-12-15 01:39:46.989 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:39:46.989 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:39:46.990 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:39:46.992 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:46.994 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:46.997 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:46.997 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 8.4368ms
2025-12-15 01:39:46.998 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 8.8737ms
2025-12-15 01:39:46.999 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:39:47.002 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:39:47.008 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:47.005 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:39:47.004 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:39:47.009 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:39:47.015 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:47.016 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:39:47.017 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:39:47.024 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:39:47.019 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:39:47.025 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:39:47.029 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:39:47.029 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:39:47.034 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:39:47.035 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:39:47.036 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 25.3413ms
2025-12-15 01:39:47.038 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 18.1143ms
2025-12-15 01:39:47.043 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:39:47.041 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:39:47.039 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 12.8535ms
2025-12-15 01:39:47.045 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 43.032ms
2025-12-15 01:39:47.046 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 56.1845ms
2025-12-15 01:39:47.047 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:39:47.054 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 49.5738ms
2025-12-15 01:40:00.541 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:40:00.541 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:40:00.542 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:40:00.542 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:40:00.545 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.557 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 16.18ms
2025-12-15 01:40:00.561 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:40:00.556 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.548 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.552 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.570 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 28.3691ms
2025-12-15 01:40:00.620 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:40:00.565 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.569 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 26.0431ms
2025-12-15 01:40:00.569 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 27.3942ms
2025-12-15 01:40:00.624 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.625 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:40:00.628 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:40:00.631 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:40:00.638 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.632 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:40:00.634 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.631 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:40:00.640 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:40:00.644 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:40:00.644 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:40:00.645 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:40:00.646 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:40:00.648 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:40:00.655 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:40:00.657 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:40:00.659 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:40:00.662 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:40:00.664 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:40:00.668 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:40:00.670 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:40:00.673 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:40:00.675 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 32.065ms
2025-12-15 01:40:00.677 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 22.8596ms
2025-12-15 01:40:00.678 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 19.2597ms
2025-12-15 01:40:00.679 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 18.1779ms
2025-12-15 01:40:00.681 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:40:00.682 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:40:00.688 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 68.1054ms
2025-12-15 01:40:00.684 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:40:00.685 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 123.8126ms
2025-12-15 01:40:00.683 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:40:00.692 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 64.1798ms
2025-12-15 01:40:00.696 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 65.5536ms
2025-12-15 01:40:09.186 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users - null null
2025-12-15 01:40:09.186 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:40:09.192 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:09.194 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 7.8448ms
2025-12-15 01:40:09.190 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:09.200 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:40:09.202 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:09.200 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users - 204 null null 14.6931ms
2025-12-15 01:40:09.206 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users - null null
2025-12-15 01:40:09.209 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:09.204 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:40:09.210 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:40:09.210 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:40:09.221 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:40:09.277 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:40:09.328 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:40:09.338 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 125.5063ms
2025-12-15 01:40:09.340 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:40:09.343 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 143.5997ms
2025-12-15 01:40:09.368 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:40:09.376 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:40:09.388 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 160.0775ms
2025-12-15 01:40:09.392 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:40:09.395 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users - 200 null application/json; charset=utf-8 189.0648ms
2025-12-15 01:40:36.665 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-17&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:40:36.710 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:36.710 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-17&startTime=19:00&endTime=21:00&guests=2 - 204 null null 45.0696ms
2025-12-15 01:40:36.715 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-17&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:40:36.719 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:36.720 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:40:36.722 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:40:36.730 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:40:36.736 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:40:36.738 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:40:36.740 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 13.2746ms
2025-12-15 01:40:36.742 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:40:36.743 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-17&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 28.4894ms
2025-12-15 01:43:10.481 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:43:10.488 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.490 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 8.7989ms
2025-12-15 01:43:10.494 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:43:10.496 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.497 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:10.498 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:43:10.501 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:43:10.505 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:43:10.507 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.0271ms
2025-12-15 01:43:10.510 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:10.512 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 17.9529ms
2025-12-15 01:43:10.734 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:43:10.750 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.741 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:43:10.754 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.734 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:43:10.759 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.760 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 26.0587ms
2025-12-15 01:43:10.755 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 14.2136ms
2025-12-15 01:43:10.752 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 18.0843ms
2025-12-15 01:43:10.748 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:43:10.763 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:43:10.774 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.780 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 32.0535ms
2025-12-15 01:43:10.778 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.784 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:10.785 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:43:10.783 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:43:10.793 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.799 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:43:10.802 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:43:10.783 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:43:10.786 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:43:10.790 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:43:10.807 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:43:10.809 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.811 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.817 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:43:10.816 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:43:10.816 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:43:10.813 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.818 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:43:10.819 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 30.1927ms
2025-12-15 01:43:10.820 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:43:10.823 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:43:10.829 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:43:10.826 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:10.825 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:43:10.830 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:43:10.877 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:43:10.880 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 55.3891ms
2025-12-15 01:43:10.881 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:43:10.882 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 95.5487ms
2025-12-15 01:43:10.869 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 105.444ms
2025-12-15 01:43:10.876 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:43:10.894 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 88.2491ms
2025-12-15 01:43:10.895 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:43:10.895 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 112.427ms
2025-12-15 01:43:10.865 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:43:10.901 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:43:10.903 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:43:10.909 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 80.5935ms
2025-12-15 01:43:10.910 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:43:10.910 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 127.9087ms
2025-12-15 01:43:11.067 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:43:11.073 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:43:11.077 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 212.8651ms
2025-12-15 01:43:11.080 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:43:11.082 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 291.2013ms
2025-12-15 01:43:21.147 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:43:21.151 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:21.152 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 4.9031ms
2025-12-15 01:43:21.154 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:43:21.156 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:21.157 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:21.158 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:43:21.161 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:43:21.164 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:43:21.166 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.467ms
2025-12-15 01:43:21.168 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:21.170 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 15.218ms
2025-12-15 01:43:21.292 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:43:21.292 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:43:21.293 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:43:21.294 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:21.304 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 12.0692ms
2025-12-15 01:43:21.296 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:21.304 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:21.307 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:43:21.308 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 15.502ms
2025-12-15 01:43:21.314 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:43:21.312 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:21.309 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:21.322 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:43:21.322 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:21.323 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:43:21.325 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:43:21.327 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:43:21.331 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:43:21.332 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:43:21.332 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:43:21.337 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:43:21.341 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 12.567ms
2025-12-15 01:43:21.342 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:21.341 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:43:21.345 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 13.8822ms
2025-12-15 01:43:21.346 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:43:21.347 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 40.6735ms
2025-12-15 01:43:21.344 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 50.7776ms
2025-12-15 01:43:21.348 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:43:21.361 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:43:21.363 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 23.8119ms
2025-12-15 01:43:21.364 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:43:21.365 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 50.0855ms
2025-12-15 01:44:39.253 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 01:44:39.267 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:44:39.268 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 14.7338ms
2025-12-15 01:44:39.280 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 01:44:39.282 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:44:39.283 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 3.2875ms
2025-12-15 01:44:39.287 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 01:45:00.198 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 01:45:00.208 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:00.208 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 10.8953ms
2025-12-15 01:45:00.211 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-15 01:45:00.213 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:00.214 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:45:00.214 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:45:00.219 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:45:00.361 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 01:45:00.364 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 147.2051ms
2025-12-15 01:45:00.365 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:45:00.366 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 401 null application/json; charset=utf-8 155.4982ms
2025-12-15 01:45:40.162 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/register - null null
2025-12-15 01:45:40.170 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:40.171 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/register - 204 null null 8.523ms
2025-12-15 01:45:40.174 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/register - application/json 71
2025-12-15 01:45:40.176 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:40.176 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-12-15 01:45:40.180 -03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.DTOs.UserRegisterDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:45:40.188 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:45:40.421 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "IsActive", "LastLoginAt", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiration", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-15 01:45:40.440 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:45:40.444 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 01:45:40.445 -03:00 [INF] Executed action Api.Controllers.AuthController.Register (Api) in 262.9125ms
2025-12-15 01:45:40.447 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-12-15 01:45:40.448 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/register - 200 null application/json; charset=utf-8 274.4768ms
2025-12-15 01:45:40.485 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 01:45:40.496 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:40.498 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 13.423ms
2025-12-15 01:45:40.507 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 01:45:40.490 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:45:40.511 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:40.515 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:40.517 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 01:45:40.518 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 27.8618ms
2025-12-15 01:45:40.522 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:45:40.523 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:45:40.525 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:40.529 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:45:40.530 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:45:40.572 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:45:40.578 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:45:40.581 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 47.628ms
2025-12-15 01:45:40.584 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:45:40.585 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 62.319ms
2025-12-15 01:45:40.596 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 01:45:40.604 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:45:40.610 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 81.9456ms
2025-12-15 01:45:40.613 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 01:45:40.614 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 106.8387ms
2025-12-15 01:45:53.544 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:45:53.552 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:53.553 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - 204 null null 9.5466ms
2025-12-15 01:45:53.559 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:45:53.562 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:53.563 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:45:53.569 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:45:53.574 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:45:53.578 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:45:53.584 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:45:53.587 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 14.0122ms
2025-12-15 01:45:53.589 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:45:53.591 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 32.2134ms
2025-12-15 01:46:14.854 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 01:46:14.869 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:14.870 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 15.6353ms
2025-12-15 01:46:14.873 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 167
2025-12-15 01:46:14.881 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:14.883 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-15 01:46:14.889 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:46:14.923 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-15 01:46:14.939 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-15 01:46:14.990 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-15 01:46:15.004 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-15 01:46:15.041 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 146.7154ms
2025-12-15 01:46:15.045 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-15 01:46:15.047 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 173.7789ms
2025-12-15 01:46:15.088 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:15.095 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:15.085 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:46:15.101 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/49/dishes - 204 null null 13.187ms
2025-12-15 01:46:15.105 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:15.110 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:15.111 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 25.8751ms
2025-12-15 01:46:15.114 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:15.116 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:46:15.116 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:15.118 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:15.120 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:46:15.121 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:46:15.122 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:15.123 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:46:15.129 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:15.131 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 8.5028ms
2025-12-15 01:46:15.132 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:46:15.133 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 17.5266ms
2025-12-15 01:46:15.141 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:15.146 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:15.147 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 21.0688ms
2025-12-15 01:46:15.149 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:15.150 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 40.4434ms
2025-12-15 01:46:39.129 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.144 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.145 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/49/dishes - 204 null null 16.0536ms
2025-12-15 01:46:39.151 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.155 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.157 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.162 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.178 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.193 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-15 01:46:39.200 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.202 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 36.7943ms
2025-12-15 01:46:39.203 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.205 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 54.0507ms
2025-12-15 01:46:39.210 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.212 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.213 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.214 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.221 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.225 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.226 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 10.9072ms
2025-12-15 01:46:39.228 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.229 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 19.1848ms
2025-12-15 01:46:39.240 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.242 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.243 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.244 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.247 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.255 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-15 01:46:39.261 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.309 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 63.3634ms
2025-12-15 01:46:39.311 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.313 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 73.13ms
2025-12-15 01:46:39.331 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.335 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.337 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.338 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.342 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.344 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.346 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.0812ms
2025-12-15 01:46:39.347 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.348 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 17.5342ms
2025-12-15 01:46:39.358 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.362 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.362 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.363 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.369 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.375 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-15 01:46:39.389 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.391 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 23.5833ms
2025-12-15 01:46:39.392 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.394 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 35.7084ms
2025-12-15 01:46:39.399 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.404 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.406 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.408 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.412 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.415 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.419 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 8.3777ms
2025-12-15 01:46:39.424 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.426 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 27.0572ms
2025-12-15 01:46:39.437 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.440 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.441 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.447 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.458 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.462 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-15 01:46:39.465 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.467 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 11.7007ms
2025-12-15 01:46:39.472 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.473 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 36.5309ms
2025-12-15 01:46:39.479 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.481 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.486 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.492 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.495 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.498 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.501 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 6.9467ms
2025-12-15 01:46:39.506 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.507 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 28.5877ms
2025-12-15 01:46:39.514 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.519 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.521 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.523 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.527 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.531 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-15 01:46:39.536 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.539 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 13.5873ms
2025-12-15 01:46:39.541 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.542 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 28.3402ms
2025-12-15 01:46:39.547 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.550 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.552 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.556 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.559 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.562 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.563 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.4273ms
2025-12-15 01:46:39.565 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.567 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 20.562ms
2025-12-15 01:46:39.578 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.580 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.581 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.582 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.589 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.597 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-15 01:46:39.602 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.604 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 16.9974ms
2025-12-15 01:46:39.607 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.608 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 30.3573ms
2025-12-15 01:46:39.613 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.615 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.617 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.618 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.624 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.627 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.629 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.5918ms
2025-12-15 01:46:39.630 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.631 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 18.7951ms
2025-12-15 01:46:39.642 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.644 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.645 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.646 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.653 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.658 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-15 01:46:39.661 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.662 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 12.1129ms
2025-12-15 01:46:39.664 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.667 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 25.5859ms
2025-12-15 01:46:39.676 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.678 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.679 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.680 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.686 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.690 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.691 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 8.3181ms
2025-12-15 01:46:39.693 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.694 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 18.4789ms
2025-12-15 01:46:39.706 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.709 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.711 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.712 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.717 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.723 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-15 01:46:39.728 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.729 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 14.3895ms
2025-12-15 01:46:39.731 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.733 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 27.4173ms
2025-12-15 01:46:39.742 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.745 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.745 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.746 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.751 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.755 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.757 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 8.9727ms
2025-12-15 01:46:39.758 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.759 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 17.3354ms
2025-12-15 01:46:39.769 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.772 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.773 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.774 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.778 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.781 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-15 01:46:39.785 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.787 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 10.2013ms
2025-12-15 01:46:39.790 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.791 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 22.8375ms
2025-12-15 01:46:39.797 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.801 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.804 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.807 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.810 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.813 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.814 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.2561ms
2025-12-15 01:46:39.817 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.819 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 21.449ms
2025-12-15 01:46:39.855 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 01:46:39.859 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.859 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 4.8753ms
2025-12-15 01:46:39.864 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 01:46:39.875 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.876 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 01:46:39.878 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:46:39.893 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 01:46:39.911 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.918 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 29.526ms
2025-12-15 01:46:39.926 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 01:46:39.928 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 63.8821ms
2025-12-15 01:46:55.153 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:46:55.156 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:46:55.157 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:46:55.164 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:46:55.171 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:55.175 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 15.1508ms
2025-12-15 01:46:55.181 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:46:55.182 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 28.9792ms
2025-12-15 01:47:10.243 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 01:47:10.249 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:10.251 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 8.1239ms
2025-12-15 01:47:10.256 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 01:47:10.261 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:10.263 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 7.3579ms
2025-12-15 01:47:10.276 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 01:47:18.547 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 01:47:18.551 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:18.556 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 9.4658ms
2025-12-15 01:47:18.562 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-15 01:47:18.565 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:18.565 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:47:18.566 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:47:18.571 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:47:18.833 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 01:47:18.836 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 266.6287ms
2025-12-15 01:47:18.837 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:47:18.839 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 401 null application/json; charset=utf-8 276.7828ms
2025-12-15 01:47:25.669 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 01:47:25.676 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:25.677 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 8.0422ms
2025-12-15 01:47:25.682 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-15 01:47:25.685 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:25.686 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:47:25.687 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:47:25.690 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:47:25.878 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:47:25.883 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:47:25.887 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 01:47:25.888 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 199.0621ms
2025-12-15 01:47:25.890 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:47:25.891 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 209.5616ms
2025-12-15 01:47:25.962 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:47:25.962 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:47:25.972 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:47:25.997 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:25.988 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:47:25.994 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:25.991 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:25.978 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:47:26.043 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 34.2292ms
2025-12-15 01:47:26.045 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:26.046 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 83.6359ms
2025-12-15 01:47:26.047 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 84.7458ms
2025-12-15 01:47:26.049 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:26.054 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:47:26.055 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 66.6801ms
2025-12-15 01:47:26.058 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:47:26.061 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:47:26.061 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 83.1168ms
2025-12-15 01:47:26.063 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:26.066 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:47:26.070 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:26.073 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:26.075 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:47:26.076 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:47:26.078 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:26.079 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:47:26.080 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:26.082 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:26.082 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:47:26.085 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:47:26.086 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:47:26.088 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:47:26.089 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:47:26.091 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:47:26.096 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:47:26.092 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:47:26.105 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:26.110 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:47:26.110 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 19.7099ms
2025-12-15 01:47:26.114 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:47:26.114 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:26.115 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 61.1606ms
2025-12-15 01:47:26.188 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 81.0432ms
2025-12-15 01:47:26.192 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:47:26.194 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 118.1998ms
2025-12-15 01:47:26.194 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:47:26.194 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:47:26.199 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:26.204 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 108.941ms
2025-12-15 01:47:26.206 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:26.205 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:47:26.207 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 146.0374ms
2025-12-15 01:47:26.209 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:26.213 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 119.5048ms
2025-12-15 01:47:26.214 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:47:26.215 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 157.0988ms
2025-12-15 01:47:26.273 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:47:26.276 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:47:26.277 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 167.6473ms
2025-12-15 01:47:26.278 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:47:26.279 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 213.1843ms
2025-12-15 01:47:33.024 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:47:33.024 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:47:33.029 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:33.034 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:33.036 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 11.9766ms
2025-12-15 01:47:33.035 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 11.0895ms
2025-12-15 01:47:33.041 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:47:33.043 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:47:33.048 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:33.052 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:33.054 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:33.055 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:47:33.057 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:47:33.058 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:47:33.062 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:47:33.070 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:33.071 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 10.4261ms
2025-12-15 01:47:33.073 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:33.075 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 33.3896ms
2025-12-15 01:47:33.077 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:47:33.088 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:33.091 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 28.1762ms
2025-12-15 01:47:33.092 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:47:33.094 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 50.0403ms
2025-12-15 01:47:41.825 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:47:41.830 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:41.834 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 9.1809ms
2025-12-15 01:47:41.841 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:47:41.845 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:41.846 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:41.849 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:47:41.854 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:47:41.856 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:41.858 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 4.8526ms
2025-12-15 01:47:41.859 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:41.860 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 19.0909ms
2025-12-15 01:47:42.387 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:47:42.387 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:47:42.387 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:47:42.388 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:47:42.392 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:42.396 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:42.401 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:42.408 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 20.8567ms
2025-12-15 01:47:42.404 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 17.7683ms
2025-12-15 01:47:42.418 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:47:42.421 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:42.423 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:47:42.425 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:47:42.404 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:42.407 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 20.1871ms
2025-12-15 01:47:42.435 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:47:42.450 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:42.452 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:47:42.452 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:47:42.455 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:47:42.464 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:42.467 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 36.7138ms
2025-12-15 01:47:42.468 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:47:42.469 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 51.0915ms
2025-12-15 01:47:42.432 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:42.421 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:47:42.474 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:42.472 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:47:42.471 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:47:42.475 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:47:42.500 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:47:42.501 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:47:42.502 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:47:42.503 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:47:42.507 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:42.509 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:42.512 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:42.513 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 59.3676ms
2025-12-15 01:47:42.516 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 28.4692ms
2025-12-15 01:47:42.517 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 14.7844ms
2025-12-15 01:47:42.519 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:47:42.520 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:42.522 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:47:42.525 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 90.0992ms
2025-12-15 01:47:42.526 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 138.0422ms
2025-12-15 01:47:42.527 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 106.9213ms
2025-12-15 01:49:25.511 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:49:25.524 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:25.527 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 16.729ms
2025-12-15 01:49:25.531 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:49:25.533 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:25.534 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:49:25.535 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:49:25.541 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:49:25.546 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:49:25.547 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 9.868ms
2025-12-15 01:49:25.550 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:49:25.552 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 20.9091ms
2025-12-15 01:49:26.114 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:49:26.115 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:49:26.124 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:49:26.165 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:26.168 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:26.171 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 56.819ms
2025-12-15 01:49:26.171 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 56.6436ms
2025-12-15 01:49:26.170 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:26.174 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:49:26.178 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:49:26.179 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:49:26.181 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:26.183 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:26.184 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:49:26.184 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:49:26.185 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:49:26.188 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:49:26.189 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:49:26.190 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:49:26.193 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:49:26.200 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 12.7337ms
2025-12-15 01:49:26.202 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:49:26.197 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:49:26.202 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:49:26.203 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 78.3059ms
2025-12-15 01:49:26.205 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:49:26.212 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:49:26.215 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 20.0475ms
2025-12-15 01:49:26.217 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 18.3252ms
2025-12-15 01:49:26.219 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:49:26.218 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:49:26.221 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 42.4404ms
2025-12-15 01:49:26.222 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 47.4308ms
2025-12-15 01:49:32.788 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:49:32.790 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:49:32.790 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:49:32.799 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.794 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.797 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.803 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 14.1539ms
2025-12-15 01:49:32.801 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 11.3707ms
2025-12-15 01:49:32.802 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 14.0092ms
2025-12-15 01:49:32.790 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:49:32.819 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.821 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 30.5225ms
2025-12-15 01:49:32.827 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:49:32.822 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:49:32.815 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:49:32.822 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:49:32.841 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.833 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.835 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.830 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.844 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:49:32.845 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:49:32.846 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:49:32.847 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:49:32.849 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:49:32.851 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:49:32.853 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:49:32.854 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:49:32.860 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:49:32.864 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:49:32.866 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:49:32.869 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:49:32.870 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:49:32.879 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:49:32.880 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:49:32.882 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 22.6943ms
2025-12-15 01:49:32.894 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:49:32.888 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:49:32.892 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 27.8315ms
2025-12-15 01:49:32.887 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:49:32.895 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 72.4511ms
2025-12-15 01:49:32.896 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 33.8106ms
2025-12-15 01:49:32.897 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:49:32.899 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 32.3713ms
2025-12-15 01:49:32.903 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:49:32.905 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 89.6297ms
2025-12-15 01:49:32.909 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:49:32.913 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 86.8383ms
2025-12-15 01:49:32.910 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 88.1434ms
2025-12-15 01:51:25.732 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:51:25.742 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:25.743 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 10.3448ms
2025-12-15 01:51:25.745 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:51:25.747 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:25.748 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:51:25.749 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:51:25.911 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:51:25.914 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:51:25.915 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 163.5168ms
2025-12-15 01:51:25.917 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:51:25.920 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 175.405ms
2025-12-15 01:51:26.308 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:51:26.424 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.427 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 118.8398ms
2025-12-15 01:51:26.375 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:51:26.415 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:51:26.354 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:51:26.447 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.449 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 124.6051ms
2025-12-15 01:51:26.439 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.456 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:51:26.460 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:51:26.464 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:51:26.433 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.468 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 92.907ms
2025-12-15 01:51:26.467 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:51:26.354 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:51:26.476 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 13.3305ms
2025-12-15 01:51:26.480 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.481 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:51:26.482 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 128.5183ms
2025-12-15 01:51:26.483 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 68.2949ms
2025-12-15 01:51:26.522 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:51:26.522 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:51:26.590 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.523 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:51:26.593 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.594 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:51:26.599 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:51:26.583 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.523 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:51:26.591 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:51:26.608 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:51:26.609 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:51:26.610 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.611 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:51:26.612 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:51:26.615 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:51:26.616 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:51:26.623 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:51:26.626 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 19.4707ms
2025-12-15 01:51:26.626 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:51:26.630 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:51:26.631 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:51:26.641 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 20.5211ms
2025-12-15 01:51:26.647 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:51:26.646 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 123.1646ms
2025-12-15 01:51:26.649 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 126.5138ms
2025-12-15 01:51:26.649 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:51:26.666 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:51:26.670 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 30.3857ms
2025-12-15 01:51:26.672 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:51:26.673 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 150.0147ms
2025-12-15 01:51:26.719 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:51:26.724 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:51:26.727 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:51:26.729 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 104.6534ms
2025-12-15 01:51:26.732 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:51:26.733 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 210.9998ms
2025-12-15 01:51:54.949 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:51:54.959 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:51:54.969 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:54.972 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:54.975 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 16.8176ms
2025-12-15 01:51:54.973 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 24.2209ms
2025-12-15 01:51:54.984 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:51:54.981 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:51:54.986 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:54.991 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:51:54.989 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:54.994 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:51:54.995 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:51:54.998 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:51:55.001 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:51:55.004 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:51:55.006 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:51:55.006 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 5.8656ms
2025-12-15 01:51:55.014 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:51:55.014 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:51:55.016 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 34.955ms
2025-12-15 01:51:55.017 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 20.5404ms
2025-12-15 01:51:55.022 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:51:55.023 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 38.4765ms
2025-12-15 01:53:11.085 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:53:11.090 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:53:11.146 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:53:11.174 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:53:11.177 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.180 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.185 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.187 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.188 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 103.459ms
2025-12-15 01:53:11.189 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 99.3403ms
2025-12-15 01:53:11.190 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 100.0061ms
2025-12-15 01:53:11.191 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 39.4463ms
2025-12-15 01:53:11.195 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:53:11.198 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:53:11.203 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:53:11.206 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:53:11.207 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.209 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.211 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.213 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.214 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:53:11.214 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:53:11.218 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:53:11.219 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:53:11.220 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:53:11.221 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:53:11.222 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:53:11.223 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:53:11.227 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:53:11.227 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:53:11.241 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:11.242 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:53:11.243 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 18.243ms
2025-12-15 01:53:11.246 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:53:11.245 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:11.247 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 52.0018ms
2025-12-15 01:53:11.252 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 26.1163ms
2025-12-15 01:53:11.256 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:53:11.257 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 59.6599ms
2025-12-15 01:53:11.296 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:53:11.303 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:11.304 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 76.1029ms
2025-12-15 01:53:11.306 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:53:11.307 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 104.0267ms
2025-12-15 01:53:11.322 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:53:11.324 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:11.325 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 95.3161ms
2025-12-15 01:53:11.327 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:53:11.328 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 122.2442ms
2025-12-15 01:53:18.187 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:53:18.193 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.193 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 6.0855ms
2025-12-15 01:53:18.198 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:53:18.203 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.204 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:53:18.205 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:53:18.209 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:53:18.212 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:53:18.214 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.9683ms
2025-12-15 01:53:18.215 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:53:18.217 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 18.2059ms
2025-12-15 01:53:18.337 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:53:18.337 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:53:18.337 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:53:18.353 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.354 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 17.0189ms
2025-12-15 01:53:18.347 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.350 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.338 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:53:18.367 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.362 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 24.6747ms
2025-12-15 01:53:18.417 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:53:18.420 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.369 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:53:18.337 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:53:18.425 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.426 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 88.7667ms
2025-12-15 01:53:18.421 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:53:18.421 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:53:18.359 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:53:18.470 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.471 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:53:18.472 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:53:18.440 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:53:18.360 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 23.3181ms
2025-12-15 01:53:18.488 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:53:18.433 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:53:18.478 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:53:18.494 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 57.3168ms
2025-12-15 01:53:18.496 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:53:18.491 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:53:18.432 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:53:18.507 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.508 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:53:18.509 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:53:18.512 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:53:18.519 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:53:18.521 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:18.523 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 30.5203ms
2025-12-15 01:53:18.524 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:53:18.525 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 107.1822ms
2025-12-15 01:53:18.505 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:18.490 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.501 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 162.4874ms
2025-12-15 01:53:18.568 -03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:53:18.583 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:18.585 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 75.0951ms
2025-12-15 01:53:18.573 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 99.1356ms
2025-12-15 01:53:18.574 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:53:18.587 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:53:18.594 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:53:18.595 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:53:18.599 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 166.8853ms
2025-12-15 01:53:18.602 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 242.906ms
2025-12-15 01:53:18.606 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:53:18.637 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:18.639 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 34.9064ms
2025-12-15 01:53:18.640 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:53:18.641 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 153.7717ms
2025-12-15 02:00:39.087 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 02:00:39.091 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:39.092 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 5.6944ms
2025-12-15 02:00:39.100 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 02:00:39.104 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:39.105 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 02:00:39.106 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 02:00:39.171 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 02:00:39.174 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 02:00:39.175 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 66.3601ms
2025-12-15 02:00:39.176 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 02:00:39.177 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 77.6264ms
2025-12-15 02:00:40.424 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 02:00:40.439 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 02:00:40.441 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:40.446 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:40.447 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 22.7635ms
2025-12-15 02:00:40.448 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 9.5566ms
2025-12-15 02:00:40.452 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 02:00:40.455 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 02:00:40.457 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:40.459 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:40.460 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 02:00:40.463 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 02:00:40.466 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 02:00:40.468 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 02:00:40.476 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 02:00:40.485 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 02:00:40.487 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 15.7451ms
2025-12-15 02:00:40.488 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 02:00:40.489 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 36.8093ms
2025-12-15 02:00:40.527 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 02:00:40.530 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 02:00:40.532 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 59.6053ms
2025-12-15 02:00:40.534 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 02:00:40.535 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 80.0005ms
2025-12-15 02:00:52.414 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 02:00:52.455 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.452 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 02:00:52.416 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 02:00:52.457 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 42.9123ms
2025-12-15 02:00:52.452 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 02:00:52.467 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.477 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 25.1714ms
2025-12-15 02:00:52.472 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 02:00:52.476 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.469 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.481 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 02:00:52.495 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.484 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.514 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 02:00:52.515 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 02:00:52.518 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 02:00:52.484 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 32.4967ms
2025-12-15 02:00:52.529 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 02:00:52.496 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 02:00:52.528 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 02:00:52.537 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 02:00:52.530 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.531 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 02:00:52.485 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 69.6414ms
2025-12-15 02:00:52.538 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 20.8363ms
2025-12-15 02:00:52.539 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 02:00:52.544 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 02:00:52.546 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 02:00:52.547 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 02:00:52.548 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 02:00:52.550 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 02:00:52.558 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 14.9658ms
2025-12-15 02:00:52.553 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 80.7984ms
2025-12-15 02:00:52.552 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.561 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 02:00:52.564 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 02:00:52.565 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 02:00:52.570 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 02:00:52.566 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 85.2905ms
2025-12-15 02:00:52.570 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 02:00:52.572 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 02:00:52.578 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 22.5841ms
2025-12-15 02:00:52.580 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 02:00:52.581 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 02:00:52.582 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 10.4067ms
2025-12-15 02:00:52.583 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 54.651ms
2025-12-15 02:00:52.584 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 02:00:52.588 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 41.5907ms

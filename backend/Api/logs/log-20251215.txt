2025-12-15 00:11:27.139 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 00:11:54.397 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 00:11:54.410 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 00:11:54.415 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 00:11:54.419 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 00:11:54.427 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-15 00:11:54.799 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 00:11:54.810 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-15 00:11:54.818 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-15 00:11:55.001 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 00:11:55.270 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-15 00:11:55.362 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 00:11:55.364 -03:00 [INF] Hosting environment: Development
2025-12-15 00:11:55.365 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-15 00:11:56.251 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-15 00:11:56.539 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 296.2479ms
2025-12-15 00:11:56.547 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-15 00:11:56.587 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 43.3822ms
2025-12-15 00:11:57.253 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-15 00:11:57.253 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-15 00:11:57.259 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 6.1731ms
2025-12-15 00:11:57.303 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.9337ms
2025-12-15 00:11:58.538 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-15 00:11:58.570 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.072ms
2025-12-15 00:12:05.748 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 00:12:05.756 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:05.761 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 12.2067ms
2025-12-15 00:12:05.764 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 00:12:05.771 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:05.979 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 00:12:06.000 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 00:12:06.397 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:12:06.502 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 00:12:06.515 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 499.39ms
2025-12-15 00:12:06.517 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 00:12:06.535 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 771.1453ms
2025-12-15 00:12:08.000 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 00:12:08.001 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 00:12:08.002 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 00:12:08.001 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 00:12:08.013 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.013 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.017 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.019 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.020 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 20.7679ms
2025-12-15 00:12:08.022 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 20.9595ms
2025-12-15 00:12:08.023 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 21.1794ms
2025-12-15 00:12:08.030 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 28.8674ms
2025-12-15 00:12:08.035 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 00:12:08.038 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 00:12:08.048 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 00:12:08.052 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 00:12:08.087 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.090 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.095 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.098 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.101 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 00:12:08.102 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:12:08.104 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:12:08.106 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 00:12:08.111 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 00:12:08.116 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 00:12:08.116 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 00:12:08.129 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 00:12:08.200 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:12:08.203 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 00:12:08.215 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.213 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 00:12:08.213 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 00:12:08.216 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:12:08.221 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 100.0534ms
2025-12-15 00:12:08.223 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 00:12:08.228 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 00:12:08.228 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 193.1101ms
2025-12-15 00:12:08.267 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 00:12:08.331 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:08.348 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 00:12:08.371 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:08.376 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 126.7286ms
2025-12-15 00:12:08.377 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:12:08.379 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 175.8832ms
2025-12-15 00:12:08.404 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 280.4772ms
2025-12-15 00:12:08.405 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 00:12:08.405 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:12:08.421 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 373.826ms
2025-12-15 00:12:08.423 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:08.433 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 294.8687ms
2025-12-15 00:12:08.434 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 00:12:08.436 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 384.5899ms
2025-12-15 00:12:08.469 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 00:12:08.582 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:08.602 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 472.0466ms
2025-12-15 00:12:08.604 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:12:08.606 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 568.4959ms
2025-12-15 00:12:12.156 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:12:12.160 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:12.163 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 6.9909ms
2025-12-15 00:12:12.169 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:12:12.175 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:12.185 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:12:12.192 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:12:12.269 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:12:12.277 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:12.283 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 81.5249ms
2025-12-15 00:12:12.287 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:12:12.296 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 119.0815ms
2025-12-15 00:29:47.143 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:29:47.147 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:29:47.148 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 5.9303ms
2025-12-15 00:29:47.152 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:29:47.155 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:29:47.157 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:29:47.158 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:29:47.332 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:29:47.336 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:29:47.338 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 175.5413ms
2025-12-15 00:29:47.339 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:29:47.340 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 188.4928ms
2025-12-15 00:33:26.235 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:33:26.248 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:33:26.249 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 13.8946ms
2025-12-15 00:33:26.267 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:33:26.270 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:33:26.273 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:33:26.275 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:33:26.289 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:33:26.293 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:33:26.295 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 10.7295ms
2025-12-15 00:33:26.297 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:33:26.299 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 31.6547ms
2025-12-15 00:33:54.096 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:33:54.100 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:33:54.101 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 9.0227ms
2025-12-15 00:33:54.105 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:33:54.108 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:33:54.109 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:33:54.110 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:33:54.115 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:33:54.117 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:33:54.119 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 6.1452ms
2025-12-15 00:33:54.120 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:33:54.121 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 15.7222ms
2025-12-15 00:36:08.096 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:36:08.099 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:36:08.100 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 9.3953ms
2025-12-15 00:36:08.103 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:36:08.106 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:36:08.107 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:36:08.108 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:36:08.170 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:36:08.175 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:36:08.177 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 66.3917ms
2025-12-15 00:36:08.178 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:36:08.179 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 76.1954ms
2025-12-15 00:42:38.135 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:42:38.138 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:42:38.139 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 3.4041ms
2025-12-15 00:42:38.142 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:42:38.144 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:42:38.146 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:42:38.147 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:42:38.220 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:42:38.236 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:42:38.239 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 88.753ms
2025-12-15 00:42:38.241 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:42:38.242 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 100.271ms
2025-12-15 00:44:20.517 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/1 - null null
2025-12-15 00:44:20.521 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:44:20.522 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/1 - 204 null null 5.107ms
2025-12-15 00:44:20.525 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/1 - application/json 75
2025-12-15 00:44:20.528 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:44:20.529 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:44:20.536 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:44:20.585 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:44:20.690 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Name" = @p0
WHERE "Id" = @p1;
2025-12-15 00:44:20.709 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 00:44:20.711 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 171.8875ms
2025-12-15 00:44:20.714 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:44:20.717 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/1 - 200 null application/json; charset=utf-8 192.086ms
2025-12-15 00:44:20.721 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:44:20.723 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:44:20.724 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 2.9696ms
2025-12-15 00:44:20.727 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:44:20.732 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:44:20.734 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:44:20.735 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:44:20.739 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:44:20.742 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:44:20.744 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 6.53ms
2025-12-15 00:44:20.745 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:44:20.750 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 22.6302ms
2025-12-15 00:49:38.291 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/6 - null null
2025-12-15 00:49:38.296 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:38.296 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/6 - 204 null null 5.7813ms
2025-12-15 00:49:38.300 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/6 - application/json 65
2025-12-15 00:49:38.302 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:38.303 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:49:38.304 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:38.475 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:49:38.482 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsActive" = @p0
WHERE "Id" = @p1;
2025-12-15 00:49:38.486 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 00:49:38.488 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 179.3641ms
2025-12-15 00:49:38.489 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:49:38.492 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/6 - 200 null application/json; charset=utf-8 192.0281ms
2025-12-15 00:49:38.496 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:49:38.499 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:38.500 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 4.3359ms
2025-12-15 00:49:38.505 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:49:38.507 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:38.508 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:38.509 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:38.517 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:49:38.521 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:49:38.525 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 13.315ms
2025-12-15 00:49:38.536 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:38.541 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 36.7608ms
2025-12-15 00:49:44.176 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:49:44.180 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:44.181 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 5.0909ms
2025-12-15 00:49:44.189 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:49:44.193 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:44.195 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:44.198 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:44.214 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 00:49:44.220 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:49:44.224 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 22.8252ms
2025-12-15 00:49:44.225 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:44.227 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 38.195ms
2025-12-15 00:49:58.841 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/6 - null null
2025-12-15 00:49:58.845 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:58.847 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/6 - 204 null null 6.7565ms
2025-12-15 00:49:58.852 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/6 - application/json 64
2025-12-15 00:49:58.856 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:58.857 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:49:58.857 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:58.862 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:49:58.866 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsActive" = @p0
WHERE "Id" = @p1;
2025-12-15 00:49:58.870 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 00:49:58.872 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 11.9603ms
2025-12-15 00:49:58.874 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:49:58.876 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/6 - 200 null application/json; charset=utf-8 24.2986ms
2025-12-15 00:49:58.885 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:49:58.890 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:58.891 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 5.8706ms
2025-12-15 00:49:58.898 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:49:58.902 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:58.904 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:58.905 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:58.911 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 00:49:58.918 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:49:58.920 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 11.1512ms
2025-12-15 00:49:58.923 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:58.925 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 27.7219ms
2025-12-15 00:50:02.527 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:50:02.530 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:50:02.531 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:50:02.533 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:50:02.536 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 00:50:02.540 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:50:02.542 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 7.1283ms
2025-12-15 00:50:02.544 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:50:02.545 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 17.3214ms
2025-12-15 00:51:59.278 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 00:51:59.342 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 00:51:59.344 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:51:59.346 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:51:59.347 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 69.2106ms
2025-12-15 00:51:59.348 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 6.0211ms
2025-12-15 00:51:59.350 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 00:51:59.352 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 00:51:59.355 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:51:59.358 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:51:59.360 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:51:59.361 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:51:59.361 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 00:51:59.362 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 00:51:59.366 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 00:51:59.372 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:51:59.375 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.3949ms
2025-12-15 00:51:59.378 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:51:59.379 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 28.5823ms
2025-12-15 00:51:59.434 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 00:51:59.444 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:51:59.445 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 79.7495ms
2025-12-15 00:51:59.447 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:51:59.448 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 95.7429ms
2025-12-15 00:52:01.296 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 00:52:01.299 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:01.302 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 6.1309ms
2025-12-15 00:52:01.310 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 00:52:01.314 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:01.315 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:52:01.316 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 00:52:01.320 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 00:52:01.327 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:01.330 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 12.2816ms
2025-12-15 00:52:01.332 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:52:01.335 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 25.4465ms
2025-12-15 00:52:17.571 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 00:52:17.595 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:17.596 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 24.2149ms
2025-12-15 00:52:17.603 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 00:52:17.606 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:17.609 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:52:17.610 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 00:52:17.614 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 00:52:17.621 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:17.622 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 9.2693ms
2025-12-15 00:52:17.624 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:52:17.625 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 22.5047ms
2025-12-15 00:52:18.802 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 00:52:18.802 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 00:52:18.804 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 00:52:18.813 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 00:52:18.818 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.822 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.879 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 77.2788ms
2025-12-15 00:52:18.828 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 25.9321ms
2025-12-15 00:52:18.825 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.826 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.886 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 00:52:18.908 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 00:52:18.909 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 105.146ms
2025-12-15 00:52:18.910 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:52:18.913 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.918 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.922 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 00:52:18.923 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 00:52:18.925 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 00:52:18.925 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:52:18.928 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.932 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 00:52:18.934 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 00:52:18.934 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 00:52:18.935 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:52:18.939 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 00:52:18.941 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:18.941 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 00:52:18.945 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 14.071ms
2025-12-15 00:52:18.948 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:52:18.945 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 00:52:18.952 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 139.9032ms
2025-12-15 00:52:18.954 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 00:52:18.963 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:18.974 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 37.1848ms
2025-12-15 00:52:18.975 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 00:52:18.976 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:18.976 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 90.6109ms
2025-12-15 00:52:18.978 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 31.4142ms
2025-12-15 00:52:18.982 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:52:18.984 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 61.8531ms
2025-12-15 00:52:19.001 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 00:52:19.007 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:19.009 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 69.8508ms
2025-12-15 00:52:19.010 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:52:19.011 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 103.0526ms
2025-12-15 00:58:26.237 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:58:26.242 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:58:26.243 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 6.0596ms
2025-12-15 00:58:26.249 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:58:26.252 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:58:26.253 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:58:26.256 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:58:26.268 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:58:26.277 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:58:26.279 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 18.8846ms
2025-12-15 00:58:26.281 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:58:26.284 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 35.07ms
2025-12-15 00:59:12.037 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5231/api/users/3 - null null
2025-12-15 00:59:12.064 -03:00 [INF] CORS policy execution failed.
2025-12-15 00:59:12.070 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 00:59:12.073 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-15 00:59:12.080 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 00:59:12.081 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5231/api/users/3 - 401 0 null 43.6281ms
2025-12-15 00:59:23.421 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5231/api/users/3 - null null
2025-12-15 00:59:23.431 -03:00 [INF] CORS policy execution failed.
2025-12-15 00:59:23.432 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 00:59:23.448 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 03:59:23'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-15 00:59:23.510 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 03:59:23'.
2025-12-15 00:59:23.512 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-15 00:59:23.514 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 00:59:23.515 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5231/api/users/3 - 401 0 null 94.2479ms
2025-12-15 00:59:56.505 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 00:59:56.523 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:59:56.527 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 21.6003ms
2025-12-15 00:59:56.532 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 00:59:56.535 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:59:56.537 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 5.4069ms
2025-12-15 00:59:56.541 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 01:00:04.096 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 64
2025-12-15 01:00:04.100 -03:00 [INF] CORS policy execution failed.
2025-12-15 01:00:04.101 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 01:00:04.105 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 04:00:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-15 01:00:04.113 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 04:00:04'.
2025-12-15 01:00:04.116 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:00:04.147 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:00:04.187 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:00:04.563 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:00:04.581 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:00:04.586 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 01:00:04.588 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 429.998ms
2025-12-15 01:00:04.592 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:00:04.594 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 497.564ms
2025-12-15 01:00:21.268 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5231/api/users/3 - null null
2025-12-15 01:00:21.271 -03:00 [INF] CORS policy execution failed.
2025-12-15 01:00:21.272 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 01:00:21.277 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Delete (Api)'
2025-12-15 01:00:21.287 -03:00 [INF] Route matched with {action = "Delete", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:00:21.315 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Id", u0."CreatedAt", u0."Email", u0."IsActive", u0."LastLoginAt", u0."Name", u0."PasswordHash", u0."RefreshToken", u0."RefreshTokenExpiration", u0."Role", r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM (
    SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
    FROM "Users" AS u
    WHERE u."Id" = @__id_0
    LIMIT 1
) AS u0
LEFT JOIN "Reservations" AS r ON u0."Id" = r."UserId"
ORDER BY u0."Id"
2025-12-15 01:00:21.324 -03:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 01:00:21.328 -03:00 [INF] Executed action Api.Controllers.UsersController.Delete (Api) in 36.2912ms
2025-12-15 01:00:21.330 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Delete (Api)'
2025-12-15 01:00:21.332 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5231/api/users/3 - 400 null application/json; charset=utf-8 64.4235ms
2025-12-15 01:00:49.182 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 01:00:49.186 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.187 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 5.5995ms
2025-12-15 01:00:49.192 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-15 01:00:49.196 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.197 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:00:49.198 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:00:49.203 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:00:49.394 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:00:49.399 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:00:49.402 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 01:00:49.403 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 202.2218ms
2025-12-15 01:00:49.405 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:00:49.406 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 213.7198ms
2025-12-15 01:00:49.471 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:00:49.472 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:00:49.510 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:00:49.512 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:00:49.514 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.517 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.519 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.521 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.522 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 51.4146ms
2025-12-15 01:00:49.523 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 51.0341ms
2025-12-15 01:00:49.525 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 14.9571ms
2025-12-15 01:00:49.526 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 14.0607ms
2025-12-15 01:00:49.530 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:00:49.534 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:00:49.534 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:00:49.537 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:00:49.539 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.545 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.547 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.549 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.550 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 20.6122ms
2025-12-15 01:00:49.562 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:00:49.553 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:00:49.554 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:00:49.552 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:00:49.564 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.565 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:00:49.567 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:00:49.568 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:00:49.578 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:00:49.617 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.571 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:00:49.568 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:00:49.618 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:00:49.620 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:49.621 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:00:49.622 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:00:49.623 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 52.5412ms
2025-12-15 01:00:49.632 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:00:49.634 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 99.1553ms
2025-12-15 01:00:49.635 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:00:49.643 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:49.646 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 17.4744ms
2025-12-15 01:00:49.648 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:00:49.649 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 86.6629ms
2025-12-15 01:00:49.721 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:00:49.722 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:00:49.730 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:00:49.730 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:49.731 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:00:49.733 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:00:49.734 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 156.5667ms
2025-12-15 01:00:49.737 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:49.738 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 106.5533ms
2025-12-15 01:00:49.744 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:00:49.742 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 169.8136ms
2025-12-15 01:00:49.739 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:00:49.746 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 167.9718ms
2025-12-15 01:00:49.747 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:00:49.748 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 214.0573ms
2025-12-15 01:00:49.752 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 214.7868ms
2025-12-15 01:00:50.727 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:00:50.727 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:00:50.730 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:50.735 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:50.737 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:00:50.737 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:00:50.742 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:00:50.743 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:00:50.749 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:00:50.771 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:00:50.784 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:50.788 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:50.789 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 41.9382ms
2025-12-15 01:00:50.797 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:00:50.796 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 47.0951ms
2025-12-15 01:00:50.798 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 71.4521ms
2025-12-15 01:00:50.799 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:00:50.804 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 77.2177ms
2025-12-15 01:00:58.922 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:00:58.929 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:58.931 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 8.3783ms
2025-12-15 01:00:58.935 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:00:58.941 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:58.943 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:00:58.945 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:00:58.951 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:00:58.960 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:58.961 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 13.6326ms
2025-12-15 01:00:58.963 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:00:58.964 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 29.3613ms
2025-12-15 01:01:42.718 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/3 - null null
2025-12-15 01:01:42.729 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:42.730 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/3 - 204 null null 11.8153ms
2025-12-15 01:01:42.734 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/3 - application/json 59
2025-12-15 01:01:42.736 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:42.738 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:01:42.739 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:01:42.743 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:01:42.754 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsActive" = @p0
WHERE "Id" = @p1;
2025-12-15 01:01:42.759 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:01:42.761 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 19.9005ms
2025-12-15 01:01:42.763 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:01:42.764 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/3 - 200 null application/json; charset=utf-8 29.2933ms
2025-12-15 01:01:42.767 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:01:42.769 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:42.770 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 3.4728ms
2025-12-15 01:01:42.775 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:01:42.777 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:42.778 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:01:42.779 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:01:42.785 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:01:42.789 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:01:42.791 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 8.7411ms
2025-12-15 01:01:42.794 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:01:42.796 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 21.1986ms
2025-12-15 01:01:47.026 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:01:47.029 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:47.032 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 6.1834ms
2025-12-15 01:01:47.035 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:01:47.038 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:47.040 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:01:47.041 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:01:47.049 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:01:47.055 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:01:47.058 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 11.8581ms
2025-12-15 01:01:47.060 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:01:47.062 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 27.2426ms
2025-12-15 01:02:26.274 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users/3 - null null
2025-12-15 01:02:26.285 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetById (Api)'
2025-12-15 01:02:26.289 -03:00 [INF] Route matched with {action = "GetById", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:02:26.314 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-12-15 01:02:26.333 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:02:26.338 -03:00 [INF] Executed action Api.Controllers.UsersController.GetById (Api) in 36.1886ms
2025-12-15 01:02:26.346 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetById (Api)'
2025-12-15 01:02:26.347 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users/3 - 200 null application/json; charset=utf-8 76.2056ms
2025-12-15 01:03:37.822 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/3 - application/json 89
2025-12-15 01:03:37.837 -03:00 [INF] CORS policy execution failed.
2025-12-15 01:03:37.838 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 01:03:37.841 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:03:37.842 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:03:37.847 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:03:37.855 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsActive" = @p0, "Role" = @p1
WHERE "Id" = @p2;
2025-12-15 01:03:37.859 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:03:37.860 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 14.7938ms
2025-12-15 01:03:37.862 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:03:37.864 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/3 - 200 null application/json; charset=utf-8 41.6289ms
2025-12-15 01:03:49.191 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:03:49.221 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:03:49.226 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.232 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.233 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 41.5927ms
2025-12-15 01:03:49.250 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:03:49.242 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 49.459ms
2025-12-15 01:03:49.253 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.258 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:03:49.259 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:03:49.261 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.264 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:03:49.266 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:03:49.270 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:03:49.272 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:03:49.276 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:03:49.276 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:03:49.289 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 19.3496ms
2025-12-15 01:03:49.290 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:03:49.291 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:03:49.291 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 41.1747ms
2025-12-15 01:03:49.293 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 19.7488ms
2025-12-15 01:03:49.300 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:03:49.302 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 43.9003ms
2025-12-15 01:03:49.906 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:03:49.911 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.914 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 6.5697ms
2025-12-15 01:03:49.922 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:03:49.925 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.925 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:03:49.926 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:03:49.937 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:03:49.941 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:03:49.942 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 13.7236ms
2025-12-15 01:03:49.943 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:03:49.944 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 21.9828ms
2025-12-15 01:03:53.233 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:03:53.236 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:53.237 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 4.5ms
2025-12-15 01:03:53.241 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:03:53.245 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:53.248 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:03:53.250 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:03:53.255 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:03:53.260 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:03:53.263 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 9.6259ms
2025-12-15 01:03:53.266 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:03:53.268 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 26.8883ms
2025-12-15 01:04:15.946 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/2 - null null
2025-12-15 01:04:15.967 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:15.968 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/2 - 204 null null 22.1216ms
2025-12-15 01:04:15.972 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/2 - application/json 59
2025-12-15 01:04:15.974 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:15.975 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:04:15.976 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:04:15.980 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:04:15.997 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='?', @__id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__dto_Email_0 AND u."Id" <> @__id_1)
2025-12-15 01:04:16.002 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Email" = @p0
WHERE "Id" = @p1;
2025-12-15 01:04:16.007 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:04:16.010 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 31.5962ms
2025-12-15 01:04:16.011 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:04:16.013 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/2 - 200 null application/json; charset=utf-8 41.1735ms
2025-12-15 01:04:16.018 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:04:16.021 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:16.022 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 4.2822ms
2025-12-15 01:04:16.027 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:04:16.030 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:16.032 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:16.034 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:04:16.044 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:04:16.048 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:16.050 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 11.0681ms
2025-12-15 01:04:16.052 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:16.055 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 28.4293ms
2025-12-15 01:04:24.398 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:04:24.452 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:24.453 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 55.1036ms
2025-12-15 01:04:24.449 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:04:24.460 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:24.461 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 11.7442ms
2025-12-15 01:04:24.463 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:04:24.464 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:04:24.466 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:24.470 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:24.471 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:04:24.472 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:04:24.472 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:04:24.473 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:04:24.478 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:04:24.480 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:24.481 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:04:24.482 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 4.5469ms
2025-12-15 01:04:24.490 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:04:24.490 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:24.491 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 27.1701ms
2025-12-15 01:04:24.493 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 17.8513ms
2025-12-15 01:04:24.497 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:04:24.498 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 34.8144ms
2025-12-15 01:04:24.994 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:04:25.002 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:25.005 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 10.6968ms
2025-12-15 01:04:25.010 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:04:25.013 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:25.015 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:25.017 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:04:25.023 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:04:25.028 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:25.030 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 8.8679ms
2025-12-15 01:04:25.031 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:25.033 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 23.1871ms
2025-12-15 01:04:26.540 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:04:26.543 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:26.546 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 4.9195ms
2025-12-15 01:04:26.551 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:04:26.554 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:26.555 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:26.557 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:04:26.564 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:04:26.568 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:26.570 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 11.3215ms
2025-12-15 01:04:26.573 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:26.600 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 48.4233ms
2025-12-15 01:15:28.878 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/1 - null null
2025-12-15 01:15:28.882 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:28.883 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/1 - 204 null null 4.7445ms
2025-12-15 01:15:28.886 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/1 - application/json 32
2025-12-15 01:15:28.888 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:28.890 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:15:28.892 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:15:28.949 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:15:28.954 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:15:28.955 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 59.6145ms
2025-12-15 01:15:28.966 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:15:28.967 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/1 - 200 null application/json; charset=utf-8 80.8537ms
2025-12-15 01:15:28.971 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:15:28.975 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:28.977 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 6.5292ms
2025-12-15 01:15:28.980 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:15:28.983 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:28.985 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:15:28.986 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:15:28.998 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:15:29.004 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:29.009 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 17.1932ms
2025-12-15 01:15:29.010 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:15:29.012 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 31.5688ms
2025-12-15 01:15:39.790 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:15:39.831 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:15:39.836 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:39.839 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:39.843 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 12.4687ms
2025-12-15 01:15:39.841 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 50.5482ms
2025-12-15 01:15:39.846 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:15:39.850 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:15:39.852 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:39.857 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:39.858 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:15:39.860 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:15:39.861 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:15:39.862 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:15:39.873 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:15:39.881 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:39.890 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 26.3716ms
2025-12-15 01:15:39.893 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:15:39.895 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 48.3942ms
2025-12-15 01:15:39.925 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:15:39.929 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:39.931 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 65.2742ms
2025-12-15 01:15:39.933 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:15:39.934 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 84.1381ms
2025-12-15 01:15:49.609 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:15:49.614 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:49.618 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 9.6862ms
2025-12-15 01:15:49.625 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:15:49.628 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:49.630 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:15:49.631 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:15:49.638 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:15:49.643 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:49.646 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 10.7598ms
2025-12-15 01:15:49.647 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:15:49.652 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 26.2439ms
2025-12-15 01:15:56.514 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:15:56.525 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:56.526 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 11.2887ms
2025-12-15 01:15:56.529 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:15:56.532 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:56.535 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:15:56.537 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:15:56.542 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:15:56.549 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:56.551 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.4117ms
2025-12-15 01:15:56.553 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:15:56.556 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 26.8201ms
2025-12-15 01:16:06.584 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:16:06.627 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:16:06.655 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:16:06.658 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:06.661 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.666 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.668 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.671 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.672 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 88.0993ms
2025-12-15 01:16:06.673 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 45.9488ms
2025-12-15 01:16:06.673 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 44.5569ms
2025-12-15 01:16:06.674 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 16.4523ms
2025-12-15 01:16:06.681 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:06.682 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:06.686 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:16:06.688 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:16:06.691 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.694 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.696 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.699 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.699 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:06.700 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:06.701 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:16:06.702 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:16:06.703 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:06.704 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:16:06.705 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:16:06.706 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:16:06.709 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:06.718 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:06.720 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.3236ms
2025-12-15 01:16:06.748 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:16:06.749 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:06.753 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 71.9014ms
2025-12-15 01:16:06.754 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:06.758 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 47.181ms
2025-12-15 01:16:06.759 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:06.760 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 78.3244ms
2025-12-15 01:16:06.762 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:16:06.767 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:06.770 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 57.0845ms
2025-12-15 01:16:06.772 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:16:06.773 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 87.1548ms
2025-12-15 01:16:06.820 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:16:06.824 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:16:06.827 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:06.829 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 113.0182ms
2025-12-15 01:16:06.830 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:16:06.831 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 142.4462ms
2025-12-15 01:16:10.366 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:16:10.372 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:10.374 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 7.8945ms
2025-12-15 01:16:10.381 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:16:10.385 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:10.386 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:16:10.388 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:16:10.398 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:16:10.402 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:10.404 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 10.7977ms
2025-12-15 01:16:10.405 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:16:10.406 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 25.1006ms
2025-12-15 01:16:25.479 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:16:25.479 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:25.495 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:25.490 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:25.496 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 17.0185ms
2025-12-15 01:16:25.497 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 17.9912ms
2025-12-15 01:16:25.502 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:25.508 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:25.511 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:25.515 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:25.516 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:25.517 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:25.518 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:25.519 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:16:25.527 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:25.531 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:25.534 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 10.4918ms
2025-12-15 01:16:25.539 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:25.539 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:16:25.542 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 39.9369ms
2025-12-15 01:16:25.547 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:25.550 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 23.4773ms
2025-12-15 01:16:25.551 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:25.552 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 43.9774ms
2025-12-15 01:16:27.588 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:27.588 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:27.594 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:27.596 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:27.597 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:27.598 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:27.599 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:27.600 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:16:27.606 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:27.610 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:27.610 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:16:27.612 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 9.5944ms
2025-12-15 01:16:27.617 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:27.618 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:27.619 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 31.1435ms
2025-12-15 01:16:27.621 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 13.3259ms
2025-12-15 01:16:27.625 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:27.626 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 38.0065ms
2025-12-15 01:16:31.719 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:16:31.724 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:31.725 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 6.7072ms
2025-12-15 01:16:31.732 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:31.737 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:31.738 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:31.740 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:31.746 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:31.749 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:31.750 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 5.0411ms
2025-12-15 01:16:31.754 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:31.757 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 24.3748ms
2025-12-15 01:16:33.085 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:16:33.086 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:16:33.086 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:33.087 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:33.094 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.098 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.100 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.109 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 22.6884ms
2025-12-15 01:16:33.108 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 21.789ms
2025-12-15 01:16:33.105 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 19.8312ms
2025-12-15 01:16:33.104 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.128 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:33.130 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:16:33.133 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:16:33.134 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:33.138 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.140 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.142 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.143 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:33.144 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:33.148 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:33.145 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:16:33.145 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:16:33.148 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:16:33.155 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:33.157 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:16:33.158 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:16:33.162 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 14.2119ms
2025-12-15 01:16:33.163 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:16:33.165 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:16:33.166 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:16:33.169 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:33.175 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:33.176 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:16:33.177 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:33.178 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 91.1709ms
2025-12-15 01:16:33.180 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 19.3723ms
2025-12-15 01:16:33.182 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:33.183 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 18.056ms
2025-12-15 01:16:33.189 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:33.191 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 27.5832ms
2025-12-15 01:16:33.192 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:16:33.193 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 65.6431ms
2025-12-15 01:16:33.194 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:16:33.196 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 65.1251ms
2025-12-15 01:16:33.199 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 66.2405ms
2025-12-15 01:20:10.076 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 01:20:10.426 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 01:20:10.437 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 01:20:10.439 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 01:20:10.442 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 01:20:10.449 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-15 01:20:10.712 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 01:20:10.724 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-15 01:20:10.731 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-15 01:20:10.898 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 01:20:11.075 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-15 01:20:11.163 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 01:20:11.165 -03:00 [INF] Hosting environment: Development
2025-12-15 01:20:11.165 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-15 01:20:11.896 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-15 01:20:12.158 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-15 01:20:12.161 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-15 01:20:12.168 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 283.3552ms
2025-12-15 01:20:12.186 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 28.1408ms
2025-12-15 01:20:12.186 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 25.0886ms
2025-12-15 01:20:12.783 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-15 01:20:12.823 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.1544ms
2025-12-15 01:20:14.098 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-15 01:20:14.139 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.6561ms

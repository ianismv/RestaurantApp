2025-12-15 00:11:27.139 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 00:11:54.397 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 00:11:54.410 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 00:11:54.415 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 00:11:54.419 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 00:11:54.427 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-15 00:11:54.799 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 00:11:54.810 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-15 00:11:54.818 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-15 00:11:55.001 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 00:11:55.270 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-15 00:11:55.362 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 00:11:55.364 -03:00 [INF] Hosting environment: Development
2025-12-15 00:11:55.365 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-15 00:11:56.251 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-15 00:11:56.539 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 296.2479ms
2025-12-15 00:11:56.547 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-15 00:11:56.587 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 43.3822ms
2025-12-15 00:11:57.253 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-15 00:11:57.253 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-15 00:11:57.259 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 6.1731ms
2025-12-15 00:11:57.303 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.9337ms
2025-12-15 00:11:58.538 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-15 00:11:58.570 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.072ms
2025-12-15 00:12:05.748 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 00:12:05.756 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:05.761 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 12.2067ms
2025-12-15 00:12:05.764 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 00:12:05.771 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:05.979 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 00:12:06.000 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 00:12:06.397 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:12:06.502 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 00:12:06.515 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 499.39ms
2025-12-15 00:12:06.517 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 00:12:06.535 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 771.1453ms
2025-12-15 00:12:08.000 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 00:12:08.001 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 00:12:08.002 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 00:12:08.001 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 00:12:08.013 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.013 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.017 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.019 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.020 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 20.7679ms
2025-12-15 00:12:08.022 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 20.9595ms
2025-12-15 00:12:08.023 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 21.1794ms
2025-12-15 00:12:08.030 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 28.8674ms
2025-12-15 00:12:08.035 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 00:12:08.038 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 00:12:08.048 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 00:12:08.052 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 00:12:08.087 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.090 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.095 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.098 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.101 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 00:12:08.102 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:12:08.104 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:12:08.106 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 00:12:08.111 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 00:12:08.116 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 00:12:08.116 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 00:12:08.129 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 00:12:08.200 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:12:08.203 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 00:12:08.215 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:08.213 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 00:12:08.213 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 00:12:08.216 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:12:08.221 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 100.0534ms
2025-12-15 00:12:08.223 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 00:12:08.228 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 00:12:08.228 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 193.1101ms
2025-12-15 00:12:08.267 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 00:12:08.331 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:08.348 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 00:12:08.371 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:08.376 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 126.7286ms
2025-12-15 00:12:08.377 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:12:08.379 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 175.8832ms
2025-12-15 00:12:08.404 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 280.4772ms
2025-12-15 00:12:08.405 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 00:12:08.405 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:12:08.421 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 373.826ms
2025-12-15 00:12:08.423 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:08.433 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 294.8687ms
2025-12-15 00:12:08.434 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 00:12:08.436 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 384.5899ms
2025-12-15 00:12:08.469 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 00:12:08.582 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:08.602 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 472.0466ms
2025-12-15 00:12:08.604 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:12:08.606 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 568.4959ms
2025-12-15 00:12:12.156 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:12:12.160 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:12.163 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 6.9909ms
2025-12-15 00:12:12.169 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:12:12.175 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:12:12.185 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:12:12.192 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:12:12.269 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:12:12.277 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:12:12.283 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 81.5249ms
2025-12-15 00:12:12.287 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:12:12.296 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 119.0815ms
2025-12-15 00:29:47.143 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:29:47.147 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:29:47.148 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 5.9303ms
2025-12-15 00:29:47.152 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:29:47.155 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:29:47.157 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:29:47.158 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:29:47.332 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:29:47.336 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:29:47.338 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 175.5413ms
2025-12-15 00:29:47.339 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:29:47.340 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 188.4928ms
2025-12-15 00:33:26.235 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:33:26.248 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:33:26.249 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 13.8946ms
2025-12-15 00:33:26.267 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:33:26.270 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:33:26.273 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:33:26.275 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:33:26.289 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:33:26.293 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:33:26.295 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 10.7295ms
2025-12-15 00:33:26.297 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:33:26.299 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 31.6547ms
2025-12-15 00:33:54.096 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:33:54.100 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:33:54.101 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 9.0227ms
2025-12-15 00:33:54.105 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:33:54.108 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:33:54.109 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:33:54.110 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:33:54.115 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:33:54.117 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:33:54.119 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 6.1452ms
2025-12-15 00:33:54.120 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:33:54.121 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 15.7222ms
2025-12-15 00:36:08.096 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:36:08.099 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:36:08.100 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 9.3953ms
2025-12-15 00:36:08.103 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:36:08.106 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:36:08.107 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:36:08.108 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:36:08.170 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:36:08.175 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:36:08.177 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 66.3917ms
2025-12-15 00:36:08.178 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:36:08.179 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 76.1954ms
2025-12-15 00:42:38.135 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:42:38.138 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:42:38.139 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 3.4041ms
2025-12-15 00:42:38.142 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:42:38.144 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:42:38.146 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:42:38.147 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:42:38.220 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:42:38.236 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:42:38.239 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 88.753ms
2025-12-15 00:42:38.241 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:42:38.242 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 100.271ms
2025-12-15 00:44:20.517 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/1 - null null
2025-12-15 00:44:20.521 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:44:20.522 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/1 - 204 null null 5.107ms
2025-12-15 00:44:20.525 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/1 - application/json 75
2025-12-15 00:44:20.528 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:44:20.529 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:44:20.536 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:44:20.585 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:44:20.690 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Name" = @p0
WHERE "Id" = @p1;
2025-12-15 00:44:20.709 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 00:44:20.711 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 171.8875ms
2025-12-15 00:44:20.714 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:44:20.717 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/1 - 200 null application/json; charset=utf-8 192.086ms
2025-12-15 00:44:20.721 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:44:20.723 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:44:20.724 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 2.9696ms
2025-12-15 00:44:20.727 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:44:20.732 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:44:20.734 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:44:20.735 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:44:20.739 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:44:20.742 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:44:20.744 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 6.53ms
2025-12-15 00:44:20.745 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:44:20.750 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 22.6302ms
2025-12-15 00:49:38.291 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/6 - null null
2025-12-15 00:49:38.296 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:38.296 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/6 - 204 null null 5.7813ms
2025-12-15 00:49:38.300 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/6 - application/json 65
2025-12-15 00:49:38.302 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:38.303 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:49:38.304 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:38.475 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:49:38.482 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsActive" = @p0
WHERE "Id" = @p1;
2025-12-15 00:49:38.486 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 00:49:38.488 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 179.3641ms
2025-12-15 00:49:38.489 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:49:38.492 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/6 - 200 null application/json; charset=utf-8 192.0281ms
2025-12-15 00:49:38.496 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:49:38.499 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:38.500 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 4.3359ms
2025-12-15 00:49:38.505 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:49:38.507 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:38.508 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:38.509 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:38.517 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:49:38.521 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:49:38.525 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 13.315ms
2025-12-15 00:49:38.536 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:38.541 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 36.7608ms
2025-12-15 00:49:44.176 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:49:44.180 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:44.181 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 5.0909ms
2025-12-15 00:49:44.189 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:49:44.193 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:44.195 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:44.198 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:44.214 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 00:49:44.220 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:49:44.224 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 22.8252ms
2025-12-15 00:49:44.225 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:44.227 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 38.195ms
2025-12-15 00:49:58.841 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/6 - null null
2025-12-15 00:49:58.845 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:58.847 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/6 - 204 null null 6.7565ms
2025-12-15 00:49:58.852 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/6 - application/json 64
2025-12-15 00:49:58.856 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:58.857 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:49:58.857 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:58.862 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 00:49:58.866 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsActive" = @p0
WHERE "Id" = @p1;
2025-12-15 00:49:58.870 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 00:49:58.872 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 11.9603ms
2025-12-15 00:49:58.874 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 00:49:58.876 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/6 - 200 null application/json; charset=utf-8 24.2986ms
2025-12-15 00:49:58.885 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:49:58.890 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:58.891 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 5.8706ms
2025-12-15 00:49:58.898 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:49:58.902 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:49:58.904 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:58.905 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:49:58.911 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 00:49:58.918 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:49:58.920 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 11.1512ms
2025-12-15 00:49:58.923 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:49:58.925 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 27.7219ms
2025-12-15 00:50:02.527 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 00:50:02.530 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:50:02.531 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:50:02.533 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:50:02.536 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 00:50:02.540 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:50:02.542 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 7.1283ms
2025-12-15 00:50:02.544 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:50:02.545 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 17.3214ms
2025-12-15 00:51:59.278 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 00:51:59.342 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 00:51:59.344 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:51:59.346 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:51:59.347 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 69.2106ms
2025-12-15 00:51:59.348 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 6.0211ms
2025-12-15 00:51:59.350 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 00:51:59.352 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 00:51:59.355 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:51:59.358 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:51:59.360 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:51:59.361 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:51:59.361 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 00:51:59.362 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 00:51:59.366 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 00:51:59.372 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:51:59.375 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.3949ms
2025-12-15 00:51:59.378 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:51:59.379 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 28.5823ms
2025-12-15 00:51:59.434 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 00:51:59.444 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:51:59.445 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 79.7495ms
2025-12-15 00:51:59.447 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:51:59.448 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 95.7429ms
2025-12-15 00:52:01.296 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 00:52:01.299 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:01.302 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 6.1309ms
2025-12-15 00:52:01.310 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 00:52:01.314 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:01.315 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:52:01.316 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 00:52:01.320 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 00:52:01.327 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:01.330 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 12.2816ms
2025-12-15 00:52:01.332 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:52:01.335 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 25.4465ms
2025-12-15 00:52:17.571 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 00:52:17.595 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:17.596 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 24.2149ms
2025-12-15 00:52:17.603 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 00:52:17.606 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:17.609 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:52:17.610 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 00:52:17.614 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 00:52:17.621 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:17.622 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 9.2693ms
2025-12-15 00:52:17.624 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:52:17.625 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 22.5047ms
2025-12-15 00:52:18.802 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 00:52:18.802 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 00:52:18.804 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 00:52:18.813 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 00:52:18.818 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.822 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.879 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 77.2788ms
2025-12-15 00:52:18.828 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 25.9321ms
2025-12-15 00:52:18.825 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.826 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.886 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 00:52:18.908 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 00:52:18.909 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 105.146ms
2025-12-15 00:52:18.910 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:52:18.913 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.918 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.922 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 00:52:18.923 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 00:52:18.925 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 00:52:18.925 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:52:18.928 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:52:18.932 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 00:52:18.934 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 00:52:18.934 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 00:52:18.935 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:52:18.939 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 00:52:18.941 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:18.941 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 00:52:18.945 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 14.071ms
2025-12-15 00:52:18.948 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 00:52:18.945 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 00:52:18.952 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 139.9032ms
2025-12-15 00:52:18.954 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 00:52:18.963 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:18.974 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 37.1848ms
2025-12-15 00:52:18.975 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 00:52:18.976 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:18.976 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 90.6109ms
2025-12-15 00:52:18.978 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 31.4142ms
2025-12-15 00:52:18.982 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 00:52:18.984 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 61.8531ms
2025-12-15 00:52:19.001 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 00:52:19.007 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:52:19.009 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 69.8508ms
2025-12-15 00:52:19.010 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 00:52:19.011 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 103.0526ms
2025-12-15 00:58:26.237 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:58:26.242 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:58:26.243 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 6.0596ms
2025-12-15 00:58:26.249 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 00:58:26.252 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:58:26.253 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:58:26.256 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 00:58:26.268 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 00:58:26.277 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 00:58:26.279 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 18.8846ms
2025-12-15 00:58:26.281 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 00:58:26.284 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 35.07ms
2025-12-15 00:59:12.037 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5231/api/users/3 - null null
2025-12-15 00:59:12.064 -03:00 [INF] CORS policy execution failed.
2025-12-15 00:59:12.070 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 00:59:12.073 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-15 00:59:12.080 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 00:59:12.081 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5231/api/users/3 - 401 0 null 43.6281ms
2025-12-15 00:59:23.421 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5231/api/users/3 - null null
2025-12-15 00:59:23.431 -03:00 [INF] CORS policy execution failed.
2025-12-15 00:59:23.432 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 00:59:23.448 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 03:59:23'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-15 00:59:23.510 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 03:59:23'.
2025-12-15 00:59:23.512 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-15 00:59:23.514 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 00:59:23.515 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5231/api/users/3 - 401 0 null 94.2479ms
2025-12-15 00:59:56.505 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 00:59:56.523 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:59:56.527 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 21.6003ms
2025-12-15 00:59:56.532 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 00:59:56.535 -03:00 [INF] CORS policy execution successful.
2025-12-15 00:59:56.537 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 5.4069ms
2025-12-15 00:59:56.541 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 01:00:04.096 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 64
2025-12-15 01:00:04.100 -03:00 [INF] CORS policy execution failed.
2025-12-15 01:00:04.101 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 01:00:04.105 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 04:00:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-15 01:00:04.113 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 04:00:04'.
2025-12-15 01:00:04.116 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:00:04.147 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:00:04.187 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:00:04.563 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:00:04.581 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:00:04.586 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 01:00:04.588 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 429.998ms
2025-12-15 01:00:04.592 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:00:04.594 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 497.564ms
2025-12-15 01:00:21.268 -03:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5231/api/users/3 - null null
2025-12-15 01:00:21.271 -03:00 [INF] CORS policy execution failed.
2025-12-15 01:00:21.272 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 01:00:21.277 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Delete (Api)'
2025-12-15 01:00:21.287 -03:00 [INF] Route matched with {action = "Delete", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:00:21.315 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u0."Id", u0."CreatedAt", u0."Email", u0."IsActive", u0."LastLoginAt", u0."Name", u0."PasswordHash", u0."RefreshToken", u0."RefreshTokenExpiration", u0."Role", r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM (
    SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
    FROM "Users" AS u
    WHERE u."Id" = @__id_0
    LIMIT 1
) AS u0
LEFT JOIN "Reservations" AS r ON u0."Id" = r."UserId"
ORDER BY u0."Id"
2025-12-15 01:00:21.324 -03:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 01:00:21.328 -03:00 [INF] Executed action Api.Controllers.UsersController.Delete (Api) in 36.2912ms
2025-12-15 01:00:21.330 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Delete (Api)'
2025-12-15 01:00:21.332 -03:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5231/api/users/3 - 400 null application/json; charset=utf-8 64.4235ms
2025-12-15 01:00:49.182 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 01:00:49.186 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.187 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 5.5995ms
2025-12-15 01:00:49.192 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-15 01:00:49.196 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.197 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:00:49.198 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:00:49.203 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:00:49.394 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:00:49.399 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:00:49.402 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 01:00:49.403 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 202.2218ms
2025-12-15 01:00:49.405 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:00:49.406 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 213.7198ms
2025-12-15 01:00:49.471 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:00:49.472 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:00:49.510 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:00:49.512 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:00:49.514 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.517 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.519 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.521 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.522 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 51.4146ms
2025-12-15 01:00:49.523 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 51.0341ms
2025-12-15 01:00:49.525 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 14.9571ms
2025-12-15 01:00:49.526 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 14.0607ms
2025-12-15 01:00:49.530 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:00:49.534 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:00:49.534 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:00:49.537 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:00:49.539 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.545 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.547 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.549 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.550 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 20.6122ms
2025-12-15 01:00:49.562 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:00:49.553 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:00:49.554 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:00:49.552 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:00:49.564 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.565 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:00:49.567 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:00:49.568 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:00:49.578 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:00:49.617 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:49.571 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:00:49.568 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:00:49.618 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:00:49.620 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:49.621 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:00:49.622 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:00:49.623 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 52.5412ms
2025-12-15 01:00:49.632 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:00:49.634 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 99.1553ms
2025-12-15 01:00:49.635 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:00:49.643 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:49.646 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 17.4744ms
2025-12-15 01:00:49.648 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:00:49.649 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 86.6629ms
2025-12-15 01:00:49.721 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:00:49.722 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:00:49.730 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:00:49.730 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:49.731 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:00:49.733 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:00:49.734 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 156.5667ms
2025-12-15 01:00:49.737 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:49.738 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 106.5533ms
2025-12-15 01:00:49.744 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:00:49.742 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 169.8136ms
2025-12-15 01:00:49.739 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:00:49.746 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 167.9718ms
2025-12-15 01:00:49.747 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:00:49.748 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 214.0573ms
2025-12-15 01:00:49.752 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 214.7868ms
2025-12-15 01:00:50.727 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:00:50.727 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:00:50.730 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:50.735 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:50.737 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:00:50.737 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:00:50.742 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:00:50.743 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:00:50.749 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:00:50.771 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:00:50.784 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:50.788 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:50.789 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 41.9382ms
2025-12-15 01:00:50.797 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:00:50.796 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 47.0951ms
2025-12-15 01:00:50.798 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 71.4521ms
2025-12-15 01:00:50.799 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:00:50.804 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 77.2177ms
2025-12-15 01:00:58.922 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:00:58.929 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:58.931 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 8.3783ms
2025-12-15 01:00:58.935 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:00:58.941 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:00:58.943 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:00:58.945 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:00:58.951 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:00:58.960 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:00:58.961 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 13.6326ms
2025-12-15 01:00:58.963 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:00:58.964 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 29.3613ms
2025-12-15 01:01:42.718 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/3 - null null
2025-12-15 01:01:42.729 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:42.730 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/3 - 204 null null 11.8153ms
2025-12-15 01:01:42.734 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/3 - application/json 59
2025-12-15 01:01:42.736 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:42.738 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:01:42.739 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:01:42.743 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:01:42.754 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsActive" = @p0
WHERE "Id" = @p1;
2025-12-15 01:01:42.759 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:01:42.761 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 19.9005ms
2025-12-15 01:01:42.763 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:01:42.764 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/3 - 200 null application/json; charset=utf-8 29.2933ms
2025-12-15 01:01:42.767 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:01:42.769 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:42.770 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 3.4728ms
2025-12-15 01:01:42.775 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:01:42.777 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:42.778 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:01:42.779 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:01:42.785 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:01:42.789 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:01:42.791 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 8.7411ms
2025-12-15 01:01:42.794 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:01:42.796 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 21.1986ms
2025-12-15 01:01:47.026 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:01:47.029 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:47.032 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 6.1834ms
2025-12-15 01:01:47.035 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:01:47.038 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:01:47.040 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:01:47.041 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:01:47.049 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:01:47.055 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:01:47.058 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 11.8581ms
2025-12-15 01:01:47.060 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:01:47.062 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 27.2426ms
2025-12-15 01:02:26.274 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users/3 - null null
2025-12-15 01:02:26.285 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetById (Api)'
2025-12-15 01:02:26.289 -03:00 [INF] Route matched with {action = "GetById", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(Int32) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:02:26.314 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 1
2025-12-15 01:02:26.333 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:02:26.338 -03:00 [INF] Executed action Api.Controllers.UsersController.GetById (Api) in 36.1886ms
2025-12-15 01:02:26.346 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetById (Api)'
2025-12-15 01:02:26.347 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users/3 - 200 null application/json; charset=utf-8 76.2056ms
2025-12-15 01:03:37.822 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/3 - application/json 89
2025-12-15 01:03:37.837 -03:00 [INF] CORS policy execution failed.
2025-12-15 01:03:37.838 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 01:03:37.841 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:03:37.842 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:03:37.847 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:03:37.855 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsActive" = @p0, "Role" = @p1
WHERE "Id" = @p2;
2025-12-15 01:03:37.859 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:03:37.860 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 14.7938ms
2025-12-15 01:03:37.862 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:03:37.864 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/3 - 200 null application/json; charset=utf-8 41.6289ms
2025-12-15 01:03:49.191 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:03:49.221 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:03:49.226 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.232 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.233 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 41.5927ms
2025-12-15 01:03:49.250 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:03:49.242 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 49.459ms
2025-12-15 01:03:49.253 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.258 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:03:49.259 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:03:49.261 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.264 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:03:49.266 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:03:49.270 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:03:49.272 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:03:49.276 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:03:49.276 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:03:49.289 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 19.3496ms
2025-12-15 01:03:49.290 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:03:49.291 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:03:49.291 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 41.1747ms
2025-12-15 01:03:49.293 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 19.7488ms
2025-12-15 01:03:49.300 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:03:49.302 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 43.9003ms
2025-12-15 01:03:49.906 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:03:49.911 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.914 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 6.5697ms
2025-12-15 01:03:49.922 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:03:49.925 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:49.925 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:03:49.926 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:03:49.937 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:03:49.941 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:03:49.942 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 13.7236ms
2025-12-15 01:03:49.943 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:03:49.944 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 21.9828ms
2025-12-15 01:03:53.233 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:03:53.236 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:53.237 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 4.5ms
2025-12-15 01:03:53.241 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:03:53.245 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:03:53.248 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:03:53.250 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:03:53.255 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:03:53.260 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:03:53.263 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 9.6259ms
2025-12-15 01:03:53.266 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:03:53.268 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 26.8883ms
2025-12-15 01:04:15.946 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/2 - null null
2025-12-15 01:04:15.967 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:15.968 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/2 - 204 null null 22.1216ms
2025-12-15 01:04:15.972 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/2 - application/json 59
2025-12-15 01:04:15.974 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:15.975 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:04:15.976 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:04:15.980 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:04:15.997 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='?', @__id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u
    WHERE u."Email" = @__dto_Email_0 AND u."Id" <> @__id_1)
2025-12-15 01:04:16.002 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Email" = @p0
WHERE "Id" = @p1;
2025-12-15 01:04:16.007 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:04:16.010 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 31.5962ms
2025-12-15 01:04:16.011 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:04:16.013 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/2 - 200 null application/json; charset=utf-8 41.1735ms
2025-12-15 01:04:16.018 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:04:16.021 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:16.022 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 4.2822ms
2025-12-15 01:04:16.027 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:04:16.030 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:16.032 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:16.034 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:04:16.044 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:04:16.048 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:16.050 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 11.0681ms
2025-12-15 01:04:16.052 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:16.055 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 28.4293ms
2025-12-15 01:04:24.398 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:04:24.452 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:24.453 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 55.1036ms
2025-12-15 01:04:24.449 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:04:24.460 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:24.461 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 11.7442ms
2025-12-15 01:04:24.463 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:04:24.464 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:04:24.466 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:24.470 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:24.471 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:04:24.472 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:04:24.472 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:04:24.473 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:04:24.478 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:04:24.480 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:24.481 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:04:24.482 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 4.5469ms
2025-12-15 01:04:24.490 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:04:24.490 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:24.491 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 27.1701ms
2025-12-15 01:04:24.493 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 17.8513ms
2025-12-15 01:04:24.497 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:04:24.498 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 34.8144ms
2025-12-15 01:04:24.994 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:04:25.002 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:25.005 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 10.6968ms
2025-12-15 01:04:25.010 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:04:25.013 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:25.015 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:25.017 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:04:25.023 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:04:25.028 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:25.030 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 8.8679ms
2025-12-15 01:04:25.031 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:25.033 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 23.1871ms
2025-12-15 01:04:26.540 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:04:26.543 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:26.546 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 4.9195ms
2025-12-15 01:04:26.551 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:04:26.554 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:04:26.555 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:26.557 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:04:26.564 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:04:26.568 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:04:26.570 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 11.3215ms
2025-12-15 01:04:26.573 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:04:26.600 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 48.4233ms
2025-12-15 01:15:28.878 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users/1 - null null
2025-12-15 01:15:28.882 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:28.883 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users/1 - 204 null null 4.7445ms
2025-12-15 01:15:28.886 -03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5231/api/users/1 - application/json 32
2025-12-15 01:15:28.888 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:28.890 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:15:28.892 -03:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, Api.DTOs.UserUpdateDto) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:15:28.949 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:15:28.954 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDetailDto'.
2025-12-15 01:15:28.955 -03:00 [INF] Executed action Api.Controllers.UsersController.Update (Api) in 59.6145ms
2025-12-15 01:15:28.966 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.Update (Api)'
2025-12-15 01:15:28.967 -03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5231/api/users/1 - 200 null application/json; charset=utf-8 80.8537ms
2025-12-15 01:15:28.971 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:15:28.975 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:28.977 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=true - 204 null null 6.5292ms
2025-12-15 01:15:28.980 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - null null
2025-12-15 01:15:28.983 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:28.985 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:15:28.986 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:15:28.998 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
ORDER BY u."CreatedAt" DESC
2025-12-15 01:15:29.004 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:29.009 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 17.1932ms
2025-12-15 01:15:29.010 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:15:29.012 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=true - 200 null application/json; charset=utf-8 31.5688ms
2025-12-15 01:15:39.790 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:15:39.831 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:15:39.836 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:39.839 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:39.843 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 12.4687ms
2025-12-15 01:15:39.841 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 50.5482ms
2025-12-15 01:15:39.846 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:15:39.850 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:15:39.852 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:39.857 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:39.858 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:15:39.860 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:15:39.861 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:15:39.862 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:15:39.873 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:15:39.881 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:39.890 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 26.3716ms
2025-12-15 01:15:39.893 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:15:39.895 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 48.3942ms
2025-12-15 01:15:39.925 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:15:39.929 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:39.931 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 65.2742ms
2025-12-15 01:15:39.933 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:15:39.934 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 84.1381ms
2025-12-15 01:15:49.609 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:15:49.614 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:49.618 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 9.6862ms
2025-12-15 01:15:49.625 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:15:49.628 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:49.630 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:15:49.631 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:15:49.638 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:15:49.643 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:49.646 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 10.7598ms
2025-12-15 01:15:49.647 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:15:49.652 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 26.2439ms
2025-12-15 01:15:56.514 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:15:56.525 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:56.526 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 11.2887ms
2025-12-15 01:15:56.529 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:15:56.532 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:15:56.535 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:15:56.537 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:15:56.542 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:15:56.549 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:15:56.551 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.4117ms
2025-12-15 01:15:56.553 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:15:56.556 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 26.8201ms
2025-12-15 01:16:06.584 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:16:06.627 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:16:06.655 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:16:06.658 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:06.661 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.666 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.668 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.671 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.672 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 88.0993ms
2025-12-15 01:16:06.673 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 45.9488ms
2025-12-15 01:16:06.673 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 44.5569ms
2025-12-15 01:16:06.674 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 16.4523ms
2025-12-15 01:16:06.681 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:06.682 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:06.686 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:16:06.688 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:16:06.691 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.694 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.696 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.699 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:06.699 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:06.700 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:06.701 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:16:06.702 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:16:06.703 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:06.704 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:16:06.705 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:16:06.706 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:16:06.709 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:06.718 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:06.720 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.3236ms
2025-12-15 01:16:06.748 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:16:06.749 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:06.753 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 71.9014ms
2025-12-15 01:16:06.754 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:06.758 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 47.181ms
2025-12-15 01:16:06.759 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:06.760 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 78.3244ms
2025-12-15 01:16:06.762 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:16:06.767 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:06.770 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 57.0845ms
2025-12-15 01:16:06.772 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:16:06.773 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 87.1548ms
2025-12-15 01:16:06.820 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:16:06.824 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:16:06.827 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:06.829 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 113.0182ms
2025-12-15 01:16:06.830 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:16:06.831 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 142.4462ms
2025-12-15 01:16:10.366 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:16:10.372 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:10.374 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 7.8945ms
2025-12-15 01:16:10.381 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 01:16:10.385 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:10.386 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:16:10.388 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:16:10.398 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:16:10.402 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:10.404 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 10.7977ms
2025-12-15 01:16:10.405 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:16:10.406 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 25.1006ms
2025-12-15 01:16:25.479 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:16:25.479 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:25.495 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:25.490 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:25.496 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 17.0185ms
2025-12-15 01:16:25.497 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 17.9912ms
2025-12-15 01:16:25.502 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:25.508 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:25.511 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:25.515 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:25.516 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:25.517 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:25.518 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:25.519 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:16:25.527 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:25.531 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:25.534 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 10.4918ms
2025-12-15 01:16:25.539 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:25.539 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:16:25.542 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 39.9369ms
2025-12-15 01:16:25.547 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:25.550 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 23.4773ms
2025-12-15 01:16:25.551 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:25.552 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 43.9774ms
2025-12-15 01:16:27.588 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:27.588 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:27.594 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:27.596 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:27.597 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:27.598 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:27.599 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:27.600 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:16:27.606 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:27.610 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:27.610 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:16:27.612 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 9.5944ms
2025-12-15 01:16:27.617 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:27.618 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:27.619 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 31.1435ms
2025-12-15 01:16:27.621 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 13.3259ms
2025-12-15 01:16:27.625 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:27.626 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 38.0065ms
2025-12-15 01:16:31.719 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:16:31.724 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:31.725 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 6.7072ms
2025-12-15 01:16:31.732 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:31.737 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:31.738 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:31.740 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:31.746 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:31.749 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:31.750 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 5.0411ms
2025-12-15 01:16:31.754 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:31.757 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 24.3748ms
2025-12-15 01:16:33.085 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:16:33.086 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:16:33.086 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:33.087 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:16:33.094 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.098 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.100 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.109 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 22.6884ms
2025-12-15 01:16:33.108 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 21.789ms
2025-12-15 01:16:33.105 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 19.8312ms
2025-12-15 01:16:33.104 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.128 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:16:33.130 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:16:33.133 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:16:33.134 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:33.138 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.140 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.142 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:16:33.143 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:16:33.144 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:33.148 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:16:33.145 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:16:33.145 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:16:33.148 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:16:33.155 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:33.157 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:16:33.158 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:16:33.162 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 14.2119ms
2025-12-15 01:16:33.163 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:16:33.165 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:16:33.166 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:16:33.169 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:16:33.175 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:33.176 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:16:33.177 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:33.178 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 91.1709ms
2025-12-15 01:16:33.180 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 19.3723ms
2025-12-15 01:16:33.182 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:16:33.183 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 18.056ms
2025-12-15 01:16:33.189 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:16:33.191 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 27.5832ms
2025-12-15 01:16:33.192 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:16:33.193 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 65.6431ms
2025-12-15 01:16:33.194 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:16:33.196 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 65.1251ms
2025-12-15 01:16:33.199 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 66.2405ms
2025-12-15 01:20:10.076 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 01:20:10.426 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 01:20:10.437 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 01:20:10.439 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 01:20:10.442 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 01:20:10.449 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-15 01:20:10.712 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 01:20:10.724 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-15 01:20:10.731 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-15 01:20:10.898 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 01:20:11.075 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-15 01:20:11.163 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 01:20:11.165 -03:00 [INF] Hosting environment: Development
2025-12-15 01:20:11.165 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-15 01:20:11.896 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-15 01:20:12.158 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-15 01:20:12.161 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-15 01:20:12.168 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 283.3552ms
2025-12-15 01:20:12.186 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 28.1408ms
2025-12-15 01:20:12.186 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 25.0886ms
2025-12-15 01:20:12.783 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-15 01:20:12.823 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.1544ms
2025-12-15 01:20:14.098 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-15 01:20:14.139 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.6561ms
2025-12-15 01:24:30.471 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:24:30.476 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:30.479 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 8.1848ms
2025-12-15 01:24:30.482 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:24:30.487 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:30.761 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:30.782 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:24:31.154 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:24:31.264 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:24:31.281 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 489.9858ms
2025-12-15 01:24:31.283 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:31.291 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 809.0606ms
2025-12-15 01:24:32.780 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:24:32.780 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:24:32.851 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:24:32.860 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:24:32.860 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:24:32.862 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.873 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.866 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.868 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.864 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.873 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 93.1269ms
2025-12-15 01:24:32.876 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 63.6127ms
2025-12-15 01:24:32.877 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:32.877 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 17.1044ms
2025-12-15 01:24:32.877 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 97.2905ms
2025-12-15 01:24:32.883 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:24:32.883 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:24:32.884 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:24:32.886 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:24:32.891 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:24:32.893 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.895 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.898 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.900 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:32.907 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:24:32.909 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:24:32.909 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:24:32.913 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:24:32.913 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:24:32.913 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:24:32.923 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:24:32.925 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:24:32.966 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:24:32.984 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:24:32.991 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 94.4011ms
2025-12-15 01:24:32.992 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:32.994 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 134.0233ms
2025-12-15 01:24:33.073 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:24:33.074 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:24:33.075 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:24:33.097 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:33.114 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:33.134 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:24:33.134 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 220.111ms
2025-12-15 01:24:33.134 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 207.045ms
2025-12-15 01:24:33.140 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:24:33.142 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:24:33.143 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:33.143 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 257.313ms
2025-12-15 01:24:33.144 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 260.868ms
2025-12-15 01:24:33.147 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 221.6588ms
2025-12-15 01:24:33.155 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:24:33.156 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 265.8885ms
2025-12-15 01:24:33.194 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:24:33.283 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:33.297 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 380.4209ms
2025-12-15 01:24:33.298 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:24:33.300 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 417.1596ms
2025-12-15 01:24:36.247 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:24:36.250 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:36.251 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 3.4663ms
2025-12-15 01:24:36.254 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:24:36.257 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:36.258 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:36.259 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:24:36.267 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:24:36.272 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:24:36.273 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 11.6327ms
2025-12-15 01:24:36.274 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:36.275 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 21.1698ms
2025-12-15 01:24:36.406 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:24:36.406 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:24:36.406 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:24:36.408 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:36.411 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:36.413 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:36.415 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:24:36.418 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:24:36.417 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:36.416 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:24:36.428 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:24:36.427 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:24:36.430 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:24:36.440 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:24:36.443 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:24:36.446 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:36.463 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 40.3794ms
2025-12-15 01:24:36.465 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:24:36.466 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:36.448 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:24:36.466 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 59.6511ms
2025-12-15 01:24:36.468 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 37.4214ms
2025-12-15 01:24:36.469 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 35.4269ms
2025-12-15 01:24:36.477 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:24:36.475 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:24:36.478 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 71.4671ms
2025-12-15 01:24:36.480 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 73.4898ms
2025-12-15 01:24:42.313 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:24:42.313 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:24:42.326 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:24:42.326 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:24:42.347 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.351 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.356 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.359 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.361 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 48.2084ms
2025-12-15 01:24:42.362 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 48.9146ms
2025-12-15 01:24:42.363 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 37.0416ms
2025-12-15 01:24:42.365 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 38.5975ms
2025-12-15 01:24:42.403 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:24:42.407 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:24:42.410 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:24:42.412 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:24:42.415 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.418 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.421 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.425 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:24:42.430 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:24:42.431 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:24:42.429 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:24:42.427 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:24:42.428 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:24:42.439 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:24:42.439 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:24:42.440 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:24:42.441 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:24:42.445 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:42.456 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:24:42.456 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:24:42.457 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 24.2389ms
2025-12-15 01:24:42.459 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:42.462 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:24:42.462 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:24:42.464 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 8.9914ms
2025-12-15 01:24:42.471 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:24:42.469 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 56.6118ms
2025-12-15 01:24:42.465 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:24:42.473 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 65.6918ms
2025-12-15 01:24:42.473 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:42.478 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:24:42.482 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 34.589ms
2025-12-15 01:24:42.486 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:24:42.485 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 32.5637ms
2025-12-15 01:24:42.488 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 77.7473ms
2025-12-15 01:24:42.489 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:24:42.493 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 90.7868ms
2025-12-15 01:29:49.209 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:29:49.214 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.215 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 6.3569ms
2025-12-15 01:29:49.221 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:29:49.225 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.226 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:49.228 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:29:49.234 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:29:49.239 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:29:49.240 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.3501ms
2025-12-15 01:29:49.242 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:49.244 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 22.4859ms
2025-12-15 01:29:49.337 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:29:49.339 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.339 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:29:49.423 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.374 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 37.5271ms
2025-12-15 01:29:49.379 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:29:49.418 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:29:49.371 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:29:49.424 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 84.7565ms
2025-12-15 01:29:49.427 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:29:49.433 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.435 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.437 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.444 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 72.8552ms
2025-12-15 01:29:49.483 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:29:49.442 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.442 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 66.4322ms
2025-12-15 01:29:49.443 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:49.439 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:29:49.487 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.487 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:29:49.490 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:29:49.492 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:29:49.494 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.499 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:29:49.506 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:29:49.502 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:49.505 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:29:49.500 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:29:49.506 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:29:49.509 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:29:49.510 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:29:49.510 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:29:49.517 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:29:49.517 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:29:49.518 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:29:49.522 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:29:49.523 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:49.526 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 22.0975ms
2025-12-15 01:29:49.526 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:29:49.539 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:49.540 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 26.4748ms
2025-12-15 01:29:49.541 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:29:49.535 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:49.533 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:49.533 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:29:49.534 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 26.008ms
2025-12-15 01:29:49.543 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 115.4155ms
2025-12-15 01:29:49.544 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 159.4012ms
2025-12-15 01:29:49.585 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 64.5901ms
2025-12-15 01:29:49.592 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:29:49.593 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:49.602 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:29:49.603 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 119.7729ms
2025-12-15 01:29:49.605 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 76.2207ms
2025-12-15 01:29:49.610 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:29:49.615 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 125.0612ms
2025-12-15 01:29:49.606 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 166.5906ms
2025-12-15 01:29:55.945 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:29:55.949 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:55.949 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 4.1764ms
2025-12-15 01:29:55.954 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:29:55.957 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:55.958 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:55.960 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:29:55.968 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:29:55.975 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:29:55.977 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 12.5361ms
2025-12-15 01:29:55.979 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:55.982 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 27.7997ms
2025-12-15 01:29:56.573 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:29:56.573 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:29:56.574 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:29:56.586 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.587 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 12.9319ms
2025-12-15 01:29:56.581 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.598 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 25.6085ms
2025-12-15 01:29:56.574 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:29:56.647 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.653 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 78.3627ms
2025-12-15 01:29:56.576 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:29:56.665 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.583 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.668 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 95.0818ms
2025-12-15 01:29:56.668 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:56.671 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:29:56.684 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:29:56.689 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:29:56.691 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 9.2775ms
2025-12-15 01:29:56.694 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:29:56.697 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 120.1192ms
2025-12-15 01:29:56.735 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:29:56.735 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:29:56.803 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.747 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:29:56.815 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.817 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:29:56.819 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:29:56.834 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:29:56.746 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:29:56.841 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.845 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:29:56.853 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:29:56.805 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:29:56.863 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:29:56.839 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:56.869 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 36.7653ms
2025-12-15 01:29:56.789 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:29:56.861 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:29:56.870 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:29:56.879 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 132.9202ms
2025-12-15 01:29:56.871 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:29:56.878 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:56.870 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:29:56.885 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:29:56.889 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 32.2866ms
2025-12-15 01:29:56.898 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:29:56.897 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:29:56.899 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 152.7019ms
2025-12-15 01:29:56.900 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:29:56.903 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:56.914 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 46.4954ms
2025-12-15 01:29:56.913 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:29:56.915 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:29:56.920 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 184.9033ms
2025-12-15 01:29:56.919 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 21.8978ms
2025-12-15 01:29:56.925 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:29:56.929 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 194.1622ms
2025-12-15 01:30:18.041 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:30:18.051 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.052 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 11.752ms
2025-12-15 01:30:18.056 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:30:18.058 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.059 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:30:18.060 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:30:18.108 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:30:18.111 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:30:18.112 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 50.8517ms
2025-12-15 01:30:18.115 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:30:18.116 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 59.9227ms
2025-12-15 01:30:18.617 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:30:18.662 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.664 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 46.3175ms
2025-12-15 01:30:18.672 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:30:18.658 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:30:18.723 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.724 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 65.9523ms
2025-12-15 01:30:18.722 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:30:18.676 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.730 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 57.1602ms
2025-12-15 01:30:18.729 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.715 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:30:18.736 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.737 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 60.4035ms
2025-12-15 01:30:18.733 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:30:18.730 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:30:18.732 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:30:18.790 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.783 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:30:18.788 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.740 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:30:18.796 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.797 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:30:18.798 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:30:18.794 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:30:18.823 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:30:18.823 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:30:18.791 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:30:18.832 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:30:18.839 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:30:18.840 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 47.3197ms
2025-12-15 01:30:18.844 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:30:18.845 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 123.1579ms
2025-12-15 01:30:18.847 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:30:18.881 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:30:18.922 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:30:18.939 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:30:18.955 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:30:18.956 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:30:18.956 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:30:18.956 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:30:18.956 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:30:18.959 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:30:18.961 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 118.9382ms
2025-12-15 01:30:18.967 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:30:18.969 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 140.1643ms
2025-12-15 01:30:18.971 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:30:18.971 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:30:18.972 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 150.8795ms
2025-12-15 01:30:18.978 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:30:18.974 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 242.3012ms
2025-12-15 01:30:18.977 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:30:18.973 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:30:18.987 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 246.9566ms
2025-12-15 01:30:18.994 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 27.1108ms
2025-12-15 01:30:18.995 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 265.1407ms
2025-12-15 01:30:19.000 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:30:19.005 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 123.8912ms
2025-12-15 01:31:24.423 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:31:24.425 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:24.426 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 2.2992ms
2025-12-15 01:31:24.428 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:31:24.431 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:24.433 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:31:24.435 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:31:24.438 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:31:24.441 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:31:24.442 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.7497ms
2025-12-15 01:31:24.444 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:31:24.445 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 16.7619ms
2025-12-15 01:31:24.979 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:31:24.988 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:31:24.997 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:31:24.997 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:31:25.016 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.008 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.018 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 30.3562ms
2025-12-15 01:31:24.999 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.017 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 19.6337ms
2025-12-15 01:31:25.009 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.037 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 40.7672ms
2025-12-15 01:31:25.032 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 53.6125ms
2025-12-15 01:31:25.031 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:31:25.050 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.054 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:31:25.092 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.054 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:31:25.060 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:31:25.061 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:31:25.109 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:31:25.093 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:31:25.151 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:31:25.108 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.054 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:31:25.106 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.155 -03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:31:25.156 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:31:25.167 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:31:25.167 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:31:25.170 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:31:25.158 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:31:25.169 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 57.7312ms
2025-12-15 01:31:25.167 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:31:25.170 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:31:25.174 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:31:25.185 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:31:25.180 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:31:25.176 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:31:25.186 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:31:25.187 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:31:25.190 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:31:25.198 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:31:25.191 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 37.737ms
2025-12-15 01:31:25.201 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:31:25.190 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 158.764ms
2025-12-15 01:31:25.200 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 13.2084ms
2025-12-15 01:31:25.206 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:31:25.202 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 148.0349ms
2025-12-15 01:31:25.205 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:31:25.216 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:31:25.218 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 45.1732ms
2025-12-15 01:31:25.218 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:31:25.219 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 165.3323ms
2025-12-15 01:31:25.194 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:31:25.223 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 45.3861ms
2025-12-15 01:31:25.224 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:31:25.225 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 165.0229ms
2025-12-15 01:31:25.207 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 153.1383ms
2025-12-15 01:33:47.970 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:33:47.979 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:33:47.982 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:47.985 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:47.987 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 17.8247ms
2025-12-15 01:33:47.995 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 15.6256ms
2025-12-15 01:33:47.999 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:33:48.006 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:33:48.009 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:48.011 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:48.013 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:33:48.016 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:33:48.015 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:33:48.022 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:33:48.024 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:33:48.026 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:33:48.029 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:33:48.032 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:33:48.034 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 13.2283ms
2025-12-15 01:33:48.036 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.3453ms
2025-12-15 01:33:48.038 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:33:48.039 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:33:48.042 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 42.5994ms
2025-12-15 01:33:48.043 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 36.5791ms
2025-12-15 01:33:57.745 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:33:57.758 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.759 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 14.1683ms
2025-12-15 01:33:57.754 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:33:57.780 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.751 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:33:57.747 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:33:57.784 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:33:57.785 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 31.0485ms
2025-12-15 01:33:57.787 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.802 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 51.1379ms
2025-12-15 01:33:57.792 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.789 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.802 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:33:57.806 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:33:57.806 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:33:57.807 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 60.3494ms
2025-12-15 01:33:57.809 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.813 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.815 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:33:57.818 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:33:57.823 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:33:57.819 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:33:57.823 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:33:57.819 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:33:57.841 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:33:57.838 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:33:57.836 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:33:57.842 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:33:57.848 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:33:57.849 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:33:57.853 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:33:57.853 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:33:57.854 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:33:57.856 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:33:57.858 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 32.593ms
2025-12-15 01:33:57.859 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 37.6287ms
2025-12-15 01:33:57.866 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:33:57.866 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 23.1129ms
2025-12-15 01:33:57.868 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:33:57.869 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:33:57.872 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:33:57.872 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:33:57.879 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 73.4282ms
2025-12-15 01:33:57.874 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 90.1109ms
2025-12-15 01:33:57.876 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.225ms
2025-12-15 01:33:57.886 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:33:57.873 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 71.3569ms
2025-12-15 01:33:57.890 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 70.4178ms
2025-12-15 01:34:38.413 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:34:38.422 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-15 01:34:38.437 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 01:34:38.438 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 401 0 null 24.4536ms
2025-12-15 01:34:49.188 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:34:49.196 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 04:34:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-15 01:34:49.231 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 04:34:49'.
2025-12-15 01:34:49.233 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-12-15 01:34:49.236 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-15 01:34:49.236 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 401 0 null 48.2461ms
2025-12-15 01:35:10.846 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 01:35:10.888 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:35:10.890 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 43.6479ms
2025-12-15 01:35:10.893 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 01:35:10.895 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:35:10.896 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 3.0022ms
2025-12-15 01:35:10.900 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 01:35:20.675 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 64
2025-12-15 01:35:20.679 -03:00 [INF] CORS policy execution failed.
2025-12-15 01:35:20.680 -03:00 [INF] Request origin http://localhost:5231 does not have permission to access the resource.
2025-12-15 01:35:20.684 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 04:35:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-15 01:35:20.691 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/12/2025 23:00:12', Current time (UTC): '15/12/2025 04:35:20'.
2025-12-15 01:35:20.694 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:35:20.703 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:35:20.793 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:35:21.254 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:35:21.283 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:35:21.289 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 01:35:21.291 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 583.6181ms
2025-12-15 01:35:21.294 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:35:21.295 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 619.6912ms
2025-12-15 01:35:36.136 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:35:36.142 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:35:36.146 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:35:36.162 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:35:36.170 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:35:36.172 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 23.0436ms
2025-12-15 01:35:36.174 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:35:36.175 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 38.4455ms
2025-12-15 01:39:35.849 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 01:39:35.855 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:35.856 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 30.2313ms
2025-12-15 01:39:35.864 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-15 01:39:35.866 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:35.867 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:39:35.869 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:39:35.873 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:39:36.062 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:39:36.068 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:39:36.072 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 01:39:36.073 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 202.847ms
2025-12-15 01:39:36.075 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:39:36.076 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 211.8839ms
2025-12-15 01:39:36.145 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:39:36.153 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:39:36.167 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.159 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:39:36.170 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.172 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 15.9591ms
2025-12-15 01:39:36.150 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:39:36.168 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 14.8095ms
2025-12-15 01:39:36.162 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:39:36.165 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.181 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.185 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:39:36.187 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:39:36.197 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.189 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 43.8026ms
2025-12-15 01:39:36.190 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 40.2037ms
2025-12-15 01:39:36.192 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.188 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.198 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:39:36.206 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:39:36.205 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:39:36.205 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 43.6261ms
2025-12-15 01:39:36.206 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:39:36.209 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.210 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:39:36.214 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:39:36.220 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:39:36.217 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:39:36.217 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:39:36.223 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.225 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:39:36.226 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:39:36.230 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:36.231 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:39:36.237 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:39:36.236 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:39:36.233 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 16.3678ms
2025-12-15 01:39:36.242 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:39:36.240 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:39:36.237 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:39:36.243 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 56.609ms
2025-12-15 01:39:36.258 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:39:36.262 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:39:36.266 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 31.0595ms
2025-12-15 01:39:36.267 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:39:36.268 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 61.9014ms
2025-12-15 01:39:36.324 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:39:36.325 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:39:36.331 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:39:36.335 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 116.4091ms
2025-12-15 01:39:36.336 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:39:36.337 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:39:36.339 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 154.4457ms
2025-12-15 01:39:36.338 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 99.4094ms
2025-12-15 01:39:36.348 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:39:36.349 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 134.8802ms
2025-12-15 01:39:36.351 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:39:36.354 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:39:36.355 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 104.3113ms
2025-12-15 01:39:36.357 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:39:36.358 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 141.0861ms
2025-12-15 01:39:46.880 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:39:46.885 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:46.886 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 5.2968ms
2025-12-15 01:39:46.889 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:39:46.891 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:46.893 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:39:46.895 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:39:46.899 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:39:46.902 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:39:46.903 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.4438ms
2025-12-15 01:39:46.905 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:39:46.906 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 16.9842ms
2025-12-15 01:39:46.989 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:39:46.989 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:39:46.990 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:39:46.992 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:46.994 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:46.997 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:46.997 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 8.4368ms
2025-12-15 01:39:46.998 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 8.8737ms
2025-12-15 01:39:46.999 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:39:47.002 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:39:47.008 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:47.005 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:39:47.004 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:39:47.009 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:39:47.015 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:39:47.016 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:39:47.017 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:39:47.024 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:39:47.019 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:39:47.025 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:39:47.029 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:39:47.029 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:39:47.034 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:39:47.035 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:39:47.036 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 25.3413ms
2025-12-15 01:39:47.038 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 18.1143ms
2025-12-15 01:39:47.043 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:39:47.041 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:39:47.039 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 12.8535ms
2025-12-15 01:39:47.045 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 43.032ms
2025-12-15 01:39:47.046 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 56.1845ms
2025-12-15 01:39:47.047 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:39:47.054 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 49.5738ms
2025-12-15 01:40:00.541 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:40:00.541 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:40:00.542 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:40:00.542 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:40:00.545 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.557 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 16.18ms
2025-12-15 01:40:00.561 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:40:00.556 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.548 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.552 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.570 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 28.3691ms
2025-12-15 01:40:00.620 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:40:00.565 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.569 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 26.0431ms
2025-12-15 01:40:00.569 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 27.3942ms
2025-12-15 01:40:00.624 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.625 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:40:00.628 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:40:00.631 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:40:00.638 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.632 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:40:00.634 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:00.631 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:40:00.640 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:40:00.644 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:40:00.644 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:40:00.645 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:40:00.646 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:40:00.648 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:40:00.655 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:40:00.657 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:40:00.659 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:40:00.662 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:40:00.664 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:40:00.668 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:40:00.670 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:40:00.673 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:40:00.675 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 32.065ms
2025-12-15 01:40:00.677 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 22.8596ms
2025-12-15 01:40:00.678 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 19.2597ms
2025-12-15 01:40:00.679 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 18.1779ms
2025-12-15 01:40:00.681 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:40:00.682 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:40:00.688 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 68.1054ms
2025-12-15 01:40:00.684 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:40:00.685 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 123.8126ms
2025-12-15 01:40:00.683 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:40:00.692 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 64.1798ms
2025-12-15 01:40:00.696 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 65.5536ms
2025-12-15 01:40:09.186 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users - null null
2025-12-15 01:40:09.186 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:40:09.192 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:09.194 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 7.8448ms
2025-12-15 01:40:09.190 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:09.200 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:40:09.202 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:09.200 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users - 204 null null 14.6931ms
2025-12-15 01:40:09.206 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users - null null
2025-12-15 01:40:09.209 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:09.204 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:40:09.210 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:40:09.210 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:40:09.221 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 01:40:09.277 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:40:09.328 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:40:09.338 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 125.5063ms
2025-12-15 01:40:09.340 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:40:09.343 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 143.5997ms
2025-12-15 01:40:09.368 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 01:40:09.376 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:40:09.388 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 160.0775ms
2025-12-15 01:40:09.392 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 01:40:09.395 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users - 200 null application/json; charset=utf-8 189.0648ms
2025-12-15 01:40:36.665 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-17&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:40:36.710 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:36.710 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-17&startTime=19:00&endTime=21:00&guests=2 - 204 null null 45.0696ms
2025-12-15 01:40:36.715 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-17&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:40:36.719 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:40:36.720 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:40:36.722 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:40:36.730 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:40:36.736 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:40:36.738 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:40:36.740 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 13.2746ms
2025-12-15 01:40:36.742 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:40:36.743 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-17&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 28.4894ms
2025-12-15 01:43:10.481 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:43:10.488 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.490 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 8.7989ms
2025-12-15 01:43:10.494 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:43:10.496 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.497 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:10.498 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:43:10.501 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:43:10.505 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:43:10.507 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.0271ms
2025-12-15 01:43:10.510 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:10.512 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 17.9529ms
2025-12-15 01:43:10.734 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:43:10.750 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.741 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:43:10.754 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.734 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:43:10.759 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.760 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 26.0587ms
2025-12-15 01:43:10.755 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 14.2136ms
2025-12-15 01:43:10.752 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 18.0843ms
2025-12-15 01:43:10.748 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:43:10.763 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:43:10.774 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.780 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 32.0535ms
2025-12-15 01:43:10.778 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.784 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:10.785 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:43:10.783 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:43:10.793 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.799 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:43:10.802 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:43:10.783 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:43:10.786 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:43:10.790 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:43:10.807 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:43:10.809 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.811 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.817 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:43:10.816 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:43:10.816 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:43:10.813 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:10.818 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:43:10.819 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 30.1927ms
2025-12-15 01:43:10.820 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:43:10.823 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:43:10.829 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:43:10.826 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:10.825 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:43:10.830 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:43:10.877 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:43:10.880 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 55.3891ms
2025-12-15 01:43:10.881 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:43:10.882 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 95.5487ms
2025-12-15 01:43:10.869 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 105.444ms
2025-12-15 01:43:10.876 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:43:10.894 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 88.2491ms
2025-12-15 01:43:10.895 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:43:10.895 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 112.427ms
2025-12-15 01:43:10.865 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:43:10.901 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:43:10.903 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:43:10.909 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 80.5935ms
2025-12-15 01:43:10.910 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:43:10.910 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 127.9087ms
2025-12-15 01:43:11.067 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:43:11.073 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:43:11.077 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 212.8651ms
2025-12-15 01:43:11.080 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:43:11.082 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 291.2013ms
2025-12-15 01:43:21.147 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:43:21.151 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:21.152 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 4.9031ms
2025-12-15 01:43:21.154 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:43:21.156 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:21.157 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:21.158 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:43:21.161 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:43:21.164 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:43:21.166 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.467ms
2025-12-15 01:43:21.168 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:21.170 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 15.218ms
2025-12-15 01:43:21.292 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:43:21.292 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:43:21.293 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:43:21.294 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:21.304 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 12.0692ms
2025-12-15 01:43:21.296 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:21.304 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:21.307 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:43:21.308 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 15.502ms
2025-12-15 01:43:21.314 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:43:21.312 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:21.309 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:21.322 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:43:21.322 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:43:21.323 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:43:21.325 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:43:21.327 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:43:21.331 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:43:21.332 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:43:21.332 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:43:21.337 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:43:21.341 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 12.567ms
2025-12-15 01:43:21.342 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:43:21.341 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:43:21.345 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 13.8822ms
2025-12-15 01:43:21.346 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:43:21.347 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 40.6735ms
2025-12-15 01:43:21.344 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 50.7776ms
2025-12-15 01:43:21.348 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:43:21.361 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:43:21.363 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 23.8119ms
2025-12-15 01:43:21.364 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:43:21.365 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 50.0855ms
2025-12-15 01:44:39.253 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 01:44:39.267 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:44:39.268 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 14.7338ms
2025-12-15 01:44:39.280 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 01:44:39.282 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:44:39.283 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 3.2875ms
2025-12-15 01:44:39.287 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 01:45:00.198 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 01:45:00.208 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:00.208 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 10.8953ms
2025-12-15 01:45:00.211 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-15 01:45:00.213 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:00.214 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:45:00.214 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:45:00.219 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:45:00.361 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 01:45:00.364 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 147.2051ms
2025-12-15 01:45:00.365 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:45:00.366 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 401 null application/json; charset=utf-8 155.4982ms
2025-12-15 01:45:40.162 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/register - null null
2025-12-15 01:45:40.170 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:40.171 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/register - 204 null null 8.523ms
2025-12-15 01:45:40.174 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/register - application/json 71
2025-12-15 01:45:40.176 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:40.176 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-12-15 01:45:40.180 -03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.DTOs.UserRegisterDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:45:40.188 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:45:40.421 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "IsActive", "LastLoginAt", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiration", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "Id";
2025-12-15 01:45:40.440 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:45:40.444 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 01:45:40.445 -03:00 [INF] Executed action Api.Controllers.AuthController.Register (Api) in 262.9125ms
2025-12-15 01:45:40.447 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-12-15 01:45:40.448 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/register - 200 null application/json; charset=utf-8 274.4768ms
2025-12-15 01:45:40.485 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 01:45:40.496 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:40.498 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 13.423ms
2025-12-15 01:45:40.507 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 01:45:40.490 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:45:40.511 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:40.515 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:40.517 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 01:45:40.518 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 27.8618ms
2025-12-15 01:45:40.522 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:45:40.523 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:45:40.525 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:40.529 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:45:40.530 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:45:40.572 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:45:40.578 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:45:40.581 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 47.628ms
2025-12-15 01:45:40.584 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:45:40.585 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 62.319ms
2025-12-15 01:45:40.596 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 01:45:40.604 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:45:40.610 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 81.9456ms
2025-12-15 01:45:40.613 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 01:45:40.614 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 106.8387ms
2025-12-15 01:45:53.544 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:45:53.552 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:53.553 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - 204 null null 9.5466ms
2025-12-15 01:45:53.559 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:45:53.562 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:45:53.563 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:45:53.569 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:45:53.574 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:45:53.578 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:45:53.584 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:45:53.587 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 14.0122ms
2025-12-15 01:45:53.589 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:45:53.591 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-20&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 32.2134ms
2025-12-15 01:46:14.854 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 01:46:14.869 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:14.870 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 15.6353ms
2025-12-15 01:46:14.873 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations - application/json 167
2025-12-15 01:46:14.881 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:14.883 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-15 01:46:14.889 -03:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Api.DTOs.ReservationCreateDto) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:46:14.923 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32), @__date_1='?' (DbType = Date), @__endTime_2='?' (DbType = Time), @__startTime_3='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId"
FROM "Reservations" AS r
WHERE r."TableId" = @__tableId_0 AND r."Date" = @__date_1 AND r."StartTime" < @__endTime_2 AND r."EndTime" > @__startTime_3
LIMIT 1
2025-12-15 01:46:14.939 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-15 01:46:14.990 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Date), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Time), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("CreatedAt", "Date", "EndTime", "Guests", "Notes", "StartTime", "Status", "TableId", "UpdatedAt", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "Id";
2025-12-15 01:46:15.004 -03:00 [INF] Executing CreatedAtActionResult, writing value of type 'Api.DTOs.ReservationDto'.
2025-12-15 01:46:15.041 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Create (Api) in 146.7154ms
2025-12-15 01:46:15.045 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Create (Api)'
2025-12-15 01:46:15.047 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations - 201 null application/json; charset=utf-8 173.7789ms
2025-12-15 01:46:15.088 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:15.095 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:15.085 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:46:15.101 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/49/dishes - 204 null null 13.187ms
2025-12-15 01:46:15.105 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:15.110 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:15.111 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 25.8751ms
2025-12-15 01:46:15.114 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:15.116 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:46:15.116 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:15.118 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:15.120 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:46:15.121 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:46:15.122 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:15.123 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:46:15.129 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:15.131 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 8.5028ms
2025-12-15 01:46:15.132 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:46:15.133 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 17.5266ms
2025-12-15 01:46:15.141 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:15.146 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:15.147 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 21.0688ms
2025-12-15 01:46:15.149 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:15.150 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 40.4434ms
2025-12-15 01:46:39.129 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.144 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.145 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/49/dishes - 204 null null 16.0536ms
2025-12-15 01:46:39.151 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.155 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.157 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.162 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.178 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.193 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-15 01:46:39.200 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.202 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 36.7943ms
2025-12-15 01:46:39.203 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.205 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 54.0507ms
2025-12-15 01:46:39.210 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.212 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.213 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.214 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.221 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.225 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.226 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 10.9072ms
2025-12-15 01:46:39.228 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.229 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 19.1848ms
2025-12-15 01:46:39.240 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.242 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.243 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.244 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.247 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.255 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-15 01:46:39.261 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.309 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 63.3634ms
2025-12-15 01:46:39.311 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.313 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 73.13ms
2025-12-15 01:46:39.331 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.335 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.337 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.338 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.342 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.344 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.346 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.0812ms
2025-12-15 01:46:39.347 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.348 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 17.5342ms
2025-12-15 01:46:39.358 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.362 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.362 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.363 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.369 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.375 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-15 01:46:39.389 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.391 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 23.5833ms
2025-12-15 01:46:39.392 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.394 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 35.7084ms
2025-12-15 01:46:39.399 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.404 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.406 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.408 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.412 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.415 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.419 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 8.3777ms
2025-12-15 01:46:39.424 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.426 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 27.0572ms
2025-12-15 01:46:39.437 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.440 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.441 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.447 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.458 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.462 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-15 01:46:39.465 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.467 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 11.7007ms
2025-12-15 01:46:39.472 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.473 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 36.5309ms
2025-12-15 01:46:39.479 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.481 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.486 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.492 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.495 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.498 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.501 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 6.9467ms
2025-12-15 01:46:39.506 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.507 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 28.5877ms
2025-12-15 01:46:39.514 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.519 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.521 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.523 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.527 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.531 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-15 01:46:39.536 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.539 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 13.5873ms
2025-12-15 01:46:39.541 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.542 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 28.3402ms
2025-12-15 01:46:39.547 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.550 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.552 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.556 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.559 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.562 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.563 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.4273ms
2025-12-15 01:46:39.565 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.567 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 20.562ms
2025-12-15 01:46:39.578 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.580 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.581 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.582 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.589 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.597 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-15 01:46:39.602 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.604 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 16.9974ms
2025-12-15 01:46:39.607 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.608 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 30.3573ms
2025-12-15 01:46:39.613 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.615 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.617 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.618 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.624 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.627 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.629 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.5918ms
2025-12-15 01:46:39.630 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.631 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 18.7951ms
2025-12-15 01:46:39.642 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.644 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.645 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.646 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.653 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.658 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-15 01:46:39.661 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.662 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 12.1129ms
2025-12-15 01:46:39.664 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.667 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 25.5859ms
2025-12-15 01:46:39.676 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.678 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.679 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.680 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.686 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.690 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.691 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 8.3181ms
2025-12-15 01:46:39.693 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.694 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 18.4789ms
2025-12-15 01:46:39.706 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.709 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.711 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.712 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.717 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.723 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ReservationDishes" ("DishId", "ReservationId", "Quantity")
VALUES (@p0, @p1, @p2);
2025-12-15 01:46:39.728 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.729 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 14.3895ms
2025-12-15 01:46:39.731 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.733 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 27.4173ms
2025-12-15 01:46:39.742 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.745 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.745 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.746 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.751 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.755 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.757 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 8.9727ms
2025-12-15 01:46:39.758 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.759 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 17.3354ms
2025-12-15 01:46:39.769 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - application/json 25
2025-12-15 01:46:39.772 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.773 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.774 -03:00 [INF] Route matched with {action = "AddDish", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddDish(Int32, Api.DTOs.CreateReservationDishDto) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.778 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__reservationId_0='?' (DbType = Int32), @__dishId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity"
FROM "ReservationDishes" AS r
WHERE r."ReservationId" = @__reservationId_0 AND r."DishId" = @__dishId_1
LIMIT 1
2025-12-15 01:46:39.781 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "ReservationDishes" SET "Quantity" = @p0
WHERE "DishId" = @p1 AND "ReservationId" = @p2;
2025-12-15 01:46:39.785 -03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-15 01:46:39.787 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.AddDish (Api) in 10.2013ms
2025-12-15 01:46:39.790 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.AddDish (Api)'
2025-12-15 01:46:39.791 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/reservations/49/dishes - 204 null null 22.8375ms
2025-12-15 01:46:39.797 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - null null
2025-12-15 01:46:39.801 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.804 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.807 -03:00 [INF] Route matched with {action = "Get", controller = "ReservationDishes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.ReservationDishesController (Api).
2025-12-15 01:46:39.810 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reservationId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."ReservationId", r."DishId", r."Quantity", d."Id", d."Category", d."Name", d."Price"
FROM "ReservationDishes" AS r
INNER JOIN "Dishes" AS d ON r."DishId" = d."Id"
WHERE r."ReservationId" = @__reservationId_0
2025-12-15 01:46:39.813 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.814 -03:00 [INF] Executed action Api.Controllers.ReservationDishesController.Get (Api) in 5.2561ms
2025-12-15 01:46:39.817 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationDishesController.Get (Api)'
2025-12-15 01:46:39.819 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/49/dishes - 200 null application/json; charset=utf-8 21.449ms
2025-12-15 01:46:39.855 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 01:46:39.859 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.859 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 4.8753ms
2025-12-15 01:46:39.864 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 01:46:39.875 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:46:39.876 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 01:46:39.878 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:46:39.893 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 01:46:39.911 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:39.918 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 29.526ms
2025-12-15 01:46:39.926 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 01:46:39.928 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 63.8821ms
2025-12-15 01:46:55.153 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:46:55.156 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:46:55.157 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:46:55.164 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:46:55.171 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:46:55.175 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 15.1508ms
2025-12-15 01:46:55.181 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:46:55.182 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 28.9792ms
2025-12-15 01:47:10.243 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 01:47:10.249 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:10.251 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 8.1239ms
2025-12-15 01:47:10.256 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 01:47:10.261 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:10.263 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 7.3579ms
2025-12-15 01:47:10.276 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 01:47:18.547 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 01:47:18.551 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:18.556 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 9.4658ms
2025-12-15 01:47:18.562 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-15 01:47:18.565 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:18.565 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:47:18.566 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:47:18.571 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:47:18.833 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 01:47:18.836 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 266.6287ms
2025-12-15 01:47:18.837 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:47:18.839 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 401 null application/json; charset=utf-8 276.7828ms
2025-12-15 01:47:25.669 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 01:47:25.676 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:25.677 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 8.0422ms
2025-12-15 01:47:25.682 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-15 01:47:25.685 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:25.686 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:47:25.687 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 01:47:25.690 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 01:47:25.878 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:47:25.883 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 01:47:25.887 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 01:47:25.888 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 199.0621ms
2025-12-15 01:47:25.890 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 01:47:25.891 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 209.5616ms
2025-12-15 01:47:25.962 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:47:25.962 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:47:25.972 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:47:25.997 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:25.988 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:47:25.994 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:25.991 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:25.978 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:47:26.043 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 34.2292ms
2025-12-15 01:47:26.045 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:26.046 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 83.6359ms
2025-12-15 01:47:26.047 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 84.7458ms
2025-12-15 01:47:26.049 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:26.054 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:47:26.055 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 66.6801ms
2025-12-15 01:47:26.058 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:47:26.061 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:47:26.061 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 83.1168ms
2025-12-15 01:47:26.063 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:26.066 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:47:26.070 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:26.073 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:26.075 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:47:26.076 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:47:26.078 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:26.079 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:47:26.080 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:26.082 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:26.082 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:47:26.085 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:47:26.086 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:47:26.088 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:47:26.089 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:47:26.091 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:47:26.096 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:47:26.092 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:47:26.105 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:26.110 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:47:26.110 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 19.7099ms
2025-12-15 01:47:26.114 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:47:26.114 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:26.115 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 61.1606ms
2025-12-15 01:47:26.188 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 81.0432ms
2025-12-15 01:47:26.192 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:47:26.194 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 118.1998ms
2025-12-15 01:47:26.194 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:47:26.194 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:47:26.199 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:26.204 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 108.941ms
2025-12-15 01:47:26.206 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:26.205 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:47:26.207 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 146.0374ms
2025-12-15 01:47:26.209 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:26.213 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 119.5048ms
2025-12-15 01:47:26.214 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:47:26.215 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 157.0988ms
2025-12-15 01:47:26.273 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:47:26.276 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:47:26.277 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 167.6473ms
2025-12-15 01:47:26.278 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:47:26.279 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 213.1843ms
2025-12-15 01:47:33.024 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:47:33.024 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:47:33.029 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:33.034 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:33.036 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 11.9766ms
2025-12-15 01:47:33.035 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 11.0895ms
2025-12-15 01:47:33.041 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:47:33.043 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:47:33.048 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:33.052 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:33.054 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:33.055 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:47:33.057 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:47:33.058 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:47:33.062 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:47:33.070 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:33.071 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 10.4261ms
2025-12-15 01:47:33.073 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:33.075 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 33.3896ms
2025-12-15 01:47:33.077 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:47:33.088 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:33.091 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 28.1762ms
2025-12-15 01:47:33.092 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:47:33.094 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 50.0403ms
2025-12-15 01:47:41.825 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:47:41.830 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:41.834 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 9.1809ms
2025-12-15 01:47:41.841 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:47:41.845 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:41.846 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:41.849 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:47:41.854 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:47:41.856 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:41.858 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 4.8526ms
2025-12-15 01:47:41.859 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:41.860 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 19.0909ms
2025-12-15 01:47:42.387 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:47:42.387 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:47:42.387 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:47:42.388 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:47:42.392 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:42.396 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:42.401 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:42.408 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 20.8567ms
2025-12-15 01:47:42.404 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 17.7683ms
2025-12-15 01:47:42.418 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:47:42.421 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:42.423 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:47:42.425 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:47:42.404 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:42.407 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 20.1871ms
2025-12-15 01:47:42.435 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:47:42.450 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:42.452 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:47:42.452 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:47:42.455 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:47:42.464 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:42.467 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 36.7138ms
2025-12-15 01:47:42.468 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:47:42.469 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 51.0915ms
2025-12-15 01:47:42.432 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:42.421 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:47:42.474 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:47:42.472 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:47:42.471 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:47:42.475 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:47:42.500 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:47:42.501 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:47:42.502 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:47:42.503 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:47:42.507 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:42.509 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:42.512 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:47:42.513 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 59.3676ms
2025-12-15 01:47:42.516 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 28.4692ms
2025-12-15 01:47:42.517 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 14.7844ms
2025-12-15 01:47:42.519 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:47:42.520 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:47:42.522 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:47:42.525 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 90.0992ms
2025-12-15 01:47:42.526 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 138.0422ms
2025-12-15 01:47:42.527 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 106.9213ms
2025-12-15 01:49:25.511 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:49:25.524 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:25.527 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 16.729ms
2025-12-15 01:49:25.531 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:49:25.533 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:25.534 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:49:25.535 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:49:25.541 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:49:25.546 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:49:25.547 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 9.868ms
2025-12-15 01:49:25.550 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:49:25.552 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 20.9091ms
2025-12-15 01:49:26.114 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:49:26.115 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:49:26.124 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:49:26.165 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:26.168 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:26.171 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 56.819ms
2025-12-15 01:49:26.171 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 56.6436ms
2025-12-15 01:49:26.170 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:26.174 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:49:26.178 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:49:26.179 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:49:26.181 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:26.183 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:26.184 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:49:26.184 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:49:26.185 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:49:26.188 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:49:26.189 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:49:26.190 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:49:26.193 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:49:26.200 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 12.7337ms
2025-12-15 01:49:26.202 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:49:26.197 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:49:26.202 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:49:26.203 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 78.3059ms
2025-12-15 01:49:26.205 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:49:26.212 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:49:26.215 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 20.0475ms
2025-12-15 01:49:26.217 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 18.3252ms
2025-12-15 01:49:26.219 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:49:26.218 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:49:26.221 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 42.4404ms
2025-12-15 01:49:26.222 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 47.4308ms
2025-12-15 01:49:32.788 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:49:32.790 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:49:32.790 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:49:32.799 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.794 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.797 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.803 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 14.1539ms
2025-12-15 01:49:32.801 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 11.3707ms
2025-12-15 01:49:32.802 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 14.0092ms
2025-12-15 01:49:32.790 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:49:32.819 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.821 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 30.5225ms
2025-12-15 01:49:32.827 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:49:32.822 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:49:32.815 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:49:32.822 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:49:32.841 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.833 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.835 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.830 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:49:32.844 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:49:32.845 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:49:32.846 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:49:32.847 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:49:32.849 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:49:32.851 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:49:32.853 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:49:32.854 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:49:32.860 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:49:32.864 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:49:32.866 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:49:32.869 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:49:32.870 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:49:32.879 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:49:32.880 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:49:32.882 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 22.6943ms
2025-12-15 01:49:32.894 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:49:32.888 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:49:32.892 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 27.8315ms
2025-12-15 01:49:32.887 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:49:32.895 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 72.4511ms
2025-12-15 01:49:32.896 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 33.8106ms
2025-12-15 01:49:32.897 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:49:32.899 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 32.3713ms
2025-12-15 01:49:32.903 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:49:32.905 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 89.6297ms
2025-12-15 01:49:32.909 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:49:32.913 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 86.8383ms
2025-12-15 01:49:32.910 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 88.1434ms
2025-12-15 01:51:25.732 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:51:25.742 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:25.743 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 10.3448ms
2025-12-15 01:51:25.745 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:51:25.747 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:25.748 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:51:25.749 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:51:25.911 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:51:25.914 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:51:25.915 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 163.5168ms
2025-12-15 01:51:25.917 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:51:25.920 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 175.405ms
2025-12-15 01:51:26.308 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:51:26.424 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.427 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 118.8398ms
2025-12-15 01:51:26.375 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:51:26.415 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:51:26.354 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:51:26.447 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.449 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 124.6051ms
2025-12-15 01:51:26.439 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.456 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:51:26.460 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:51:26.464 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:51:26.433 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.468 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 92.907ms
2025-12-15 01:51:26.467 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:51:26.354 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:51:26.476 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 13.3305ms
2025-12-15 01:51:26.480 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.481 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:51:26.482 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 128.5183ms
2025-12-15 01:51:26.483 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 68.2949ms
2025-12-15 01:51:26.522 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:51:26.522 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:51:26.590 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.523 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:51:26.593 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.594 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:51:26.599 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:51:26.583 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.523 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:51:26.591 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:51:26.608 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:51:26.609 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:51:26.610 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:26.611 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:51:26.612 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:51:26.615 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:51:26.616 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:51:26.623 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:51:26.626 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 19.4707ms
2025-12-15 01:51:26.626 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:51:26.630 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:51:26.631 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:51:26.641 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 20.5211ms
2025-12-15 01:51:26.647 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:51:26.646 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 123.1646ms
2025-12-15 01:51:26.649 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 126.5138ms
2025-12-15 01:51:26.649 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:51:26.666 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:51:26.670 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 30.3857ms
2025-12-15 01:51:26.672 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:51:26.673 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 150.0147ms
2025-12-15 01:51:26.719 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:51:26.724 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:51:26.727 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:51:26.729 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 104.6534ms
2025-12-15 01:51:26.732 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:51:26.733 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 210.9998ms
2025-12-15 01:51:54.949 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:51:54.959 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:51:54.969 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:54.972 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:54.975 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 16.8176ms
2025-12-15 01:51:54.973 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 24.2209ms
2025-12-15 01:51:54.984 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:51:54.981 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:51:54.986 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:54.991 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:51:54.989 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:51:54.994 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:51:54.995 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:51:54.998 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:51:55.001 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:51:55.004 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:51:55.006 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:51:55.006 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 5.8656ms
2025-12-15 01:51:55.014 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:51:55.014 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:51:55.016 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 34.955ms
2025-12-15 01:51:55.017 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 20.5404ms
2025-12-15 01:51:55.022 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:51:55.023 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 38.4765ms
2025-12-15 01:53:11.085 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:53:11.090 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:53:11.146 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:53:11.174 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:53:11.177 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.180 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.185 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.187 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.188 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 103.459ms
2025-12-15 01:53:11.189 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 99.3403ms
2025-12-15 01:53:11.190 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 100.0061ms
2025-12-15 01:53:11.191 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 39.4463ms
2025-12-15 01:53:11.195 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:53:11.198 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:53:11.203 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:53:11.206 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:53:11.207 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.209 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.211 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.213 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:11.214 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:53:11.214 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:53:11.218 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:53:11.219 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:53:11.220 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:53:11.221 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:53:11.222 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:53:11.223 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:53:11.227 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:53:11.227 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:53:11.241 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:11.242 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:53:11.243 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 18.243ms
2025-12-15 01:53:11.246 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:53:11.245 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:11.247 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 52.0018ms
2025-12-15 01:53:11.252 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 26.1163ms
2025-12-15 01:53:11.256 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:53:11.257 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 59.6599ms
2025-12-15 01:53:11.296 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:53:11.303 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:11.304 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 76.1029ms
2025-12-15 01:53:11.306 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:53:11.307 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 104.0267ms
2025-12-15 01:53:11.322 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:53:11.324 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:11.325 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 95.3161ms
2025-12-15 01:53:11.327 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:53:11.328 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 122.2442ms
2025-12-15 01:53:18.187 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 01:53:18.193 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.193 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 6.0855ms
2025-12-15 01:53:18.198 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:53:18.203 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.204 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:53:18.205 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:53:18.209 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:53:18.212 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:53:18.214 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.9683ms
2025-12-15 01:53:18.215 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:53:18.217 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 18.2059ms
2025-12-15 01:53:18.337 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 01:53:18.337 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 01:53:18.337 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 01:53:18.353 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.354 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 17.0189ms
2025-12-15 01:53:18.347 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.350 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.338 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 01:53:18.367 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.362 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 24.6747ms
2025-12-15 01:53:18.417 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 01:53:18.420 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.369 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:53:18.337 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:53:18.425 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.426 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 88.7667ms
2025-12-15 01:53:18.421 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:53:18.421 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 01:53:18.359 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 01:53:18.470 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.471 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:53:18.472 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 01:53:18.440 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 01:53:18.360 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 23.3181ms
2025-12-15 01:53:18.488 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 01:53:18.433 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 01:53:18.478 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 01:53:18.494 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 57.3168ms
2025-12-15 01:53:18.496 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 01:53:18.491 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 01:53:18.432 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 01:53:18.507 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.508 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:53:18.509 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 01:53:18.512 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 01:53:18.519 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 01:53:18.521 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:18.523 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 30.5203ms
2025-12-15 01:53:18.524 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 01:53:18.525 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 107.1822ms
2025-12-15 01:53:18.505 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:18.490 -03:00 [INF] CORS policy execution successful.
2025-12-15 01:53:18.501 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 162.4874ms
2025-12-15 01:53:18.568 -03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 01:53:18.583 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:18.585 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 75.0951ms
2025-12-15 01:53:18.573 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 99.1356ms
2025-12-15 01:53:18.574 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:53:18.587 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 01:53:18.594 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 01:53:18.595 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 01:53:18.599 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 166.8853ms
2025-12-15 01:53:18.602 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 242.906ms
2025-12-15 01:53:18.606 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 01:53:18.637 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 01:53:18.639 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 34.9064ms
2025-12-15 01:53:18.640 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 01:53:18.641 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 153.7717ms
2025-12-15 02:00:39.087 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 02:00:39.091 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:39.092 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 5.6944ms
2025-12-15 02:00:39.100 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 02:00:39.104 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:39.105 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 02:00:39.106 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 02:00:39.171 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 02:00:39.174 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 02:00:39.175 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 66.3601ms
2025-12-15 02:00:39.176 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 02:00:39.177 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 77.6264ms
2025-12-15 02:00:40.424 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 02:00:40.439 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 02:00:40.441 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:40.446 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:40.447 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 22.7635ms
2025-12-15 02:00:40.448 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 9.5566ms
2025-12-15 02:00:40.452 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 02:00:40.455 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 02:00:40.457 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:40.459 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:40.460 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 02:00:40.463 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 02:00:40.466 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 02:00:40.468 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 02:00:40.476 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 02:00:40.485 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 02:00:40.487 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 15.7451ms
2025-12-15 02:00:40.488 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 02:00:40.489 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 36.8093ms
2025-12-15 02:00:40.527 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 02:00:40.530 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 02:00:40.532 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 59.6053ms
2025-12-15 02:00:40.534 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 02:00:40.535 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 80.0005ms
2025-12-15 02:00:52.414 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 02:00:52.455 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.452 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 02:00:52.416 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 02:00:52.457 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 42.9123ms
2025-12-15 02:00:52.452 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 02:00:52.467 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.477 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 25.1714ms
2025-12-15 02:00:52.472 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 02:00:52.476 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.469 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.481 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 02:00:52.495 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.484 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.514 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 02:00:52.515 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 02:00:52.518 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 02:00:52.484 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 32.4967ms
2025-12-15 02:00:52.529 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 02:00:52.496 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 02:00:52.528 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 02:00:52.537 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 02:00:52.530 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.531 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 02:00:52.485 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 69.6414ms
2025-12-15 02:00:52.538 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 20.8363ms
2025-12-15 02:00:52.539 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 02:00:52.544 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 02:00:52.546 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 02:00:52.547 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 02:00:52.548 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 02:00:52.550 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 02:00:52.558 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 14.9658ms
2025-12-15 02:00:52.553 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 80.7984ms
2025-12-15 02:00:52.552 -03:00 [INF] CORS policy execution successful.
2025-12-15 02:00:52.561 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 02:00:52.564 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 02:00:52.565 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 02:00:52.570 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 02:00:52.566 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 85.2905ms
2025-12-15 02:00:52.570 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 02:00:52.572 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 02:00:52.578 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 22.5841ms
2025-12-15 02:00:52.580 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 02:00:52.581 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 02:00:52.582 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 10.4067ms
2025-12-15 02:00:52.583 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 54.651ms
2025-12-15 02:00:52.584 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 02:00:52.588 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 41.5907ms
2025-12-15 13:59:58.567 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 13:59:58.933 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 13:59:58.949 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 13:59:58.952 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 13:59:58.957 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 13:59:58.962 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-15 13:59:59.297 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 13:59:59.308 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-15 13:59:59.315 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-15 13:59:59.521 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 13:59:59.784 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-15 13:59:59.877 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 13:59:59.878 -03:00 [INF] Hosting environment: Development
2025-12-15 13:59:59.880 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-15 14:00:00.864 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-15 14:00:01.178 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 357.8333ms
2025-12-15 14:00:01.184 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-15 14:00:01.200 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 16.3171ms
2025-12-15 14:00:01.898 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-15 14:00:01.899 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-15 14:00:01.906 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 8.1581ms
2025-12-15 14:00:01.964 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.9515ms
2025-12-15 14:00:03.179 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-15 14:00:03.214 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 35.1368ms
2025-12-15 14:00:55.311 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 14:00:55.358 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:00:55.363 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 51.4994ms
2025-12-15 14:00:55.367 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 14:00:55.375 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:00:55.576 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:00:55.607 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 14:00:55.945 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 14:00:56.051 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 14:00:56.063 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 450.3266ms
2025-12-15 14:00:56.066 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:00:56.074 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 706.9273ms
2025-12-15 14:01:00.118 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 14:01:00.120 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 14:01:00.131 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 14:01:00.131 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 14:01:00.147 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:00.149 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 18.6269ms
2025-12-15 14:01:00.145 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:00.133 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:00.141 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:00.160 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 14:01:00.161 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 30.7025ms
2025-12-15 14:01:00.163 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 45.5021ms
2025-12-15 14:01:00.166 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 46.4717ms
2025-12-15 14:01:00.193 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:00.213 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:01:00.230 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 14:01:00.231 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 14:01:00.231 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 14:01:00.263 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 14:01:00.266 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 14:01:00.274 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:00.276 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:00.280 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:00.284 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:00.292 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 14:01:00.295 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 14:01:00.295 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 14:01:00.297 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 14:01:00.306 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 14:01:00.308 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 14:01:00.308 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 14:01:00.326 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 14:01:00.364 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 14:01:00.410 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 14:01:00.416 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 14:01:00.480 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 212.6403ms
2025-12-15 14:01:00.497 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 14:01:00.510 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 14:01:00.517 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:01:00.517 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:01:00.533 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 373.3393ms
2025-12-15 14:01:00.554 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:01:00.555 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 14:01:00.560 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 242.7609ms
2025-12-15 14:01:00.563 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 250.0957ms
2025-12-15 14:01:00.566 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:01:00.565 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 14:01:00.566 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 14:01:00.572 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 341.0082ms
2025-12-15 14:01:00.570 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 338.575ms
2025-12-15 14:01:00.570 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 238.6946ms
2025-12-15 14:01:00.597 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 14:01:00.599 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 332.816ms
2025-12-15 14:01:00.620 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 14:01:00.711 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:01:00.723 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 395.2908ms
2025-12-15 14:01:00.725 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 14:01:00.727 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 495.5761ms
2025-12-15 14:01:06.320 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 14:01:06.320 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 14:01:06.320 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 14:01:06.320 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 14:01:06.321 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 14:01:06.325 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:06.330 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:06.347 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 26.6049ms
2025-12-15 14:01:06.337 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:06.353 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 32.8486ms
2025-12-15 14:01:06.345 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 24.4626ms
2025-12-15 14:01:06.335 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:06.343 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:06.365 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 14:01:06.365 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 14:01:06.380 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:06.367 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 46.0158ms
2025-12-15 14:01:06.368 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 47.969ms
2025-12-15 14:01:06.377 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:06.365 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 14:01:06.382 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 14:01:06.395 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 14:01:06.396 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 14:01:06.398 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:06.399 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 14:01:06.405 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 14:01:06.408 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:06.409 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 14:01:06.415 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 14:01:06.415 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 14:01:06.415 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 14:01:06.422 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 14:01:06.425 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:06.428 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:01:06.429 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 14:01:06.433 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:01:06.446 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 14:01:06.441 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 27.4807ms
2025-12-15 14:01:06.458 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 14:01:06.447 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 14:01:06.438 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 14:01:06.460 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 94.9878ms
2025-12-15 14:01:06.460 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 14:01:06.466 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 14:01:06.477 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:01:06.496 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:01:06.498 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:01:06.507 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 95.0452ms
2025-12-15 14:01:06.509 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 77.165ms
2025-12-15 14:01:06.516 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 14:01:06.522 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 157.4014ms
2025-12-15 14:01:06.511 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 66.2885ms
2025-12-15 14:01:06.528 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 14:01:06.512 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 14:01:06.538 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 173.2802ms
2025-12-15 14:01:06.532 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 135.4483ms
2025-12-15 14:01:06.577 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 14:01:06.581 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 14:01:06.582 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 126.1216ms
2025-12-15 14:01:06.586 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:01:06.587 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 172.8799ms
2025-12-15 14:01:11.063 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 14:01:11.063 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 14:01:11.063 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 14:01:11.075 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:11.070 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:11.071 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:11.064 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 14:01:11.077 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 14:01:11.089 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 14:01:11.080 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 14:01:11.095 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 14:01:11.079 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 14:01:11.087 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:11.097 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 14:01:11.108 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 14:01:11.108 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 14:01:11.113 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 14:01:11.122 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:11.128 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:01:11.141 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 14:01:11.142 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 14:01:11.142 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:01:11.144 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 50.4834ms
2025-12-15 14:01:11.153 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 14:01:11.157 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:01:11.160 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 14:01:11.158 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 14:01:11.164 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 14:01:11.198 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 14:01:11.204 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 100.1404ms
2025-12-15 14:01:11.208 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 144.1961ms
2025-12-15 14:01:11.220 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 14:01:11.235 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:01:11.237 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:01:11.238 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 14:01:11.248 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 14:01:11.254 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 107.4352ms
2025-12-15 14:01:11.257 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 120.7163ms
2025-12-15 14:01:11.259 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 195.5822ms
2025-12-15 14:01:11.261 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 43.1752ms
2025-12-15 14:01:11.262 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 14:01:11.264 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 14:01:11.275 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:01:11.277 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 213.5481ms
2025-12-15 14:01:11.278 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 215.8467ms
2025-12-15 14:01:11.280 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 183.0299ms
2025-12-15 14:01:19.489 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 14:01:19.493 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:19.496 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 6.6143ms
2025-12-15 14:01:19.505 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 14:01:19.509 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:19.511 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 14:01:19.521 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 14:01:19.587 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 14:01:19.592 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:01:19.601 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 74.6636ms
2025-12-15 14:01:19.603 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 14:01:19.605 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 99.7961ms
2025-12-15 14:01:48.073 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 14:01:48.079 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:48.082 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 8.6325ms
2025-12-15 14:01:48.086 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 14:01:48.089 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:01:48.092 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 5.5953ms
2025-12-15 14:01:48.097 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 14:02:01.681 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 14:02:01.689 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:02:01.690 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 9.572ms
2025-12-15 14:02:01.694 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-15 14:02:01.696 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:02:01.700 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 14:02:01.704 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 14:02:01.746 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 14:02:02.021 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 14:02:02.025 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 313.8593ms
2025-12-15 14:02:02.026 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 14:02:02.028 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 401 null application/json; charset=utf-8 333.9008ms
2025-12-15 14:03:06.587 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 14:03:06.601 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:03:06.603 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 15.8679ms
2025-12-15 14:03:06.615 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 52
2025-12-15 14:03:06.620 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:03:06.622 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 14:03:06.626 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 14:03:06.635 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 14:03:07.054 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 14:03:07.057 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 426.1576ms
2025-12-15 14:03:07.059 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 14:03:07.061 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 401 null application/json; charset=utf-8 446.4464ms
2025-12-15 14:03:43.968 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 14:03:43.973 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:03:43.974 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 18.9506ms
2025-12-15 14:03:43.988 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 52
2025-12-15 14:03:43.994 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:03:43.997 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 14:03:43.999 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 14:03:44.004 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 14:03:44.097 -03:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-15 14:03:44.101 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 98.8483ms
2025-12-15 14:03:44.103 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 14:03:44.105 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 401 null application/json; charset=utf-8 116.5683ms
2025-12-15 14:05:57.830 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 14:05:57.840 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:05:57.841 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 10.8164ms
2025-12-15 14:05:57.844 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-15 14:05:57.847 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:05:57.847 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 14:05:57.849 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 14:05:57.900 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 14:05:58.191 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 14:05:58.214 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 14:05:58.219 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 14:05:58.221 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 367.3629ms
2025-12-15 14:05:58.222 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 14:05:58.224 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 380.0547ms
2025-12-15 14:05:58.279 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 14:05:58.280 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 14:05:58.327 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 14:05:58.329 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 14:05:58.329 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 14:05:58.331 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:05:58.335 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:05:58.338 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:05:58.341 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:05:58.344 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:05:58.345 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 66.1046ms
2025-12-15 14:05:58.346 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 65.9572ms
2025-12-15 14:05:58.348 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 20.8617ms
2025-12-15 14:05:58.349 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 19.7624ms
2025-12-15 14:05:58.355 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 26.0514ms
2025-12-15 14:05:58.361 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 14:05:58.362 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 14:05:58.365 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 14:05:58.372 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 14:05:58.375 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 14:05:58.378 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:05:58.380 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:05:58.382 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:05:58.388 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:05:58.390 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:05:58.391 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:05:58.392 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 14:05:58.393 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 14:05:58.394 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 14:05:58.394 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 14:05:58.395 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 14:05:58.396 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 14:05:58.397 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 14:05:58.398 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 14:05:58.399 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 14:05:58.406 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 14:05:58.415 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 14:05:58.420 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 15.9266ms
2025-12-15 14:05:58.422 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:05:58.423 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 61.5709ms
2025-12-15 14:05:58.504 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 14:05:58.514 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 14:05:58.514 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:05:58.514 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 14:05:58.514 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 14:05:58.516 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:05:58.519 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 108.5999ms
2025-12-15 14:05:58.525 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 14:05:58.526 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 117.2078ms
2025-12-15 14:05:58.526 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:05:58.527 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 14:05:58.529 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:05:58.530 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 14:05:58.531 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 124.4853ms
2025-12-15 14:05:58.532 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 159.9409ms
2025-12-15 14:05:58.536 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 123.2457ms
2025-12-15 14:05:58.542 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 14:05:58.538 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 14:05:58.537 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 172.2124ms
2025-12-15 14:05:58.543 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 167.5946ms
2025-12-15 14:05:58.544 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 182.3917ms
2025-12-15 14:06:42.455 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 14:06:42.463 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:06:42.464 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 8.7389ms
2025-12-15 14:06:42.470 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 14:06:42.473 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:06:42.477 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 14:06:42.514 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 14:06:42.532 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 14:06:42.542 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:06:42.546 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 29.4074ms
2025-12-15 14:06:42.547 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 14:06:42.549 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 78.8048ms
2025-12-15 14:06:43.627 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 14:06:43.636 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:06:43.641 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 13.5308ms
2025-12-15 14:06:43.648 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 14:06:43.654 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:06:43.656 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 14:06:43.658 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 14:06:43.661 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 14:06:43.664 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:06:43.665 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 5.0238ms
2025-12-15 14:06:43.666 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 14:06:43.670 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 22.0367ms
2025-12-15 14:06:44.647 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 14:06:44.651 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 14:06:44.696 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:06:44.704 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 56.7901ms
2025-12-15 14:06:44.698 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:06:44.708 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 14:06:44.709 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 14:06:44.712 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 14:06:44.713 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 14:06:44.715 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:06:44.717 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:06:44.724 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 12.4542ms
2025-12-15 14:06:44.725 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 14:06:44.725 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 14:06:44.726 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 14:06:44.728 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 76.506ms
2025-12-15 14:06:44.733 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 14:06:44.742 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:06:44.745 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 14.9148ms
2025-12-15 14:06:44.747 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 14:06:44.749 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 36.175ms
2025-12-15 14:06:45.841 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 14:06:45.844 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:06:45.847 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 6.3204ms
2025-12-15 14:06:45.854 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 14:06:45.860 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:06:45.862 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 14:06:45.863 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 14:06:45.873 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 14:06:45.877 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:06:45.878 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 12.6506ms
2025-12-15 14:06:45.880 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 14:06:45.882 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 27.9413ms
2025-12-15 14:22:49.085 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 14:22:49.492 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 14:22:49.505 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 14:22:49.507 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 14:22:49.509 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 14:22:49.515 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-15 14:22:49.779 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 14:22:49.790 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-15 14:22:49.797 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-15 14:22:49.957 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 14:22:50.152 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-15 14:22:50.223 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 14:22:50.224 -03:00 [INF] Hosting environment: Development
2025-12-15 14:22:50.226 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-15 14:22:51.013 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-15 14:22:51.269 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 265.2504ms
2025-12-15 14:22:51.288 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-15 14:22:51.296 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 18.5758ms
2025-12-15 14:22:52.010 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-15 14:22:52.011 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-15 14:22:52.018 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 7.6184ms
2025-12-15 14:22:52.106 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.3685ms
2025-12-15 14:22:53.531 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-15 14:22:53.575 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 43.9362ms
2025-12-15 14:33:14.227 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 14:33:14.580 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 14:33:14.593 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 14:33:14.597 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 14:33:14.602 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 14:33:14.611 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-15 14:33:14.866 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 14:33:14.880 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-15 14:33:14.888 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-15 14:33:15.010 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 14:33:15.108 -03:00 [INF] Now listening on: http://0.0.0.0:5000
2025-12-15 14:33:15.111 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 14:33:15.113 -03:00 [INF] Hosting environment: Development
2025-12-15 14:33:15.116 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\api
2025-12-15 14:35:00.656 -03:00 [INF] Application is shutting down...
2025-12-15 14:50:55.112 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 14:50:55.467 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 14:50:55.479 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 14:50:55.486 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 14:50:55.488 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 14:50:55.495 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-15 14:50:55.772 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 14:50:55.781 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-15 14:50:55.787 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-15 14:50:55.933 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 14:50:56.111 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-15 14:50:56.204 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 14:50:56.205 -03:00 [INF] Hosting environment: Development
2025-12-15 14:50:56.206 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-15 14:50:57.024 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-15 14:50:57.493 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 473.0868ms
2025-12-15 14:50:58.157 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-15 14:50:58.157 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-15 14:50:58.163 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 6.3817ms
2025-12-15 14:50:58.165 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 8.16ms
2025-12-15 14:50:58.207 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-15 14:50:58.238 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.9454ms
2025-12-15 14:51:00.355 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-15 14:51:00.385 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.5982ms
2025-12-15 14:51:03.721 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 14:51:03.730 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:51:03.734 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 13.527ms
2025-12-15 14:51:03.738 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 14:51:03.745 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:51:03.926 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:51:03.946 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 14:51:04.276 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 14:51:04.451 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 14:51:04.467 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 512.4798ms
2025-12-15 14:51:04.471 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:51:04.479 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 741.2641ms
2025-12-15 14:51:31.203 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 14:51:31.221 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 14:51:31.221 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 14:51:31.227 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 14:51:31.229 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:51:31.233 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:51:31.250 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 29.6483ms
2025-12-15 14:51:31.245 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:51:31.249 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 44.4436ms
2025-12-15 14:51:31.239 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:51:31.258 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 14:51:31.261 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 33.892ms
2025-12-15 14:51:31.273 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 52.4223ms
2025-12-15 14:51:31.277 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:51:31.279 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 14:51:31.280 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 14:51:31.287 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 14:51:31.288 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 30.4081ms
2025-12-15 14:51:31.291 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:51:31.306 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 14:51:31.296 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:51:31.293 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:51:31.311 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 14:51:31.311 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:51:31.312 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 14:51:31.317 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 14:51:31.318 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 14:51:31.320 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:51:31.321 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 14:51:31.327 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 14:51:31.328 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:51:31.329 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 14:51:31.335 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 14:51:31.338 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 14:51:31.339 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 14:51:31.422 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 14:51:31.440 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 14:51:31.442 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 83.2673ms
2025-12-15 14:51:31.443 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:51:31.445 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 134.7097ms
2025-12-15 14:51:31.529 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 14:51:31.544 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 14:51:31.551 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 14:51:31.556 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:51:31.586 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:51:31.591 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 253.3842ms
2025-12-15 14:51:31.593 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 14:51:31.601 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 321.8791ms
2025-12-15 14:51:31.595 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 250.5981ms
2025-12-15 14:51:31.595 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 14:51:31.620 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 14:51:31.625 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 322.297ms
2025-12-15 14:51:31.625 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 14:51:31.628 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:51:31.643 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 287.7463ms
2025-12-15 14:51:31.646 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 14:51:31.648 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 361.5627ms
2025-12-15 14:51:31.726 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:51:31.738 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 396.1282ms
2025-12-15 14:51:31.739 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 14:51:31.741 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 461.3358ms
2025-12-15 14:51:49.055 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 14:51:49.064 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:51:49.065 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 10.2355ms
2025-12-15 14:51:49.070 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 14:51:49.073 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:51:49.082 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 12.5964ms
2025-12-15 14:51:49.089 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 14:58:05.935 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 14:58:05.939 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:05.940 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 38.047ms
2025-12-15 14:58:05.944 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-15 14:58:05.948 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:05.949 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 14:58:05.953 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 14:58:06.030 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 14:58:06.425 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 14:58:06.450 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 14:58:06.455 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 14:58:06.457 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 500.7961ms
2025-12-15 14:58:06.459 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 14:58:06.460 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 515.2305ms
2025-12-15 14:58:06.506 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 14:58:06.506 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 14:58:06.509 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:06.512 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:06.513 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 7.0074ms
2025-12-15 14:58:06.536 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 14:58:06.540 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 33.3837ms
2025-12-15 14:58:06.550 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 14:58:06.546 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:06.554 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:06.558 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:58:06.558 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 14:58:06.560 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 14:58:06.565 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 14:58:06.565 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 14:58:06.567 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 14:58:06.571 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 7.5344ms
2025-12-15 14:58:06.573 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:58:06.574 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 38.2596ms
2025-12-15 14:58:06.602 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 14:58:06.610 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:58:06.617 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 47.8076ms
2025-12-15 14:58:06.619 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 14:58:06.620 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 70.1983ms
2025-12-15 14:58:40.155 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 14:58:40.157 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:40.159 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 4.5271ms
2025-12-15 14:58:40.200 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 14:58:40.204 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 14:58:40.208 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:40.211 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:40.212 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 15.3117ms
2025-12-15 14:58:40.214 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 14:58:40.217 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 14:58:40.222 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 14:58:40.224 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:40.229 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:58:40.232 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 14:58:40.236 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 14:58:40.275 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:58:40.277 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 49.8021ms
2025-12-15 14:58:40.279 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 14:58:40.280 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 75.7671ms
2025-12-15 14:58:40.284 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 14:58:40.288 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 14:58:40.290 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 53.4268ms
2025-12-15 14:58:40.294 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:58:40.295 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 78.6577ms
2025-12-15 14:58:54.241 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 14:58:54.242 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 14:58:54.251 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:54.254 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:54.255 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 13.8637ms
2025-12-15 14:58:54.264 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 22.4479ms
2025-12-15 14:58:54.273 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 14:58:54.276 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 14:58:54.279 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:54.283 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:54.285 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 14:58:54.286 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:58:54.287 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 14:58:54.289 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 14:58:54.294 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 14:58:54.296 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 14:58:54.298 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:58:54.300 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 14:58:54.301 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 9.3282ms
2025-12-15 14:58:54.303 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.3755ms
2025-12-15 14:58:54.307 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:58:54.306 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 14:58:54.309 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 33.6298ms
2025-12-15 14:58:54.311 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 38.4416ms
2025-12-15 14:58:59.614 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 14:58:59.614 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 14:58:59.626 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:59.630 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 16.0432ms
2025-12-15 14:58:59.619 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:59.634 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 14:58:59.635 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 21.1975ms
2025-12-15 14:58:59.639 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:59.642 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 14:58:59.644 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:58:59.649 -03:00 [INF] CORS policy execution successful.
2025-12-15 14:58:59.650 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 14:58:59.651 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 14:58:59.654 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 14:58:59.655 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 14:58:59.665 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 14:58:59.667 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 14.2756ms
2025-12-15 14:58:59.669 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 14:58:59.669 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 14:58:59.671 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 36.539ms
2025-12-15 14:58:59.675 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 14:58:59.685 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 26.9287ms
2025-12-15 14:58:59.687 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 14:58:59.689 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 46.184ms
2025-12-15 15:00:02.170 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 15:00:02.177 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:00:02.179 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 41.6424ms
2025-12-15 15:00:02.182 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 15:00:02.186 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:00:02.187 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 5.4698ms
2025-12-15 15:00:02.191 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 15:15:09.100 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 15:15:09.103 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:15:09.104 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 3.642ms
2025-12-15 15:15:09.107 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-15 15:15:09.109 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:15:09.110 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 15:15:09.111 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 15:15:09.161 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 15:15:09.339 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 15:15:09.344 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 15:15:09.348 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 15:15:09.350 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 237.3614ms
2025-12-15 15:15:09.352 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 15:15:09.353 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 246.2864ms
2025-12-15 15:15:09.396 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 15:15:09.429 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:15:09.431 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:15:09.433 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:15:09.434 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 37.6914ms
2025-12-15 15:15:09.435 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 6.1226ms
2025-12-15 15:15:09.439 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:15:09.441 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 15:15:09.443 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:15:09.447 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:15:09.448 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:15:09.449 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 15:15:09.450 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:15:09.451 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:15:09.455 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:15:09.460 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:15:09.461 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.3053ms
2025-12-15 15:15:09.464 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:15:09.467 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 28.4045ms
2025-12-15 15:15:09.523 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 15:15:09.526 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:15:09.528 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 72.8507ms
2025-12-15 15:15:09.533 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 15:15:09.534 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 93.6052ms
2025-12-15 15:15:20.162 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 15:15:20.163 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:15:20.177 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:15:20.168 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:15:20.178 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 15.3346ms
2025-12-15 15:15:20.218 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 27.3068ms
2025-12-15 15:15:20.221 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 15:15:20.226 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:15:20.230 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:15:20.234 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:15:20.234 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 15:15:20.235 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:15:20.236 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:15:20.238 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:15:20.249 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 15:15:20.249 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:15:20.255 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:15:20.257 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:15:20.262 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 21.8036ms
2025-12-15 15:15:20.264 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 18.8383ms
2025-12-15 15:15:20.265 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 15:15:20.267 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:15:20.268 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 46.6337ms
2025-12-15 15:15:20.269 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 42.4637ms
2025-12-15 15:15:38.262 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 15:15:38.265 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:15:38.266 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 3.8617ms
2025-12-15 15:15:38.275 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 15:15:38.279 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:15:38.283 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 7.8959ms
2025-12-15 15:15:38.355 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 15:16:04.076 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 15:16:04.083 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:04.085 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 39.435ms
2025-12-15 15:16:04.129 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-15 15:16:04.132 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:04.132 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 15:16:04.134 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 15:16:04.137 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 15:16:04.327 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 15:16:04.333 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 15:16:04.336 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 15:16:04.337 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 202.0397ms
2025-12-15 15:16:04.339 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 15:16:04.340 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 211.5743ms
2025-12-15 15:16:04.389 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 15:16:04.389 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:16:04.392 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:04.395 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:04.396 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 7.2538ms
2025-12-15 15:16:04.397 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 8.203ms
2025-12-15 15:16:04.411 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 15:16:04.413 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:16:04.414 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:04.419 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:04.420 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 15:16:04.421 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:16:04.423 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:16:04.422 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:16:04.429 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:16:04.431 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 15:16:04.432 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:16:04.437 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:16:04.438 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 11.2253ms
2025-12-15 15:16:04.442 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 12.2687ms
2025-12-15 15:16:04.447 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:16:04.449 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 15:16:04.451 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 38.0922ms
2025-12-15 15:16:04.454 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 42.1271ms
2025-12-15 15:16:08.236 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 15:16:08.236 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:16:08.246 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:08.248 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:08.252 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 15:16:08.253 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:16:08.254 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:16:08.255 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:16:08.270 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 15:16:08.272 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:16:08.277 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:16:08.279 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:16:08.284 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 26.6022ms
2025-12-15 15:16:08.285 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 18.6178ms
2025-12-15 15:16:08.288 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 15:16:08.289 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:16:08.290 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 53.5477ms
2025-12-15 15:16:08.291 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 54.3848ms
2025-12-15 15:16:34.297 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 15:16:34.301 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:34.303 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 6.881ms
2025-12-15 15:16:34.310 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 15:16:34.315 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:34.317 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 7.3592ms
2025-12-15 15:16:34.325 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 15:16:45.144 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 15:16:45.148 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:45.150 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 6.6268ms
2025-12-15 15:16:45.155 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-15 15:16:45.157 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:45.158 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 15:16:45.159 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 15:16:45.164 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 15:16:45.355 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 15:16:45.360 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 15:16:45.363 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 15:16:45.364 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 201.7493ms
2025-12-15 15:16:45.366 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 15:16:45.367 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 211.8973ms
2025-12-15 15:16:45.436 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:16:45.436 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:16:45.485 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:16:45.518 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:16:45.548 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:16:45.550 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:45.553 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:45.555 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:45.558 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:45.562 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:45.565 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 129.7102ms
2025-12-15 15:16:45.566 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 130.6154ms
2025-12-15 15:16:45.567 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 82.8832ms
2025-12-15 15:16:45.569 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 52.6842ms
2025-12-15 15:16:45.570 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 22.5075ms
2025-12-15 15:16:45.584 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:16:45.584 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:16:45.586 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:16:45.590 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:16:45.592 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:45.594 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:45.599 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:45.603 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:45.604 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:16:45.605 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:16:45.606 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:16:45.607 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:16:45.614 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:16:45.609 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:16:45.611 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:16:45.608 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:16:45.620 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:16:45.622 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:16:45.618 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:16:45.625 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:16:45.627 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:16:45.631 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:16:45.633 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:16:45.634 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 15.3459ms
2025-12-15 15:16:45.638 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:16:45.636 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:16:45.635 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 18.2899ms
2025-12-15 15:16:45.639 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 54.8011ms
2025-12-15 15:16:45.642 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:16:45.649 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 59.1461ms
2025-12-15 15:16:45.650 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:16:45.659 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:16:45.662 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 20.8287ms
2025-12-15 15:16:45.670 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:16:45.673 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 52.9216ms
2025-12-15 15:16:45.702 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:16:45.708 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:16:45.711 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:16:45.715 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:16:45.717 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 96.4281ms
2025-12-15 15:16:45.721 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:16:45.722 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:16:45.723 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 100.828ms
2025-12-15 15:16:45.727 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:16:45.725 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 138.6126ms
2025-12-15 15:16:45.730 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 146.1168ms
2025-12-15 15:20:04.170 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:20:04.229 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:04.230 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 62.7802ms
2025-12-15 15:20:04.227 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:20:04.174 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:20:04.233 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:20:04.216 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:20:04.235 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:04.237 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:04.239 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:04.242 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:04.242 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 15.9403ms
2025-12-15 15:20:04.243 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 70.0388ms
2025-12-15 15:20:04.245 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 11.795ms
2025-12-15 15:20:04.247 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 31.0534ms
2025-12-15 15:20:04.253 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:20:04.254 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:20:04.255 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:20:04.258 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:20:04.262 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:04.265 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:04.267 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:04.269 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:04.270 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:20:04.271 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:20:04.272 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:20:04.273 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:20:04.274 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:20:04.274 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:20:04.275 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:20:04.276 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:20:04.283 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:20:04.289 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:20:04.289 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:20:04.292 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:20:04.297 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:04.298 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:20:04.303 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:20:04.303 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:20:04.305 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:20:04.306 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:20:04.310 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:20:04.310 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 27.5649ms
2025-12-15 15:20:04.313 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 32.5901ms
2025-12-15 15:20:04.314 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 23.3484ms
2025-12-15 15:20:04.315 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:20:04.318 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:20:04.319 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:20:04.320 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:20:04.321 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:20:04.325 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 32.0361ms
2025-12-15 15:20:04.326 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 71.8527ms
2025-12-15 15:20:04.326 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:20:04.327 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 73.1555ms
2025-12-15 15:20:04.329 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 73.7563ms
2025-12-15 15:20:04.331 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:20:04.337 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:20:04.346 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 87.4426ms
2025-12-15 15:20:04.348 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 24.8321ms
2025-12-15 15:20:04.352 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:20:04.353 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 70.4698ms
2025-12-15 15:20:29.911 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:20:29.916 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:29.921 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 9.6054ms
2025-12-15 15:20:29.932 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:20:29.937 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:29.943 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:20:29.946 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:20:30.064 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:20:30.066 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:20:30.073 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 122.2442ms
2025-12-15 15:20:30.075 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:20:30.076 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 143.9635ms
2025-12-15 15:20:33.683 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:20:33.695 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:33.696 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 12.9962ms
2025-12-15 15:20:33.702 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:20:33.707 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:33.710 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:20:33.711 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:20:33.722 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:20:33.727 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:20:33.729 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 11.9915ms
2025-12-15 15:20:33.730 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:20:33.732 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 29.6368ms
2025-12-15 15:20:34.909 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:20:34.914 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:34.926 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:20:34.939 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:20:34.946 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:20:34.956 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:20:34.959 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 13.7723ms
2025-12-15 15:20:34.961 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:20:34.962 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 53.9056ms
2025-12-15 15:20:36.264 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:20:36.264 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:20:36.270 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:36.267 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:36.271 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 6.8429ms
2025-12-15 15:20:36.280 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:20:36.325 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 23.5459ms
2025-12-15 15:20:36.328 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:36.330 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:20:36.331 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:20:36.332 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:36.335 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:20:36.336 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:20:36.340 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:20:36.340 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:20:36.342 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:20:36.357 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:20:36.358 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 19.4148ms
2025-12-15 15:20:36.363 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:20:36.364 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:20:36.364 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 83.822ms
2025-12-15 15:20:36.366 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 21.6069ms
2025-12-15 15:20:36.372 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:20:36.374 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 43.7893ms
2025-12-15 15:20:38.904 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:20:38.908 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:38.910 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 5.4896ms
2025-12-15 15:20:38.929 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:20:38.936 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:38.938 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:20:38.942 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 15:20:39.004 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 15:20:39.010 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:20:39.018 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 71.7293ms
2025-12-15 15:20:39.021 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:20:39.023 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 94.6857ms
2025-12-15 15:20:46.428 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:20:46.429 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:20:46.438 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:46.439 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 9.3752ms
2025-12-15 15:20:46.435 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:46.445 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:20:46.448 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 20.8826ms
2025-12-15 15:20:46.477 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:20:46.478 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:46.479 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:20:46.484 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:20:46.452 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:20:46.487 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:20:46.487 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:20:46.490 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:20:46.490 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:20:46.494 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 8.0985ms
2025-12-15 15:20:46.495 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:20:46.495 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:20:46.509 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:20:46.498 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 21.0469ms
2025-12-15 15:20:46.512 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 19.3972ms
2025-12-15 15:20:46.518 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:20:46.519 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 74.0528ms
2025-12-15 15:21:01.393 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:21:01.423 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:01.424 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 32.9112ms
2025-12-15 15:21:01.432 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:21:01.437 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:01.439 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:21:01.440 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:21:01.447 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:21:01.452 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:21:01.454 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 8.9135ms
2025-12-15 15:21:01.455 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:21:01.456 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 24.3788ms
2025-12-15 15:21:05.018 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:21:05.018 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:21:05.073 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:21:05.101 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:21:05.120 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:05.122 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:05.135 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:05.137 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:05.138 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 120.0357ms
2025-12-15 15:21:05.139 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 120.9102ms
2025-12-15 15:21:05.142 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:21:05.143 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 41.656ms
2025-12-15 15:21:05.147 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:21:05.150 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:21:05.151 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:21:05.154 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:21:05.161 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:05.163 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:05.166 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:21:05.167 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:05.168 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:21:05.174 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:21:05.171 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:21:05.179 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 13.3428ms
2025-12-15 15:21:05.169 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:21:05.172 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:21:05.179 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:21:05.180 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:21:05.181 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:21:05.182 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:21:05.185 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 112.5282ms
2025-12-15 15:21:05.185 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:21:05.197 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:21:05.201 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 24.0415ms
2025-12-15 15:21:05.202 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:21:05.204 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 56.5889ms
2025-12-15 15:21:05.268 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:21:05.270 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:21:05.275 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:21:05.275 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:21:05.276 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 86.7708ms
2025-12-15 15:21:05.278 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 90.3467ms
2025-12-15 15:21:05.279 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:21:05.280 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:21:05.281 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 126.8815ms
2025-12-15 15:21:05.283 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 132.6987ms
2025-12-15 15:21:07.355 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:21:07.361 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:07.362 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 6.9957ms
2025-12-15 15:21:07.371 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:21:07.376 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:07.379 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:21:07.381 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 15:21:07.390 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 15:21:07.396 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:21:07.398 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 13.7873ms
2025-12-15 15:21:07.399 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:21:07.401 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 29.2753ms
2025-12-15 15:21:08.519 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:21:08.519 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:21:08.524 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:08.529 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:08.530 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 11.5891ms
2025-12-15 15:21:08.532 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:21:08.536 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:21:08.537 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:21:08.541 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:08.546 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:21:08.546 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:21:08.550 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:21:08.554 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:21:08.555 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:21:08.561 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 12.4303ms
2025-12-15 15:21:08.566 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:21:08.567 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:21:08.568 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 31.9685ms
2025-12-15 15:21:08.570 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 25.2474ms
2025-12-15 15:21:08.575 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:21:08.578 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 58.6129ms
2025-12-15 15:21:10.877 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:21:10.878 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:21:10.878 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:21:10.887 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:10.883 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:10.885 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:10.879 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:21:10.890 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 12.0612ms
2025-12-15 15:21:10.911 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:21:10.916 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:10.894 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:10.891 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 13.6139ms
2025-12-15 15:21:10.924 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:21:10.917 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:21:10.919 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:21:10.892 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 14.1799ms
2025-12-15 15:21:10.929 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:10.940 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:21:10.933 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:21:10.937 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:21:10.931 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:21:10.942 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:21:10.945 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:21:10.946 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:21:10.950 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:21:10.956 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:21:10.957 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:21:10.959 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:21:10.961 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:21:10.963 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 18.6377ms
2025-12-15 15:21:10.964 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:21:10.968 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:21:10.969 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 20.3629ms
2025-12-15 15:21:10.970 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:21:10.977 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:21:10.977 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:21:10.978 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:21:10.979 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 99.7626ms
2025-12-15 15:21:10.980 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 24.4345ms
2025-12-15 15:21:10.991 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:21:10.986 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:21:10.994 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 21.0309ms
2025-12-15 15:21:10.995 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:21:10.997 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 59.8616ms
2025-12-15 15:21:10.992 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 68.2591ms
2025-12-15 15:21:10.985 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 73.8818ms
2025-12-15 15:28:11.067 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:28:11.070 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:11.071 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 4.2211ms
2025-12-15 15:28:11.074 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:28:11.077 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:11.081 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:28:11.082 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:28:11.163 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:28:11.167 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:28:11.168 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 82.7584ms
2025-12-15 15:28:11.169 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:28:11.170 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 96.1084ms
2025-12-15 15:28:50.682 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:28:50.695 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:50.697 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 14.2779ms
2025-12-15 15:28:50.703 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:28:50.705 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:50.707 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:28:50.708 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:28:50.712 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:28:50.717 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:28:50.718 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.1216ms
2025-12-15 15:28:50.813 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:28:50.817 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 113.809ms
2025-12-15 15:28:50.902 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:28:51.076 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:28:50.903 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:28:51.086 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:28:51.087 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:28:51.125 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:51.130 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:51.136 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:51.139 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:51.141 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:51.142 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 240.0904ms
2025-12-15 15:28:51.143 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 67.5178ms
2025-12-15 15:28:51.144 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 241.4366ms
2025-12-15 15:28:51.145 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:28:51.146 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 58.5585ms
2025-12-15 15:28:51.151 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:28:51.154 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:28:51.157 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:28:51.158 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:28:51.161 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:28:51.163 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:51.167 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:51.170 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:51.174 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:28:51.175 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:51.176 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:28:51.177 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:28:51.178 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:28:51.183 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:28:51.184 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:28:51.186 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:28:51.188 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:28:51.190 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:28:51.200 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:28:51.193 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:28:51.191 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 18.9021ms
2025-12-15 15:28:51.219 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:28:51.219 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:28:51.228 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:28:51.229 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 142.3646ms
2025-12-15 15:28:51.238 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 42.8883ms
2025-12-15 15:28:51.245 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:28:51.248 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 96.8798ms
2025-12-15 15:28:51.319 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:28:51.322 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:28:51.323 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:28:51.324 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 115.6025ms
2025-12-15 15:28:51.328 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:28:51.327 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:28:51.335 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 117.5682ms
2025-12-15 15:28:51.330 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 172.2571ms
2025-12-15 15:28:51.337 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:28:51.338 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:28:51.342 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 181.0676ms
2025-12-15 15:28:51.347 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:28:51.352 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 150.41ms
2025-12-15 15:28:51.354 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:28:51.355 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 201.0822ms
2025-12-15 15:28:53.069 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:28:53.074 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:53.075 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:28:53.076 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:28:53.081 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:28:53.087 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:28:53.088 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 9.3898ms
2025-12-15 15:28:53.089 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:28:53.090 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 21.8183ms
2025-12-15 15:28:55.809 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:28:55.812 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:55.814 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 5.6909ms
2025-12-15 15:28:55.818 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:28:55.820 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:55.821 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:28:55.822 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:28:55.826 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:28:55.830 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:28:55.831 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 7.339ms
2025-12-15 15:28:55.832 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:28:55.833 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 15.352ms
2025-12-15 15:28:56.385 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:28:56.386 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:28:56.397 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:56.398 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 12.5859ms
2025-12-15 15:28:56.404 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:28:56.411 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:56.386 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:28:56.415 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:56.390 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:28:56.419 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:56.420 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:28:56.388 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:28:56.417 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 30.5571ms
2025-12-15 15:28:56.394 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:56.412 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:28:56.421 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:28:56.423 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:56.434 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 46.3238ms
2025-12-15 15:28:56.431 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:28:56.470 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:28:56.431 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 46.6147ms
2025-12-15 15:28:56.426 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:28:56.474 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:28:56.477 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:28:56.478 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:28:56.481 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:28:56.484 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:56.488 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:56.491 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:28:56.492 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 58.4089ms
2025-12-15 15:28:56.494 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:28:56.496 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:28:56.497 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:28:56.498 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 22.489ms
2025-12-15 15:28:56.499 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:28:56.500 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:28:56.501 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:28:56.502 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:28:56.504 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:28:56.505 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 114.7223ms
2025-12-15 15:28:56.506 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:28:56.510 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 106.0074ms
2025-12-15 15:28:56.511 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:28:56.520 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:28:56.521 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:28:56.523 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:28:56.529 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:28:56.531 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:28:56.534 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 26.376ms
2025-12-15 15:28:56.536 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 26.7632ms
2025-12-15 15:28:56.539 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:28:56.540 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:28:56.541 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:28:56.543 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 26.3458ms
2025-12-15 15:28:56.544 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 117.2904ms
2025-12-15 15:28:56.545 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 70.879ms
2025-12-15 15:28:56.546 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:28:56.553 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 71.5509ms
2025-12-15 15:29:44.075 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:29:44.085 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:29:44.086 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 11.6273ms
2025-12-15 15:29:44.090 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:29:44.093 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:29:44.094 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:29:44.100 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:29:44.105 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:29:44.108 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:29:44.109 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 4.9357ms
2025-12-15 15:29:44.111 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:29:44.116 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 25.7288ms
2025-12-15 15:29:50.335 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:29:50.350 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:29:50.351 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 16.1346ms
2025-12-15 15:29:50.355 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:29:50.357 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:29:50.358 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:29:50.359 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:29:50.364 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:29:50.366 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:29:50.367 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 4.9211ms
2025-12-15 15:29:50.369 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:29:50.371 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 15.3271ms
2025-12-15 15:29:50.927 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:29:50.932 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:29:51.078 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:29:51.079 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 146.9555ms
2025-12-15 15:29:51.081 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:29:51.082 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:29:51.086 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:29:51.089 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:29:51.056 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:29:51.093 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:29:51.065 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:29:51.056 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:29:51.095 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 41.5545ms
2025-12-15 15:29:51.095 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:29:51.095 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 168.5084ms
2025-12-15 15:29:51.098 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:29:51.101 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:29:51.104 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:29:51.114 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 23.7323ms
2025-12-15 15:29:51.108 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 51.53ms
2025-12-15 15:29:51.112 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:29:51.120 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:29:51.121 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:29:51.119 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:29:51.107 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:29:51.115 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:29:51.124 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:29:51.126 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:29:51.128 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:29:51.130 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 49.2244ms
2025-12-15 15:29:51.133 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:29:51.134 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:29:51.135 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:29:51.139 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:29:51.145 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:29:51.142 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:29:51.143 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:29:51.149 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:29:51.141 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 17.6445ms
2025-12-15 15:29:51.146 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:29:51.159 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:29:51.158 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:29:51.151 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:29:51.163 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:29:51.166 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 65.5969ms
2025-12-15 15:29:51.166 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:29:51.168 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:29:51.171 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:29:51.179 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:29:51.180 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 30.2633ms
2025-12-15 15:29:51.182 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 33.9374ms
2025-12-15 15:29:51.183 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 21.7297ms
2025-12-15 15:29:51.185 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:29:51.186 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:29:51.188 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:29:51.193 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 53.113ms
2025-12-15 15:29:51.191 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 71.6704ms
2025-12-15 15:29:51.189 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 82.1712ms
2025-12-15 15:30:26.073 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:30:26.080 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:30:26.082 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 9.5556ms
2025-12-15 15:30:26.086 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:30:26.088 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:30:26.089 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:30:26.089 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:30:26.093 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:30:26.096 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:30:26.097 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.5025ms
2025-12-15 15:30:26.101 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:30:26.102 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 16.4448ms
2025-12-15 15:30:32.027 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:30:32.062 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:30:32.067 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 40.0426ms
2025-12-15 15:30:32.072 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:30:32.075 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:30:32.076 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:30:32.077 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:30:32.084 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:30:32.088 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:30:32.090 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.211ms
2025-12-15 15:30:32.092 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:30:32.094 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 22.0379ms
2025-12-15 15:30:32.639 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:30:32.712 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:30:32.644 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:30:32.716 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:30:32.668 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:30:32.647 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:30:32.656 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:30:32.717 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 72.9013ms
2025-12-15 15:30:32.719 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:30:32.721 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:30:32.724 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:30:32.728 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:30:32.730 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 82.6576ms
2025-12-15 15:30:32.731 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 74.9571ms
2025-12-15 15:30:32.732 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:30:32.794 -03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:30:32.833 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:30:32.833 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:30:32.883 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:30:32.884 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:30:32.886 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:30:32.878 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:30:32.833 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:30:32.868 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 229.0361ms
2025-12-15 15:30:32.899 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:30:32.891 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:30:32.905 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:30:32.894 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:30:32.873 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:30:32.901 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:30:32.892 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:30:32.906 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 15.6513ms
2025-12-15 15:30:32.907 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:30:32.915 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:30:32.909 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:30:32.911 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:30:32.913 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:30:32.908 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 168.7064ms
2025-12-15 15:30:32.918 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:30:32.918 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:30:32.920 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:30:32.921 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 87.4996ms
2025-12-15 15:30:32.922 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:30:32.937 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 269.352ms
2025-12-15 15:30:32.932 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:30:32.933 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:30:32.930 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:30:32.945 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:30:32.951 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 31.0528ms
2025-12-15 15:30:32.959 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:30:32.960 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 42.851ms
2025-12-15 15:30:32.965 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:30:32.967 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 133.6867ms
2025-12-15 15:30:32.961 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:30:32.964 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 39.7055ms
2025-12-15 15:30:32.972 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 138.7349ms
2025-12-15 15:30:32.973 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:30:32.980 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 80.6554ms
2025-12-15 15:31:13.062 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:31:13.064 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:13.066 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 4.2839ms
2025-12-15 15:31:13.071 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:31:13.073 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:13.074 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:31:13.075 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:31:13.079 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:31:13.083 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:31:13.085 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 7.0008ms
2025-12-15 15:31:13.086 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:31:13.088 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 16.7604ms
2025-12-15 15:31:16.709 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:31:16.717 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:16.720 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:31:16.721 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:31:16.724 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:31:16.727 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:31:16.728 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 4.8281ms
2025-12-15 15:31:16.729 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:31:16.731 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 21.9488ms
2025-12-15 15:31:17.337 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:31:17.338 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:31:17.345 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:31:17.359 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:31:17.438 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:31:17.440 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:17.443 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:17.445 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:17.448 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:17.450 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:17.451 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 114.2505ms
2025-12-15 15:31:17.452 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 114.18ms
2025-12-15 15:31:17.453 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 107.3399ms
2025-12-15 15:31:17.453 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 95.0088ms
2025-12-15 15:31:17.471 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:31:17.473 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:17.474 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:31:17.476 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:31:17.479 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:31:17.488 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:31:17.466 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:31:17.466 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:31:17.467 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:31:17.454 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:31:17.502 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:31:17.496 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:17.499 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:17.501 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:17.494 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:31:17.507 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:31:17.508 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:31:17.509 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:31:17.510 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 32.3702ms
2025-12-15 15:31:17.511 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:31:17.513 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:31:17.522 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:31:17.516 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:31:17.519 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:31:17.515 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:31:17.525 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:31:17.525 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 53.8437ms
2025-12-15 15:31:17.529 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:31:17.532 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:31:17.533 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 15.0472ms
2025-12-15 15:31:17.537 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:31:17.538 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 32.3655ms
2025-12-15 15:31:17.547 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:31:17.544 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:31:17.546 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:31:17.543 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:31:17.549 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 110.1001ms
2025-12-15 15:31:17.551 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 85.0119ms
2025-12-15 15:31:17.553 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 21.321ms
2025-12-15 15:31:17.566 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:31:17.555 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 33.6668ms
2025-12-15 15:31:17.568 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 100.7049ms
2025-12-15 15:31:17.569 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:31:17.576 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 110.1842ms
2025-12-15 15:31:42.165 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:31:42.167 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:42.168 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 3.0534ms
2025-12-15 15:31:42.170 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:31:42.173 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:42.173 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:31:42.176 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:31:42.181 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:31:42.274 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:31:42.368 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 190.3026ms
2025-12-15 15:31:42.379 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:31:42.382 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 211.5038ms
2025-12-15 15:31:46.990 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:31:46.991 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:31:47.006 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:47.011 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 21.3274ms
2025-12-15 15:31:47.011 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:47.016 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:31:47.017 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 26.0001ms
2025-12-15 15:31:47.020 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:47.028 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:31:47.029 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:31:47.033 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:47.034 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:31:47.035 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:31:47.041 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:31:47.042 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:31:47.046 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:31:47.047 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:31:47.052 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:31:47.055 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 18.3895ms
2025-12-15 15:31:47.092 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 48.6501ms
2025-12-15 15:31:47.094 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:31:47.097 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:31:47.098 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 82.6883ms
2025-12-15 15:31:47.100 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 72.1716ms
2025-12-15 15:31:54.075 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:31:54.077 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:54.078 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 3.6101ms
2025-12-15 15:31:54.081 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:31:54.084 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:31:54.087 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:31:54.089 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:31:54.093 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:31:54.095 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:31:54.096 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 4.5875ms
2025-12-15 15:31:54.098 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:31:54.099 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 17.9338ms
2025-12-15 15:32:42.063 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:32:42.075 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:32:42.076 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 13.2689ms
2025-12-15 15:32:42.079 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:32:42.082 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:32:42.084 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:32:42.085 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:32:42.090 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:32:42.130 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:32:42.132 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 43.4868ms
2025-12-15 15:32:42.133 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:32:42.136 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 56.2616ms
2025-12-15 15:33:37.058 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:33:37.069 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:33:37.070 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 12.8073ms
2025-12-15 15:33:37.073 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:33:37.075 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:33:37.076 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:33:37.077 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:33:37.125 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:33:37.128 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:33:37.129 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 50.3277ms
2025-12-15 15:33:37.131 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:33:37.132 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 58.5537ms
2025-12-15 15:34:48.069 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:34:48.078 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:34:48.080 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 10.5493ms
2025-12-15 15:34:48.084 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:34:48.086 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:34:48.087 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:34:48.087 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:34:48.091 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:34:48.095 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:34:48.097 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 6.9976ms
2025-12-15 15:34:48.098 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:34:48.100 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 16.5552ms
2025-12-15 15:35:16.067 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:35:16.076 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:16.077 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 9.957ms
2025-12-15 15:35:16.080 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:35:16.082 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:16.083 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:35:16.084 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:35:16.087 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:35:16.089 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:35:16.090 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 4.4856ms
2025-12-15 15:35:16.091 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:35:16.092 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 12.2585ms
2025-12-15 15:35:19.936 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:35:19.936 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:35:19.944 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:35:19.951 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:35:19.964 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:19.957 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:19.966 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 29.5505ms
2025-12-15 15:35:19.955 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:19.974 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 37.6347ms
2025-12-15 15:35:19.960 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:19.965 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 14.2515ms
2025-12-15 15:35:19.978 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:35:19.985 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:19.982 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:35:19.983 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:35:19.980 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 36.104ms
2025-12-15 15:35:19.987 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:35:19.991 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:19.996 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:35:19.993 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:20.005 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:35:20.007 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:35:20.009 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:20.010 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:35:20.016 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:35:20.013 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:35:20.022 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:35:20.012 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:35:20.024 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:35:20.089 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:35:20.107 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:35:20.108 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:35:20.109 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:35:20.109 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:35:20.112 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:35:20.121 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 99.9547ms
2025-12-15 15:35:20.122 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:35:20.122 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 111.2778ms
2025-12-15 15:35:20.124 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 100.921ms
2025-12-15 15:35:20.127 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:35:20.130 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:35:20.135 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:35:20.137 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:35:20.138 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 154.7347ms
2025-12-15 15:35:20.139 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 114.4172ms
2025-12-15 15:35:20.141 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 162.746ms
2025-12-15 15:35:20.143 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 147.5482ms
2025-12-15 15:35:20.151 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:35:20.158 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 176.6569ms
2025-12-15 15:35:20.921 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:35:20.969 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:21.012 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:35:21.013 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:35:21.022 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:35:21.027 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:35:21.028 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 7.417ms
2025-12-15 15:35:21.034 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:35:21.035 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 113.8913ms
2025-12-15 15:35:21.516 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:35:21.516 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:35:21.521 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:21.524 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:21.526 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:35:21.528 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:35:21.529 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:35:21.534 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:35:21.543 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:35:21.555 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:35:21.559 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 18.8195ms
2025-12-15 15:35:21.559 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:35:21.562 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:35:21.573 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 56.9532ms
2025-12-15 15:35:21.575 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:35:21.579 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 34.4128ms
2025-12-15 15:35:21.585 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:35:21.587 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 70.1141ms
2025-12-15 15:35:21.981 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:35:21.985 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:21.987 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:35:21.989 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:35:22.008 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:35:22.012 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:35:22.016 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 9.6825ms
2025-12-15 15:35:22.021 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:35:22.025 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 43.882ms
2025-12-15 15:35:28.953 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:35:28.953 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:35:28.954 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:35:28.955 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:35:28.958 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:28.961 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:28.969 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 15.7724ms
2025-12-15 15:35:28.967 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:28.968 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 15.424ms
2025-12-15 15:35:28.988 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:35:28.964 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:28.991 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 36.6934ms
2025-12-15 15:35:28.998 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:35:28.990 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:28.978 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 23.4215ms
2025-12-15 15:35:29.012 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:35:29.004 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:29.006 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:35:28.973 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:35:29.015 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:29.017 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:35:29.018 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:35:29.020 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:35:29.025 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:35:29.022 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:35:29.021 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:35:29.025 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:35:29.027 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:35:29.033 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:35:29.034 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:35:29.034 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:35:29.036 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.6865ms
2025-12-15 15:35:29.040 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:35:29.040 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:35:29.043 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:35:29.043 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:35:29.050 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:35:29.055 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 17.0095ms
2025-12-15 15:35:29.052 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 63.6339ms
2025-12-15 15:35:29.050 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 18.0145ms
2025-12-15 15:35:29.056 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:35:29.057 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:35:29.062 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:35:29.066 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:35:29.066 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 54.514ms
2025-12-15 15:35:29.067 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 69.5031ms
2025-12-15 15:35:29.069 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 26.7616ms
2025-12-15 15:35:29.077 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:35:29.079 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 105.8172ms
2025-12-15 15:36:02.069 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:36:02.072 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:36:02.074 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 4.9743ms
2025-12-15 15:36:02.085 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:36:02.088 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:36:02.089 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:36:02.090 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:36:02.096 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:36:02.100 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:36:02.102 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 9.3317ms
2025-12-15 15:36:02.103 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:36:02.105 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 20.5816ms
2025-12-15 15:36:31.062 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:36:31.065 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:36:31.065 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 3.6349ms
2025-12-15 15:36:31.068 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:36:31.071 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:36:31.072 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:36:31.075 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:36:31.079 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:36:31.082 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:36:31.083 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.5444ms
2025-12-15 15:36:31.084 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:36:31.086 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 17.3066ms
2025-12-15 15:36:47.064 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:36:47.067 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:36:47.068 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 3.2537ms
2025-12-15 15:36:47.071 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:36:47.075 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:36:47.077 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:36:47.078 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:36:47.083 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:36:47.088 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:36:47.089 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.7452ms
2025-12-15 15:36:47.090 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:36:47.092 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 21.2266ms
2025-12-15 15:36:56.110 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:36:56.112 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:36:56.113 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 3.0571ms
2025-12-15 15:36:56.119 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:36:56.123 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:36:56.125 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:36:56.126 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:36:56.130 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:36:56.142 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:36:56.144 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 14.9299ms
2025-12-15 15:36:56.146 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:36:56.147 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 28.5013ms
2025-12-15 15:37:25.065 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:37:25.076 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:37:25.077 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 11.515ms
2025-12-15 15:37:25.081 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:37:25.083 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:37:25.084 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:37:25.085 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:37:25.091 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:37:25.096 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:37:25.097 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 9.8887ms
2025-12-15 15:37:25.099 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:37:25.100 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 19.4787ms
2025-12-15 15:37:38.063 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:37:38.066 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:37:38.067 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 3.9125ms
2025-12-15 15:37:38.070 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:37:38.073 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:37:38.074 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:37:38.076 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:37:38.080 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:37:38.090 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:37:38.091 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 12.6518ms
2025-12-15 15:37:38.092 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:37:38.093 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 22.9022ms
2025-12-15 15:37:49.070 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:37:49.072 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:37:49.073 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 2.8842ms
2025-12-15 15:37:49.076 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:37:49.078 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:37:49.079 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:37:49.083 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:37:49.086 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:37:49.090 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:37:49.091 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.2864ms
2025-12-15 15:37:49.092 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:37:49.093 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 17.284ms
2025-12-15 15:38:03.060 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:38:03.063 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:38:03.064 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 4.0466ms
2025-12-15 15:38:03.067 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:38:03.070 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:38:03.071 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:38:03.072 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:38:03.077 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:38:03.080 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:38:03.081 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.3153ms
2025-12-15 15:38:03.083 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:38:03.084 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 16.303ms
2025-12-15 15:38:15.116 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:38:15.119 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:38:15.120 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 3.994ms
2025-12-15 15:38:15.132 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:38:15.134 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:38:15.135 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:38:15.145 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:38:15.150 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:38:15.158 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:38:15.161 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 12.3661ms
2025-12-15 15:38:15.163 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:38:15.165 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 32.7865ms
2025-12-15 15:38:40.059 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:38:40.067 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:38:40.068 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 8.639ms
2025-12-15 15:38:40.071 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:38:40.073 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:38:40.073 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:38:40.074 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:38:40.129 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:38:40.134 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:38:40.135 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 58.8316ms
2025-12-15 15:38:40.136 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:38:40.137 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 66.8808ms
2025-12-15 15:38:46.889 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:38:46.900 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:38:46.901 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 11.7081ms
2025-12-15 15:38:46.906 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:38:46.909 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:38:46.910 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:38:46.914 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:38:46.920 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:38:46.933 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:38:46.934 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 17.26ms
2025-12-15 15:38:46.936 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:38:46.938 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 31.3459ms
2025-12-15 15:41:09.602 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:41:09.674 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:41:09.675 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 73.7285ms
2025-12-15 15:41:09.679 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:41:09.683 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:41:09.684 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:41:09.685 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:41:09.689 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:41:09.692 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:41:09.693 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 6.1811ms
2025-12-15 15:41:09.696 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:41:09.698 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 19.0604ms
2025-12-15 15:41:17.066 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:41:17.069 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:41:17.070 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 3.8635ms
2025-12-15 15:41:17.081 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:41:17.084 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:41:17.085 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:41:17.087 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:41:17.099 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:41:17.105 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:41:17.107 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 10.2526ms
2025-12-15 15:41:17.111 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:41:17.112 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 31.075ms
2025-12-15 15:42:18.067 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:42:18.071 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:18.072 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 5.0861ms
2025-12-15 15:42:18.076 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:42:18.080 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:18.081 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:42:18.083 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:42:18.086 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:42:18.090 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:42:18.093 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 7.3106ms
2025-12-15 15:42:18.094 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:42:18.096 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 19.0648ms
2025-12-15 15:42:22.671 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:42:22.673 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:22.676 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:42:22.679 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:42:22.686 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:42:22.691 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:42:22.736 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 52.2374ms
2025-12-15 15:42:22.739 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:42:22.741 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 70.815ms
2025-12-15 15:42:27.740 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:42:27.747 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:27.748 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 8.2842ms
2025-12-15 15:42:27.753 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:42:27.757 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:27.778 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:42:27.824 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:42:27.828 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:42:27.832 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:42:27.833 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 7.3272ms
2025-12-15 15:42:27.839 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:42:27.842 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 89.2257ms
2025-12-15 15:42:27.907 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:42:27.923 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:27.925 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 17.7957ms
2025-12-15 15:42:27.908 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:42:27.977 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:27.974 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:42:27.978 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:42:27.980 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:27.981 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:42:27.982 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:42:27.986 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:42:27.987 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:42:27.991 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:42:27.993 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 7.7467ms
2025-12-15 15:42:27.994 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:42:27.996 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 87.5824ms
2025-12-15 15:42:28.066 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:42:28.069 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:42:28.071 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 82.5055ms
2025-12-15 15:42:28.072 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:42:28.074 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 99.2621ms
2025-12-15 15:42:40.660 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:42:40.668 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:40.670 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 10.5775ms
2025-12-15 15:42:40.677 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:42:40.683 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:40.701 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:42:40.704 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:42:40.711 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:42:40.715 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:42:40.718 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 9.6005ms
2025-12-15 15:42:40.721 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:42:40.723 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 46.2955ms
2025-12-15 15:42:44.767 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:42:44.769 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:42:44.788 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:44.790 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 21.1485ms
2025-12-15 15:42:44.783 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:44.767 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:42:44.801 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:44.802 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 34.7318ms
2025-12-15 15:42:44.801 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:42:44.777 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:42:44.798 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 30.8811ms
2025-12-15 15:42:44.809 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:44.809 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:42:44.832 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:44.823 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:42:44.853 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:44.853 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:42:44.854 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:42:44.858 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:42:44.867 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:42:44.833 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:42:44.870 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:42:44.819 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:44.869 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:42:44.824 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:42:44.873 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:42:44.873 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:42:44.874 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 18.0794ms
2025-12-15 15:42:44.875 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:42:44.876 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:42:44.879 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:42:44.901 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:42:44.907 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 34.7982ms
2025-12-15 15:42:44.880 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:42:44.907 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:42:44.919 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:42:44.920 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 97.6269ms
2025-12-15 15:42:44.920 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:42:44.923 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:42:44.931 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 29.0907ms
2025-12-15 15:42:44.933 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:42:44.934 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 157.3109ms
2025-12-15 15:42:44.930 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 46.7837ms
2025-12-15 15:42:44.924 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 114.3989ms
2025-12-15 15:42:44.940 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:42:44.944 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 143.3103ms
2025-12-15 15:42:47.948 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:42:47.949 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:42:47.953 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:47.959 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:42:47.958 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:47.963 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:42:47.965 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:42:47.970 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:42:47.970 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:42:47.972 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:42:47.976 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 7.4713ms
2025-12-15 15:42:47.983 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:42:47.985 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 37.2849ms
2025-12-15 15:42:47.988 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:42:47.998 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:42:48.000 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 25.6743ms
2025-12-15 15:42:48.002 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:42:48.004 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 54.7609ms
2025-12-15 15:42:52.135 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:42:52.142 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:52.144 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 8.9602ms
2025-12-15 15:42:52.149 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:42:52.153 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:42:52.154 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:42:52.156 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 15:42:52.165 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 15:42:52.208 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:42:52.217 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 55.5939ms
2025-12-15 15:42:52.221 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:42:52.223 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 73.5603ms
2025-12-15 15:43:23.939 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:43:23.939 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:43:23.963 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:23.950 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:43:23.968 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:23.972 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 30.428ms
2025-12-15 15:43:23.962 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:43:23.987 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:23.980 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 40.1127ms
2025-12-15 15:43:23.991 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:43:23.979 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:23.988 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 26.325ms
2025-12-15 15:43:23.985 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:43:23.994 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:23.995 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 45.694ms
2025-12-15 15:43:23.999 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:43:24.003 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:24.004 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:43:24.007 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:43:24.009 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:24.010 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:43:24.011 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:43:24.013 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:24.021 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:43:24.014 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:43:24.013 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:43:24.022 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:43:24.024 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:43:24.027 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:43:24.027 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:43:24.028 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:43:24.029 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 10.0635ms
2025-12-15 15:43:24.037 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:43:24.038 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:43:24.039 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:43:24.046 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 54.7682ms
2025-12-15 15:43:24.045 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:43:24.044 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:43:24.056 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 29.9164ms
2025-12-15 15:43:24.059 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:43:24.076 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 90.8221ms
2025-12-15 15:43:24.058 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 24.2029ms
2025-12-15 15:43:24.081 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:43:24.088 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 88.2495ms
2025-12-15 15:43:24.154 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:43:24.160 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:43:24.162 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 123.359ms
2025-12-15 15:43:24.163 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:43:24.164 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 156.6365ms
2025-12-15 15:43:24.755 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:43:24.763 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:24.764 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:43:24.766 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:43:24.775 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:43:24.781 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:43:24.784 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.1326ms
2025-12-15 15:43:24.787 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:43:24.792 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 36.5989ms
2025-12-15 15:43:26.745 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:43:26.745 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:43:26.753 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:26.758 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:26.760 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:43:26.761 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:43:26.762 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:43:26.766 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:43:26.771 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:43:26.809 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:43:26.810 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:43:26.810 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 40.1886ms
2025-12-15 15:43:26.819 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:43:26.823 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 49.8054ms
2025-12-15 15:43:26.824 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:43:26.819 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:43:26.826 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 81.2843ms
2025-12-15 15:43:26.825 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 80.1662ms
2025-12-15 15:43:27.465 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:43:27.472 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:27.475 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:43:27.477 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:43:27.483 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:43:27.488 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:43:27.490 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 9.0403ms
2025-12-15 15:43:27.494 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:43:27.500 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 35.1756ms
2025-12-15 15:43:29.518 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:43:29.522 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:29.532 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 13.9273ms
2025-12-15 15:43:29.535 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:43:29.537 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:29.537 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:43:29.538 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:43:29.542 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:43:29.544 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:43:29.545 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 4.2771ms
2025-12-15 15:43:29.547 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:43:29.548 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 12.9958ms
2025-12-15 15:43:30.066 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:43:30.067 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:43:30.085 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:30.086 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:43:30.088 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:43:30.069 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:30.095 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:43:30.101 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:43:30.096 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 29.7842ms
2025-12-15 15:43:30.107 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:43:30.110 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:43:30.103 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 10.3517ms
2025-12-15 15:43:30.112 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:43:30.115 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:43:30.117 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:43:30.118 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 50.649ms
2025-12-15 15:43:30.121 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:43:30.128 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:43:30.130 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 9.8139ms
2025-12-15 15:43:30.132 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:43:30.134 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 26.6233ms
2025-12-15 15:44:23.082 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:44:23.091 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:44:23.092 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 11.6151ms
2025-12-15 15:44:23.096 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:44:23.098 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:44:23.100 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:44:23.102 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:44:23.106 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:44:23.109 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:44:23.112 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 6.518ms
2025-12-15 15:44:23.115 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:44:23.119 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 22.3023ms
2025-12-15 15:45:51.076 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:45:51.078 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:45:51.079 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 5.9685ms
2025-12-15 15:45:51.083 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:45:51.086 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:45:51.086 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:45:51.087 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:45:51.091 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:45:51.093 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:45:51.094 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.0995ms
2025-12-15 15:45:51.096 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:45:51.097 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 13.7157ms
2025-12-15 15:45:54.219 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:45:54.224 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:45:54.226 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 6.6334ms
2025-12-15 15:45:54.237 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:45:54.240 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:45:54.242 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:45:54.243 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 15:45:54.251 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 15:45:54.258 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:45:54.260 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 14.2855ms
2025-12-15 15:45:54.263 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:45:54.266 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 29.0944ms
2025-12-15 15:45:55.310 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:45:55.312 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:45:55.327 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:45:55.332 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:45:55.333 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 22.283ms
2025-12-15 15:45:55.335 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 22.3235ms
2025-12-15 15:45:55.339 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:45:55.340 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:45:55.349 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:45:55.350 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:45:55.342 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:45:55.353 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:45:55.355 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:45:55.357 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:45:55.358 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:45:55.360 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:45:55.368 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:45:55.368 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.6071ms
2025-12-15 15:45:55.374 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:45:55.374 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:45:55.376 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 11.6235ms
2025-12-15 15:45:55.377 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 37.47ms
2025-12-15 15:45:55.379 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:45:55.384 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 44.9656ms
2025-12-15 15:45:59.090 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:45:59.106 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:45:59.107 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 17.4886ms
2025-12-15 15:45:59.121 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:45:59.126 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:45:59.127 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:45:59.128 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:45:59.136 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:45:59.140 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:45:59.143 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 8.2292ms
2025-12-15 15:45:59.147 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:45:59.151 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 29.6406ms
2025-12-15 15:45:59.587 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:45:59.593 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:45:59.596 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:45:59.605 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:45:59.611 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:45:59.619 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:45:59.622 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 12.2579ms
2025-12-15 15:45:59.624 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:45:59.627 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 39.5408ms
2025-12-15 15:46:01.334 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:46:01.334 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:46:01.339 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:46:01.353 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:01.354 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 18.2295ms
2025-12-15 15:46:01.350 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:01.342 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:46:01.364 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:01.365 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:46:01.366 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:46:01.360 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 25.5537ms
2025-12-15 15:46:01.365 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:46:01.377 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:01.381 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:46:01.382 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:46:01.346 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:01.372 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:46:01.375 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:46:01.386 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 51.2485ms
2025-12-15 15:46:01.389 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:46:01.399 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:46:01.402 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:01.404 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:46:01.406 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:46:01.407 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 37.6943ms
2025-12-15 15:46:01.408 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:46:01.412 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:01.414 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 29.7895ms
2025-12-15 15:46:01.416 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:46:01.417 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:46:01.419 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:46:01.420 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:46:01.422 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 79.4702ms
2025-12-15 15:46:01.425 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:46:01.426 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 60.8863ms
2025-12-15 15:46:01.426 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:46:01.436 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:46:01.441 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:46:01.442 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:46:01.443 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 18.9354ms
2025-12-15 15:46:01.447 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:46:01.448 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:46:01.450 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 15.9722ms
2025-12-15 15:46:01.451 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 76.5545ms
2025-12-15 15:46:01.453 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:46:01.456 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 51.8569ms
2025-12-15 15:46:08.065 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:46:08.069 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:08.070 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 4.6453ms
2025-12-15 15:46:08.073 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:46:08.076 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:08.077 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:46:08.079 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:46:08.082 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:46:08.086 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:46:08.087 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.9263ms
2025-12-15 15:46:08.088 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:46:08.090 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 16.9821ms
2025-12-15 15:46:30.382 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:46:30.383 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:46:30.392 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:46:30.400 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:46:30.427 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:30.416 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:30.425 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:30.431 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 38.9707ms
2025-12-15 15:46:30.428 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 27.5325ms
2025-12-15 15:46:30.429 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 46.4123ms
2025-12-15 15:46:30.413 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:30.434 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:46:30.439 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:46:30.443 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:46:30.444 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 62.275ms
2025-12-15 15:46:30.446 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:30.448 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:30.450 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:30.455 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:46:30.456 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:46:30.458 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:46:30.458 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:46:30.469 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:46:30.464 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:46:30.466 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:46:30.463 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:30.473 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:46:30.477 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:46:30.477 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:46:30.483 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:46:30.479 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:46:30.497 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 25.0314ms
2025-12-15 15:46:30.499 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:46:30.484 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:46:30.496 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:46:30.500 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 57.1171ms
2025-12-15 15:46:30.505 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 30.4292ms
2025-12-15 15:46:30.511 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:46:30.508 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:46:30.516 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:46:30.519 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 31.5219ms
2025-12-15 15:46:30.521 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:46:30.523 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 67.6029ms
2025-12-15 15:46:30.513 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 78.8711ms
2025-12-15 15:46:30.536 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:46:30.538 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:46:30.540 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 63.546ms
2025-12-15 15:46:30.542 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:46:30.543 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 103.286ms
2025-12-15 15:46:32.830 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:46:32.831 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:46:32.837 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:32.842 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:32.844 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:46:32.846 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:46:32.845 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:46:32.853 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:46:32.854 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:46:32.857 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:46:32.861 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.9653ms
2025-12-15 15:46:32.862 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:46:32.862 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:46:32.875 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:46:32.876 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 45.1296ms
2025-12-15 15:46:32.877 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 17.9961ms
2025-12-15 15:46:32.882 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:46:32.883 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 52.2417ms
2025-12-15 15:46:34.540 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:46:34.545 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:34.547 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 6.6034ms
2025-12-15 15:46:34.555 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:46:34.563 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:34.564 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:46:34.565 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 15:46:34.603 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 15:46:34.611 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:46:34.613 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 41.4448ms
2025-12-15 15:46:34.629 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:46:34.632 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 76.5471ms
2025-12-15 15:46:35.643 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:46:35.655 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:35.656 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 12.8155ms
2025-12-15 15:46:35.664 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:46:35.670 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:46:35.671 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:46:35.673 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:46:35.677 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:46:35.679 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:46:35.680 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 4.2055ms
2025-12-15 15:46:35.682 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:46:35.685 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 21.2766ms
2025-12-15 15:48:19.169 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:48:19.176 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:48:19.177 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 8.5175ms
2025-12-15 15:48:19.179 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:48:19.182 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:48:19.183 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:48:19.184 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:48:19.188 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:48:19.191 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:48:19.192 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.6178ms
2025-12-15 15:48:19.193 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:48:19.194 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 15.1528ms
2025-12-15 15:48:22.295 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:48:22.300 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:48:22.302 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 8.7735ms
2025-12-15 15:48:22.307 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:48:22.312 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:48:22.315 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:48:22.316 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 15:48:22.321 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 15:48:22.328 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:48:22.369 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 50.4542ms
2025-12-15 15:48:22.372 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:48:22.373 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 66.2429ms
2025-12-15 15:48:23.424 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:48:23.426 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:48:23.443 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:48:23.448 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:48:23.450 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 24.1179ms
2025-12-15 15:48:23.449 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 25.4179ms
2025-12-15 15:48:23.460 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:48:23.465 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:48:23.468 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:48:23.471 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:48:23.472 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:48:23.473 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:48:23.473 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:48:23.474 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:48:23.477 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:48:23.484 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:48:23.484 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:48:23.491 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:48:23.491 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 14.7484ms
2025-12-15 15:48:23.494 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 13.0888ms
2025-12-15 15:48:23.498 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:48:23.495 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:48:23.501 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 35.9765ms
2025-12-15 15:48:23.503 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 43.032ms
2025-12-15 15:48:24.634 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:48:24.637 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:48:24.638 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:48:24.641 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:48:24.652 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:48:24.655 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:48:24.658 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 9.4809ms
2025-12-15 15:48:24.661 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:48:24.664 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 30.5308ms
2025-12-15 15:48:32.069 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:48:32.072 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:48:32.073 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 3.775ms
2025-12-15 15:48:32.078 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:48:32.081 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:48:32.082 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:48:32.083 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:48:32.087 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:48:32.090 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:48:32.091 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 5.0984ms
2025-12-15 15:48:32.092 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:48:32.095 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 17.3239ms
2025-12-15 15:52:47.085 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:52:47.092 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:47.093 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 7.8645ms
2025-12-15 15:52:47.145 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:52:47.149 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:47.150 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:52:47.151 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:52:47.158 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:52:47.162 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:52:47.163 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 9.7791ms
2025-12-15 15:52:47.165 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:52:47.167 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 22.4601ms
2025-12-15 15:52:49.660 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:52:49.663 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:49.666 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 5.9013ms
2025-12-15 15:52:49.674 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:52:49.677 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:49.681 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:52:49.683 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 15:52:49.704 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 15:52:49.735 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:52:49.739 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 46.6693ms
2025-12-15 15:52:49.754 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:52:49.757 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 83.058ms
2025-12-15 15:52:50.480 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:52:50.480 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:52:50.490 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:50.491 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 10.4074ms
2025-12-15 15:52:50.485 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:50.495 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 15.8301ms
2025-12-15 15:52:50.498 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:52:50.495 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:52:50.502 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:50.509 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:50.511 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:52:50.513 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:52:50.514 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:52:50.515 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:52:50.517 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:52:50.527 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:52:50.530 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 13.3722ms
2025-12-15 15:52:50.531 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:52:50.537 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 39.0598ms
2025-12-15 15:52:50.692 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:52:50.697 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:52:50.698 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 179.6793ms
2025-12-15 15:52:50.700 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:52:50.701 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 206.0983ms
2025-12-15 15:52:52.518 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:52:52.523 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:52.526 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:52:52.528 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:52:52.535 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:52:52.541 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:52:52.544 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 9.6516ms
2025-12-15 15:52:52.546 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:52:52.549 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 31.3634ms
2025-12-15 15:52:53.476 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:52:53.516 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:53.478 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:52:53.515 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:52:53.528 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:53.517 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 41.0863ms
2025-12-15 15:52:53.560 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:52:53.562 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:53.563 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:52:53.564 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:52:53.477 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:52:53.569 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:53.571 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 94.4578ms
2025-12-15 15:52:53.568 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:52:53.583 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:52:53.585 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:52:53.587 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 21.4541ms
2025-12-15 15:52:53.522 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:53.529 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:52:53.588 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:52:53.589 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:52:53.593 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:52:53.591 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:52:53.592 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 31.9745ms
2025-12-15 15:52:53.591 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:52:53.596 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:52:53.597 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:52:53.608 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:52:53.609 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:52:53.610 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:52:53.615 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 19.8704ms
2025-12-15 15:52:53.615 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:52:53.621 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 15.8823ms
2025-12-15 15:52:53.618 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:52:53.616 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:52:53.623 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:52:53.624 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 146.578ms
2025-12-15 15:52:53.628 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 144.7913ms
2025-12-15 15:52:53.628 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:52:53.636 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:52:53.639 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 12.4501ms
2025-12-15 15:52:53.641 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:52:53.643 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 51.1331ms
2025-12-15 15:53:05.186 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 15:53:05.189 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:53:05.190 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 3.9526ms
2025-12-15 15:53:05.219 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 15:53:05.222 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:53:05.224 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:53:05.226 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 15:53:05.231 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 15:53:05.238 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 15:53:05.241 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 11.3359ms
2025-12-15 15:53:05.242 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 15:53:05.244 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 24.8497ms
2025-12-15 15:57:08.606 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:57:08.613 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:08.615 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 12.504ms
2025-12-15 15:57:08.620 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:57:08.623 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:08.625 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:57:08.628 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:57:08.635 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:57:08.640 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:57:08.665 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 32.001ms
2025-12-15 15:57:08.670 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:57:08.672 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 51.6393ms
2025-12-15 15:57:28.889 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:57:28.898 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:57:28.903 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:28.907 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:28.908 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 9.9602ms
2025-12-15 15:57:28.908 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 19.401ms
2025-12-15 15:57:28.925 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:57:28.929 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:57:28.933 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:28.936 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:28.937 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:57:28.938 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:57:28.939 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:57:28.939 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:57:28.943 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:57:28.953 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:57:28.955 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 13.5953ms
2025-12-15 15:57:28.956 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:57:28.957 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 32.9303ms
2025-12-15 15:57:29.015 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:57:29.020 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:57:29.021 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 74.9337ms
2025-12-15 15:57:29.023 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:57:29.024 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 95.0341ms
2025-12-15 15:57:30.109 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:57:30.117 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:30.118 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:57:30.122 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:57:30.131 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:57:30.135 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:57:30.138 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 8.7455ms
2025-12-15 15:57:30.140 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:57:30.144 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 34.5718ms
2025-12-15 15:57:46.805 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:57:46.805 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables/3 - null null
2025-12-15 15:57:46.805 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:57:46.819 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:46.817 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:46.813 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:46.823 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 18.0322ms
2025-12-15 15:57:46.823 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables/3 - 204 null null 17.1683ms
2025-12-15 15:57:46.821 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 15.7482ms
2025-12-15 15:57:46.827 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables/3 - null null
2025-12-15 15:57:46.830 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:57:46.835 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:46.838 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:46.839 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.Get (Api)'
2025-12-15 15:57:46.840 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:57:46.842 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:57:46.845 -03:00 [INF] Route matched with {action = "Get", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Api.Controllers.TablesController (Api).
2025-12-15 15:57:46.845 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:57:46.850 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:57:46.852 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 7.9721ms
2025-12-15 15:57:46.855 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:57:46.856 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 25.9779ms
2025-12-15 15:57:46.856 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:57:46.858 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."Id" = @__p_0
LIMIT 1
2025-12-15 15:57:46.863 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:46.866 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.Models.Entities.Table'.
2025-12-15 15:57:46.866 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:57:46.867 -03:00 [INF] Executed action Api.Controllers.TablesController.Get (Api) in 19.986ms
2025-12-15 15:57:46.868 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:57:46.871 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.Get (Api)'
2025-12-15 15:57:46.873 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:57:46.874 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables/3 - 200 null application/json; charset=utf-8 46.6894ms
2025-12-15 15:57:46.877 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:57:46.883 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 10.316ms
2025-12-15 15:57:46.884 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:57:46.886 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 30.3338ms
2025-12-15 15:57:49.471 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:57:49.478 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:49.479 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:57:49.482 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:57:49.488 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:57:49.492 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:57:49.494 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 7.3538ms
2025-12-15 15:57:49.497 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:57:49.499 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 27.7892ms
2025-12-15 15:57:59.960 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:57:59.960 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 15:57:59.980 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:59.984 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 23.8091ms
2025-12-15 15:57:59.977 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:57:59.960 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 15:57:59.964 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 15:58:00.004 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 44.0971ms
2025-12-15 15:58:00.006 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:58:00.007 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:58:00.009 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:58:00.020 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 55.8342ms
2025-12-15 15:58:00.018 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:58:00.019 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 58.5684ms
2025-12-15 15:58:00.012 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 15:58:00.024 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:58:00.027 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 15:58:00.034 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:58:00.035 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:58:00.036 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 15:58:00.027 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:58:00.028 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:58:00.030 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:58:00.039 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 15:58:00.040 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:58:00.041 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:58:00.044 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:58:00.045 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:58:00.046 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:58:00.047 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 15:58:00.052 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:58:00.055 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 16.3332ms
2025-12-15 15:58:00.056 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:58:00.059 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 15:58:00.060 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 16.6459ms
2025-12-15 15:58:00.061 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 15:58:00.070 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:58:00.071 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:58:00.072 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 15:58:00.073 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 45.7034ms
2025-12-15 15:58:00.078 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 72.225ms
2025-12-15 15:58:00.078 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:58:00.081 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:58:00.138 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 75.046ms
2025-12-15 15:58:00.145 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:58:00.140 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 81.8848ms
2025-12-15 15:58:00.153 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 15:58:00.146 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 118.8893ms
2025-12-15 15:58:00.154 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 141.5511ms
2025-12-15 15:58:01.287 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:58:01.292 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:58:01.297 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:58:01.300 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:58:01.308 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:58:01.311 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:58:01.315 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 8.2063ms
2025-12-15 15:58:01.318 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:58:01.321 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 33.6274ms
2025-12-15 15:58:02.209 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 15:58:02.209 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 15:58:02.236 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:58:02.221 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:58:02.237 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:58:02.240 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 15:58:02.239 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:58:02.246 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 15:58:02.247 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 15:58:02.251 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 15:58:02.258 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:58:02.259 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:58:02.260 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 15.145ms
2025-12-15 15:58:02.261 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.1657ms
2025-12-15 15:58:02.263 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 15:58:02.265 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 15:58:02.266 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 56.6524ms
2025-12-15 15:58:02.268 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 58.8649ms
2025-12-15 15:58:02.768 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:58:02.772 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:58:02.774 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 5.8504ms
2025-12-15 15:58:02.783 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 15:58:02.791 -03:00 [INF] CORS policy execution successful.
2025-12-15 15:58:02.826 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:58:02.827 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 15:58:02.837 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 15:58:02.847 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 15:58:02.851 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 18.3952ms
2025-12-15 15:58:02.853 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 15:58:02.854 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 70.929ms
2025-12-15 21:31:01.759 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 21:31:02.142 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-15 21:31:02.153 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-15 21:31:02.158 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-15 21:31:02.161 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-15 21:31:02.168 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-15 21:31:02.439 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-15 21:31:02.450 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-15 21:31:02.458 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-15 21:31:02.654 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-15 21:31:02.908 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-15 21:31:02.985 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-15 21:31:02.987 -03:00 [INF] Hosting environment: Development
2025-12-15 21:31:02.990 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-15 21:31:03.983 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-15 21:31:04.244 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 268.6899ms
2025-12-15 21:31:04.853 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-15 21:31:04.859 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 5.8601ms
2025-12-15 21:31:04.910 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-15 21:31:04.911 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-15 21:31:04.915 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 5.5819ms
2025-12-15 21:31:04.952 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.145ms
2025-12-15 21:31:06.719 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-15 21:31:06.759 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.8339ms
2025-12-15 21:31:20.509 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 21:31:20.515 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:31:20.518 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 9.4911ms
2025-12-15 21:31:20.521 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 21:31:20.527 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:31:20.702 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:31:20.734 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 21:31:21.097 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 21:31:21.189 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 21:31:21.201 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 460.0635ms
2025-12-15 21:31:21.204 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:31:21.212 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 690.5419ms
2025-12-15 21:31:34.786 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 21:31:34.786 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 21:31:34.786 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 21:31:34.822 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 21:31:34.823 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 21:31:34.826 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:31:34.831 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:31:34.834 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:31:34.837 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:31:34.838 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:31:34.839 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 53.2132ms
2025-12-15 21:31:34.840 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 54.2729ms
2025-12-15 21:31:34.841 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 55.1908ms
2025-12-15 21:31:34.842 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 23.5981ms
2025-12-15 21:31:34.846 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 22.8285ms
2025-12-15 21:31:34.853 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 21:31:34.853 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 21:31:34.856 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 21:31:34.859 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 21:31:34.861 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 21:31:34.863 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:31:34.865 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:31:34.867 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:31:34.869 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:31:34.871 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:31:34.873 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:31:34.873 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 21:31:34.874 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 21:31:34.874 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 21:31:34.875 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:31:34.876 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 21:31:34.880 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 21:31:34.880 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 21:31:34.882 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 21:31:34.888 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 21:31:34.945 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 21:31:34.986 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 21:31:34.988 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 105.5368ms
2025-12-15 21:31:34.989 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 21:31:34.989 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:31:34.992 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 138.6578ms
2025-12-15 21:31:35.041 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 21:31:35.056 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 21:31:35.060 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:31:35.065 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:31:35.088 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 21:31:35.088 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 196.5856ms
2025-12-15 21:31:35.089 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 200.459ms
2025-12-15 21:31:35.092 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 21:31:35.093 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:31:35.095 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 235.9102ms
2025-12-15 21:31:35.096 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 234.9545ms
2025-12-15 21:31:35.114 -03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 21:31:35.124 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:31:35.131 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 244.9999ms
2025-12-15 21:31:35.132 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 21:31:35.133 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 277.2829ms
2025-12-15 21:31:35.210 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:31:35.222 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 337.7487ms
2025-12-15 21:31:35.223 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 21:31:35.224 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 370.6494ms
2025-12-15 21:34:35.927 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 21:34:35.948 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:34:35.955 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 28.2779ms
2025-12-15 21:34:35.962 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 21:34:35.967 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:34:35.973 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:34:35.974 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 21:34:35.986 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 21:34:36.002 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:34:36.005 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 27.8218ms
2025-12-15 21:34:36.007 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:34:36.008 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 46.5689ms
2025-12-15 21:35:40.093 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 21:35:40.110 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:35:40.112 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 18.5233ms
2025-12-15 21:35:40.153 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 21:35:40.168 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:35:40.170 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 21:35:40.171 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 21:35:40.182 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 21:35:40.188 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:35:40.190 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 15.9465ms
2025-12-15 21:35:40.191 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 21:35:40.193 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 40.0642ms
2025-12-15 21:36:38.748 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 21:36:38.748 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 21:36:38.751 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:36:38.754 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:36:38.755 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 38.3206ms
2025-12-15 21:36:38.756 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 7.5433ms
2025-12-15 21:36:38.761 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 21:36:38.765 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 21:36:38.768 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:36:38.770 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:36:38.771 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:36:38.771 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 21:36:38.772 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 21:36:38.773 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 21:36:38.862 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 21:36:38.868 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:36:38.872 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 93.187ms
2025-12-15 21:36:38.873 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 21:36:38.878 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:36:38.885 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 124.8376ms
2025-12-15 21:36:38.889 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:36:38.894 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 111.8217ms
2025-12-15 21:36:38.896 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 21:36:38.897 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 131.9372ms
2025-12-15 21:37:39.290 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 21:37:39.335 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:37:39.336 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 45.7543ms
2025-12-15 21:37:39.345 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 21:37:39.348 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:37:39.349 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 21:37:39.357 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 21:37:39.423 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 21:37:39.429 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:37:39.433 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 70.9035ms
2025-12-15 21:37:39.439 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 21:37:39.442 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 97.2975ms
2025-12-15 21:38:24.908 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 21:38:24.913 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:38:24.916 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 8.3169ms
2025-12-15 21:38:24.923 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 21:38:24.935 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:38:24.939 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 15.712ms
2025-12-15 21:38:24.948 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 21:41:17.110 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 21:41:17.113 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:41:17.115 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 4.6651ms
2025-12-15 21:41:17.119 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-15 21:41:17.121 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:41:17.122 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 21:41:17.126 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 21:41:17.159 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 21:41:17.593 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 21:41:17.614 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 21:41:17.618 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 21:41:17.620 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 491.8999ms
2025-12-15 21:41:17.621 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 21:41:17.622 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 503.7428ms
2025-12-15 21:41:17.690 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 21:41:17.698 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 21:41:17.702 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:41:17.708 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:41:17.709 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 19.5976ms
2025-12-15 21:41:17.710 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 15.7182ms
2025-12-15 21:41:17.712 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 21:41:17.715 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 21:41:17.717 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:41:17.718 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:41:17.719 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:41:17.720 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:41:17.722 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 21:41:17.724 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 21:41:17.725 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 21:41:17.729 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 21:41:17.730 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 6.2903ms
2025-12-15 21:41:17.731 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:41:17.732 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 17.5365ms
2025-12-15 21:41:17.773 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 21:41:17.781 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:41:17.788 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 61.9803ms
2025-12-15 21:41:17.789 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:41:17.790 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 77.5935ms
2025-12-15 21:46:16.719 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 21:46:16.724 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:46:16.726 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 6.6412ms
2025-12-15 21:46:16.732 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 21:46:16.734 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:46:16.736 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:46:16.737 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 21:46:16.798 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 21:46:16.801 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 21:46:16.803 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 64.4959ms
2025-12-15 21:46:16.805 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:46:16.806 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 74.0967ms
2025-12-15 21:46:19.882 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 21:46:19.896 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 21:46:19.900 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:46:19.904 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:46:19.906 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 23.6766ms
2025-12-15 21:46:19.935 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 21:46:19.939 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:46:19.912 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:46:19.941 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 21:46:19.940 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:46:19.946 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 21:46:19.946 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 21:46:19.956 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 21:46:19.957 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 13.1306ms
2025-12-15 21:46:19.958 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:46:19.960 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 64.6074ms
2025-12-15 21:46:20.015 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 21:46:20.018 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:46:20.020 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 71.0058ms
2025-12-15 21:46:20.021 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:46:20.022 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 87.2815ms
2025-12-15 21:46:31.691 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 21:46:31.693 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:46:31.694 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 3.0648ms
2025-12-15 21:46:31.697 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 21:46:31.699 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:46:31.700 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:46:31.701 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 21:46:31.707 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 21:46:31.710 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 21:46:31.711 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.1236ms
2025-12-15 21:46:31.713 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:46:31.714 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 17.3124ms
2025-12-15 21:48:04.091 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 21:48:04.098 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 21:48:04.101 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:48:04.103 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:48:04.104 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 6.4932ms
2025-12-15 21:48:04.116 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 25.0278ms
2025-12-15 21:48:04.175 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 21:48:04.178 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 21:48:04.180 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:48:04.181 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:48:04.182 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:48:04.183 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:48:04.185 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 21:48:04.186 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 21:48:04.192 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 21:48:04.196 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 21:48:04.198 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:48:04.201 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 21:48:04.202 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 14.2159ms
2025-12-15 21:48:04.203 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 9.3196ms
2025-12-15 21:48:04.205 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:48:04.208 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:48:04.210 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 35.0046ms
2025-12-15 21:48:04.211 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 33.2811ms
2025-12-15 21:48:06.410 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 21:48:06.410 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 21:48:06.423 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:48:06.420 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:48:06.425 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:48:06.426 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:48:06.429 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 21:48:06.427 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 21:48:06.438 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 21:48:06.441 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 21:48:06.441 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:48:06.469 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 21:48:06.470 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 35.5697ms
2025-12-15 21:48:06.472 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 34.3772ms
2025-12-15 21:48:06.476 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:48:06.478 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:48:06.479 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 68.7722ms
2025-12-15 21:48:06.480 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 69.7305ms
2025-12-15 21:48:11.018 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 21:48:11.018 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 21:48:11.026 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:48:11.035 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 16.9315ms
2025-12-15 21:48:11.033 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:48:11.041 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 22.6044ms
2025-12-15 21:48:11.040 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 21:48:11.046 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 21:48:11.050 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:48:11.052 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:48:11.054 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:48:11.055 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:48:11.055 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 21:48:11.057 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 21:48:11.062 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 21:48:11.063 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 21:48:11.069 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 21:48:11.069 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:48:11.074 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 14.8615ms
2025-12-15 21:48:11.072 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 10.9909ms
2025-12-15 21:48:11.076 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:48:11.078 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:48:11.079 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 39.075ms
2025-12-15 21:48:11.081 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 35.1189ms
2025-12-15 21:48:15.072 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 21:48:15.075 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:48:15.077 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:48:15.079 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 21:48:15.084 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 21:48:15.088 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 21:48:15.091 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 8.7822ms
2025-12-15 21:48:15.092 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:48:15.094 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 21.451ms
2025-12-15 21:49:51.998 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 21:49:52.007 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 21:49:52.013 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:49:52.016 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:49:52.019 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 20.8437ms
2025-12-15 21:49:52.022 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 14.8713ms
2025-12-15 21:49:52.041 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 21:49:52.045 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 21:49:52.050 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:49:52.047 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:49:52.052 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:49:52.054 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:49:52.054 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 21:49:52.055 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 21:49:52.061 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 21:49:52.063 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 21:49:52.075 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:49:52.076 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 21:49:52.079 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 20.5153ms
2025-12-15 21:49:52.080 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 19.2198ms
2025-12-15 21:49:52.084 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:49:52.082 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:49:52.085 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 43.4959ms
2025-12-15 21:49:52.087 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 42.738ms
2025-12-15 21:50:56.391 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 21:50:56.391 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 21:50:56.403 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:50:56.404 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:50:56.405 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 14.6572ms
2025-12-15 21:50:56.476 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 21:50:56.457 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 66.4562ms
2025-12-15 21:50:56.479 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:50:56.484 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 21:50:56.486 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:50:56.488 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:50:56.489 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 21:50:56.490 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:50:56.493 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 21:50:56.495 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 21:50:56.500 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 21:50:56.503 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 11.2515ms
2025-12-15 21:50:56.504 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 21:50:56.504 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:50:56.508 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:50:56.509 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 32.8958ms
2025-12-15 21:50:56.510 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 14.9535ms
2025-12-15 21:50:56.516 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:50:56.518 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 33.4521ms
2025-12-15 21:51:02.771 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 21:51:02.776 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:02.780 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 9.1258ms
2025-12-15 21:51:02.787 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 21:51:02.792 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:02.794 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 7.2226ms
2025-12-15 21:51:02.806 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 21:51:22.687 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 21:51:22.696 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:22.698 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 10.8603ms
2025-12-15 21:51:22.703 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 55
2025-12-15 21:51:22.706 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:22.707 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 21:51:22.709 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 21:51:22.756 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 21:51:22.943 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 21:51:22.949 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 21:51:22.953 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 21:51:22.954 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 242.6316ms
2025-12-15 21:51:22.955 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 21:51:22.956 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 253.67ms
2025-12-15 21:51:23.029 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 21:51:23.029 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 21:51:23.065 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 21:51:23.103 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 21:51:23.137 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 21:51:23.149 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:23.142 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:23.151 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 121.7406ms
2025-12-15 21:51:23.147 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:23.139 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:23.156 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 127.1647ms
2025-12-15 21:51:23.144 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:23.154 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 21:51:23.155 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 51.8024ms
2025-12-15 21:51:23.150 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 15.1079ms
2025-12-15 21:51:23.159 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 21:51:23.160 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 95.9842ms
2025-12-15 21:51:23.163 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:23.166 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 21:51:23.168 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 21:51:23.170 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:23.174 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 21:51:23.176 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:51:23.178 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:23.179 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:23.182 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 21:51:23.183 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:23.188 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 21:51:23.185 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 21:51:23.186 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:51:23.187 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 21:51:23.184 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 21:51:23.190 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 21:51:23.193 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 21:51:23.191 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 21:51:23.201 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 21:51:23.253 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 21:51:23.253 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 21:51:23.266 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 21:51:23.271 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:51:23.278 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 82.4259ms
2025-12-15 21:51:23.279 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 21:51:23.275 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 21:51:23.281 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 83.1191ms
2025-12-15 21:51:23.282 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:51:23.277 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:51:23.280 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 120.524ms
2025-12-15 21:51:23.283 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 129.2207ms
2025-12-15 21:51:23.284 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 82.8068ms
2025-12-15 21:51:23.294 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:51:23.295 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 127.0846ms
2025-12-15 21:51:23.301 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 21:51:23.318 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:51:23.321 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 120.7311ms
2025-12-15 21:51:23.326 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 21:51:23.332 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 21:51:23.340 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 165.7681ms
2025-12-15 21:51:23.352 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:51:23.356 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 141.1757ms
2025-12-15 21:51:23.360 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 21:51:23.361 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 195.8815ms
2025-12-15 21:51:38.544 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 21:51:38.545 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 21:51:38.555 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:38.557 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 11.5376ms
2025-12-15 21:51:38.548 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:38.562 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 17.3354ms
2025-12-15 21:51:38.563 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 21:51:38.565 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 21:51:38.570 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:38.573 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:38.576 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 21:51:38.577 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 21:51:38.576 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:51:38.581 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 21:51:38.588 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 21:51:38.588 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 21:51:38.592 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:51:38.596 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 11.6999ms
2025-12-15 21:51:38.596 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:51:38.597 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:51:38.599 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 19.166ms
2025-12-15 21:51:38.601 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 35.7804ms
2025-12-15 21:51:38.604 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 21:51:38.609 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 45.7152ms
2025-12-15 21:51:42.090 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 21:51:42.101 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:42.102 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 12.7993ms
2025-12-15 21:51:42.112 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 21:51:42.117 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:42.119 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 21:51:42.121 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 21:51:42.128 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 21:51:42.131 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:51:42.136 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 10.3868ms
2025-12-15 21:51:42.138 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 21:51:42.140 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 27.938ms
2025-12-15 21:51:44.910 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 21:51:44.917 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:44.921 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 11.5866ms
2025-12-15 21:51:44.929 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 21:51:44.937 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:44.941 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:51:44.943 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 21:51:44.991 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 21:51:45.006 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:51:45.008 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 20.0056ms
2025-12-15 21:51:45.011 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:51:45.013 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 84.0461ms
2025-12-15 21:51:51.421 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 21:51:51.425 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:51.432 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/users?includeInactive=false - 204 null null 11.3601ms
2025-12-15 21:51:51.443 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - null null
2025-12-15 21:51:51.451 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:51:51.454 -03:00 [INF] Executing endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 21:51:51.457 -03:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Boolean]) on controller Api.Controllers.UsersController (Api).
2025-12-15 21:51:51.470 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Name", u."Email", u."Role", u."IsActive", u."CreatedAt", u."LastLoginAt", (
    SELECT count(*)::int
    FROM "Reservations" AS r
    WHERE u."Id" = r."UserId") AS "TotalReservations"
FROM "Users" AS u
WHERE u."IsActive"
ORDER BY u."CreatedAt" DESC
2025-12-15 21:51:51.473 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.UserDetailDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:51:51.475 -03:00 [INF] Executed action Api.Controllers.UsersController.GetAll (Api) in 14.1259ms
2025-12-15 21:51:51.476 -03:00 [INF] Executed endpoint 'Api.Controllers.UsersController.GetAll (Api)'
2025-12-15 21:51:51.477 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/users?includeInactive=false - 200 null application/json; charset=utf-8 34.0643ms
2025-12-15 21:52:02.732 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 21:52:02.744 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:52:02.732 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 21:52:02.740 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 21:52:02.737 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - null null
2025-12-15 21:52:02.755 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:52:02.757 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/Dish - 204 null null 20.2025ms
2025-12-15 21:52:02.753 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:52:02.763 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 22.9049ms
2025-12-15 21:52:02.749 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:52:02.745 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 204 null null 12.3517ms
2025-12-15 21:52:02.769 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 36.6093ms
2025-12-15 21:52:02.783 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - null null
2025-12-15 21:52:02.785 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/Dish - null null
2025-12-15 21:52:02.785 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 21:52:02.785 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 21:52:02.786 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:52:02.789 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:52:02.794 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:52:02.797 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:52:02.799 -03:00 [INF] Executing endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 21:52:02.800 -03:00 [INF] Executing endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 21:52:02.801 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:52:02.802 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 21:52:02.803 -03:00 [INF] Route matched with {action = "GetAvailability", controller = "Availability"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.TableAvailabilityDto]]] GetAvailability(System.String, System.String, System.String, System.Nullable`1[System.Int32]) on controller Api.Controllers.AvailabilityController (Api).
2025-12-15 21:52:02.804 -03:00 [INF] Route matched with {action = "GetAll", controller = "Dish"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Api.DTOs.DishDto]]] GetAll() on controller Api.Controllers.DishController (Api).
2025-12-15 21:52:02.840 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."Category", d."Name", d."Price"
FROM "Dishes" AS d
2025-12-15 21:52:02.846 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.DishDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:52:02.814 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
WHERE t."IsActive"
ORDER BY t."Name"
2025-12-15 21:52:02.805 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 21:52:02.806 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 21:52:02.865 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__date_0='?' (DbType = Date), @__endTime_1='?' (DbType = Time), @__startTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT r."TableId"
FROM "Reservations" AS r
WHERE r."Date" = @__date_0 AND r."Status" <> 2 AND r."StartTime" < @__endTime_1 AND r."EndTime" > @__startTime_2
2025-12-15 21:52:02.853 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 21:52:02.848 -03:00 [INF] Executed action Api.Controllers.DishController.GetAll (Api) in 8.2119ms
2025-12-15 21:52:02.867 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 21:52:02.868 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.TableAvailabilityDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:52:02.870 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:52:02.871 -03:00 [INF] Executed endpoint 'Api.Controllers.DishController.GetAll (Api)'
2025-12-15 21:52:02.882 -03:00 [INF] Executed action Api.Controllers.AvailabilityController.GetAvailability (Api) in 72.4465ms
2025-12-15 21:52:02.882 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:52:02.884 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 32.1539ms
2025-12-15 21:52:02.885 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/Dish - 200 null application/json; charset=utf-8 99.9107ms
2025-12-15 21:52:02.886 -03:00 [INF] Executed endpoint 'Api.Controllers.AvailabilityController.GetAvailability (Api)'
2025-12-15 21:52:02.887 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 30.5698ms
2025-12-15 21:52:02.888 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:52:02.893 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/availability?date=2025-12-15&startTime=19:00&endTime=21:00&guests=2 - 200 null application/json; charset=utf-8 110.1192ms
2025-12-15 21:52:02.896 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 21:52:02.898 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 112.6623ms
2025-12-15 21:52:02.902 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 116.871ms
2025-12-15 21:52:14.055 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 21:52:14.060 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:52:14.062 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 7.8317ms
2025-12-15 21:52:14.083 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 21:52:14.086 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:52:14.090 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:52:14.093 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 21:52:14.099 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 21:52:14.102 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:52:14.104 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 6.5731ms
2025-12-15 21:52:14.110 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:52:14.112 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 28.5495ms
2025-12-15 21:52:25.406 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/tables - null null
2025-12-15 21:52:25.406 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - null null
2025-12-15 21:52:25.409 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:52:25.416 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/tables - 204 null null 10.1455ms
2025-12-15 21:52:25.412 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:52:25.430 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations/all - 204 null null 23.769ms
2025-12-15 21:52:25.431 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/tables - null null
2025-12-15 21:52:25.437 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations/all - null null
2025-12-15 21:52:25.437 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:52:25.440 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:52:25.441 -03:00 [INF] Executing endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:52:25.442 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 21:52:25.443 -03:00 [INF] Route matched with {action = "GetAll", controller = "Tables"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.TablesController (Api).
2025-12-15 21:52:25.445 -03:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Api.Controllers.ReservationsController (Api).
2025-12-15 21:52:25.447 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Tables" AS t
2025-12-15 21:52:25.459 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.Models.Entities.Table, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:52:25.460 -03:00 [INF] Executed action Api.Controllers.TablesController.GetAll (Api) in 13.6766ms
2025-12-15 21:52:25.462 -03:00 [INF] Executed endpoint 'Api.Controllers.TablesController.GetAll (Api)'
2025-12-15 21:52:25.463 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/tables - 200 null application/json; charset=utf-8 32.5808ms
2025-12-15 21:52:25.463 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name", s."ReservationId", s."DishId", s."Quantity", s."Id", s."Category", s."Name", s."Price"
FROM "Reservations" AS r
INNER JOIN "Users" AS u ON r."UserId" = u."Id"
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
LEFT JOIN (
    SELECT r0."ReservationId", r0."DishId", r0."Quantity", d."Id", d."Category", d."Name", d."Price"
    FROM "ReservationDishes" AS r0
    INNER JOIN "Dishes" AS d ON r0."DishId" = d."Id"
) AS s ON r."Id" = s."ReservationId"
ORDER BY r."Id", u."Id", t."Id", s."ReservationId", s."DishId"
2025-12-15 21:52:25.474 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ReservationAdminDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:52:25.475 -03:00 [INF] Executed action Api.Controllers.ReservationsController.GetAll (Api) in 18.2173ms
2025-12-15 21:52:25.476 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.GetAll (Api)'
2025-12-15 21:52:25.477 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations/all - 200 null application/json; charset=utf-8 40.0032ms
2025-12-15 21:53:11.638 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-15 21:53:11.689 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:53:11.690 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 52.4572ms
2025-12-15 21:53:11.709 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-15 21:53:11.713 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:53:11.714 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 5.2251ms
2025-12-15 21:53:11.721 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-15 21:53:25.379 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-15 21:53:25.384 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:53:25.385 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 6.0602ms
2025-12-15 21:53:25.388 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-15 21:53:25.390 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:53:25.391 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 21:53:25.392 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-15 21:53:25.398 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-15 21:53:25.578 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 21:53:25.584 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-15 21:53:25.588 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-15 21:53:25.589 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 194.5645ms
2025-12-15 21:53:25.590 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-15 21:53:25.592 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 203.8169ms
2025-12-15 21:53:25.631 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-15 21:53:25.641 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:53:25.631 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-15 21:53:25.643 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 12.5225ms
2025-12-15 21:53:25.650 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:53:25.656 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-15 21:53:25.658 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 26.7586ms
2025-12-15 21:53:25.660 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:53:25.663 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-15 21:53:25.664 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:53:25.666 -03:00 [INF] CORS policy execution successful.
2025-12-15 21:53:25.667 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-15 21:53:25.668 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:53:25.671 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-15 21:53:25.674 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-15 21:53:25.675 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-15 21:53:25.677 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-15 21:53:25.680 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-15 21:53:25.685 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 12.653ms
2025-12-15 21:53:25.683 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 12.7779ms
2025-12-15 21:53:25.687 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-15 21:53:25.691 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-15 21:53:25.691 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 28.2904ms
2025-12-15 21:53:25.693 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 37.3303ms

2025-12-17 11:24:23.343 -03:00 [ERR] An error occurred using the connection to database 'neondb' on server 'tcp://ep-fragrant-sun-ah3efle0-pooler.c-3.us-east-1.aws.neon.tech:5000'.
2025-12-17 11:27:43.661 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-17 11:27:44.197 -03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-17 11:27:44.210 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-17 11:27:44.215 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-17 11:27:44.219 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-17 11:27:44.228 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-17 11:27:44.749 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-17 11:27:44.767 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-17 11:27:44.774 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-17 11:27:45.049 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-17 11:27:45.451 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-17 11:27:45.550 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-17 11:27:45.552 -03:00 [INF] Hosting environment: Development
2025-12-17 11:27:45.553 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-17 11:27:46.906 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-17 11:27:47.591 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 704.8645ms
2025-12-17 11:27:47.652 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-17 11:27:48.467 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-17 11:27:48.510 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-17 11:27:48.520 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 867.5703ms
2025-12-17 11:27:48.530 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 20.3747ms
2025-12-17 11:27:49.101 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 633.7407ms
2025-12-17 11:27:50.311 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-17 11:27:50.398 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.789ms
2025-12-17 11:28:13.507 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/health - null null
2025-12-17 11:28:13.673 -03:00 [INF] Executing endpoint 'HTTP: GET /health'
2025-12-17 11:28:13.714 -03:00 [INF] Setting HTTP status code 200.
2025-12-17 11:28:13.728 -03:00 [INF] Writing value of type '<>f__AnonymousType10`2' as Json.
2025-12-17 11:28:13.740 -03:00 [INF] Executed endpoint 'HTTP: GET /health'
2025-12-17 11:28:13.744 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/health - 200 null application/json; charset=utf-8 236.8273ms
2025-12-17 20:58:02.811 -03:00 [ERR] An error occurred using the connection to database 'neondb' on server 'tcp://ep-fragrant-sun-ah3efle0-pooler.c-3.us-east-1.aws.neon.tech:5432'.
2025-12-17 20:59:16.996 -03:00 [ERR] An error occurred using the connection to database 'neondb' on server 'tcp://ep-fragrant-sun-ah3efle0-pooler.c-3.us-east-1.aws.neon.tech:5432'.
2025-12-17 21:02:18.087 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-17 21:02:18.459 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-17 21:02:18.471 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-17 21:02:18.475 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-17 21:02:18.477 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-17 21:02:18.483 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-17 21:02:18.772 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-17 21:02:18.783 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-17 21:02:18.791 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-17 21:02:18.997 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-17 21:03:31.938 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-17 21:03:32.294 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-12-17 21:03:32.323 -03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-17 21:03:32.325 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-12-17 21:03:32.328 -03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-17 21:03:32.334 -03:00 [INF] No migrations were applied. The database is already up to date.
2025-12-17 21:03:32.610 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS u)
2025-12-17 21:03:32.620 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Tables" AS t)
2025-12-17 21:03:32.627 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Dishes" AS d)
2025-12-17 21:03:32.784 -03:00 [INF] User profile is available. Using 'C:\Users\Usuario\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-17 21:03:33.033 -03:00 [INF] Now listening on: http://localhost:5231
2025-12-17 21:03:33.115 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-17 21:03:33.118 -03:00 [INF] Hosting environment: Development
2025-12-17 21:03:33.123 -03:00 [INF] Content root path: C:\Proyecto\RestaurantManagement\RestaurantApp\backend\Api
2025-12-17 21:03:34.056 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.html - null null
2025-12-17 21:03:34.355 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/index.js - null null
2025-12-17 21:03:34.356 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.html - 200 null text/html;charset=utf-8 339.4539ms
2025-12-17 21:03:34.378 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/index.js - 200 null application/javascript;charset=utf-8 22.3371ms
2025-12-17 21:03:35.056 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - null null
2025-12-17 21:03:35.056 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/_vs/browserLink - null null
2025-12-17 21:03:35.063 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_framework/aspnetcore-browser-refresh.js - 200 16491 application/javascript; charset=utf-8 7.0471ms
2025-12-17 21:03:35.106 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.8371ms
2025-12-17 21:03:36.379 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - null null
2025-12-17 21:03:36.442 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 63.9868ms
2025-12-17 21:05:50.065 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-17 21:05:50.119 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:05:50.124 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 59.1294ms
2025-12-17 21:05:50.129 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-17 21:05:50.135 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:05:50.316 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '17/12/2025 00:53:25', Current time (UTC): '18/12/2025 00:05:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-12-17 21:05:50.371 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '17/12/2025 00:53:25', Current time (UTC): '18/12/2025 00:05:50'.
2025-12-17 21:05:50.383 -03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-17 21:05:50.390 -03:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-17 21:05:50.393 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 401 0 null 263.7916ms
2025-12-17 21:05:50.399 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/refresh - null null
2025-12-17 21:05:50.404 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:05:50.407 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/refresh - 204 null null 7.3931ms
2025-12-17 21:05:50.411 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/refresh - application/json 55
2025-12-17 21:05:50.414 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:05:50.421 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-17 21:05:50.469 -03:00 [INF] Route matched with {action = "Refresh", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh(Api.DTOs.RefreshRequestDto) on controller Api.Controllers.AuthController (Api).
2025-12-17 21:05:50.872 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__refreshToken_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."RefreshToken" = @__refreshToken_0
LIMIT 1
2025-12-17 21:05:51.121 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-17 21:05:51.152 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-17 21:05:51.168 -03:00 [INF] Executed action Api.Controllers.AuthController.Refresh (Api) in 685.4438ms
2025-12-17 21:05:51.172 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Refresh (Api)'
2025-12-17 21:05:51.179 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/refresh - 200 null application/json; charset=utf-8 767.7122ms
2025-12-17 21:05:51.185 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-17 21:05:51.188 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:05:51.204 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-17 21:05:51.209 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-17 21:05:51.446 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-17 21:05:51.458 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-17 21:05:51.460 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 247.9064ms
2025-12-17 21:05:51.462 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-17 21:05:51.464 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 278.8595ms
2025-12-17 21:05:54.280 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-17 21:05:54.293 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:05:54.299 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-17 21:05:54.304 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-17 21:05:54.403 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-17 21:05:54.408 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-17 21:05:54.412 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 21.1188ms
2025-12-17 21:05:54.415 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-17 21:05:54.417 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 140.169ms
2025-12-17 21:05:58.605 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-17 21:05:58.684 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:05:58.687 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 82.5143ms
2025-12-17 21:05:58.704 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-17 21:05:58.707 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:05:58.709 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-17 21:05:58.711 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-17 21:05:58.725 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-17 21:05:58.730 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-17 21:05:58.736 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 13.1821ms
2025-12-17 21:05:58.737 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-17 21:05:58.739 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 35.0519ms
2025-12-17 21:06:00.672 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-17 21:06:00.676 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-17 21:06:00.711 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:06:00.715 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:06:00.717 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 44.765ms
2025-12-17 21:06:00.718 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-17 21:06:00.725 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-17 21:06:00.727 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-17 21:06:00.731 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:06:00.738 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-17 21:06:00.741 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-17 21:06:00.746 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-17 21:06:00.750 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 14.5492ms
2025-12-17 21:06:00.755 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-17 21:06:00.757 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-17 21:06:00.757 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 81.6937ms
2025-12-17 21:06:00.912 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-17 21:06:00.994 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 21:06:01.023 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 261.0642ms
2025-12-17 21:06:01.025 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-17 21:06:01.031 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 305.0678ms
2025-12-17 21:06:03.454 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-17 21:06:03.457 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:06:03.458 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 3.6805ms
2025-12-17 21:06:03.473 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-17 21:06:03.491 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:06:03.495 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 22.4651ms
2025-12-17 21:06:03.548 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
2025-12-17 21:13:30.758 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - null null
2025-12-17 21:13:30.762 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:13:30.763 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/login - 204 null null 5.4089ms
2025-12-17 21:13:30.778 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/login - application/json 49
2025-12-17 21:13:30.782 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:13:30.783 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-17 21:13:30.793 -03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Api.DTOs.UserLoginDto) on controller Api.Controllers.AuthController (Api).
2025-12-17 21:13:30.879 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Email" = @__email_0
LIMIT 1
2025-12-17 21:13:31.253 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-17 21:13:31.260 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "CreatedAt" = @p0, "Email" = @p1, "IsActive" = @p2, "LastLoginAt" = @p3, "Name" = @p4, "PasswordHash" = @p5, "RefreshToken" = @p6, "RefreshTokenExpiration" = @p7, "Role" = @p8
WHERE "Id" = @p9;
2025-12-17 21:13:31.264 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.AuthResponseDto'.
2025-12-17 21:13:31.265 -03:00 [INF] Executed action Api.Controllers.AuthController.Login (Api) in 467.6889ms
2025-12-17 21:13:31.266 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Login (Api)'
2025-12-17 21:13:31.268 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/login - 200 null application/json; charset=utf-8 490.1304ms
2025-12-17 21:13:31.318 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - null null
2025-12-17 21:13:31.320 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - null null
2025-12-17 21:13:31.346 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:13:31.348 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/me - 204 null null 28.4837ms
2025-12-17 21:13:31.328 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:13:31.366 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/reservations - 204 null null 48.2023ms
2025-12-17 21:13:31.377 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/auth/me - null null
2025-12-17 21:13:31.384 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:13:31.383 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5231/api/reservations - null null
2025-12-17 21:13:31.387 -03:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-17 21:13:31.392 -03:00 [INF] Route matched with {action = "Me", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Me() on controller Api.Controllers.AuthController (Api).
2025-12-17 21:13:31.390 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:13:31.398 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsActive", u."LastLoginAt", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiration", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-12-17 21:13:31.400 -03:00 [INF] Executing endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-17 21:13:31.404 -03:00 [INF] Route matched with {action = "Get", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.Nullable`1[System.DateOnly]) on controller Api.Controllers.ReservationsController (Api).
2025-12-17 21:13:31.404 -03:00 [INF] Executing OkObjectResult, writing value of type 'Api.DTOs.UserDto'.
2025-12-17 21:13:31.471 -03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Date", r."EndTime", r."Guests", r."Notes", r."StartTime", r."Status", r."TableId", r."UpdatedAt", r."UserId", t."Id", t."Capacity", t."CreatedAt", t."IsActive", t."Location", t."Name"
FROM "Reservations" AS r
INNER JOIN "Tables" AS t ON r."TableId" = t."Id"
WHERE r."UserId" = @__userId_0
2025-12-17 21:13:31.503 -03:00 [INF] Executed action Api.Controllers.AuthController.Me (Api) in 107.4735ms
2025-12-17 21:13:31.516 -03:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Me (Api)'
2025-12-17 21:13:31.517 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/auth/me - 200 null application/json; charset=utf-8 140.6151ms
2025-12-17 21:13:31.531 -03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Api.DTOs.ReservationDto, Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-17 21:13:31.545 -03:00 [INF] Executed action Api.Controllers.ReservationsController.Get (Api) in 122.9503ms
2025-12-17 21:13:31.547 -03:00 [INF] Executed endpoint 'Api.Controllers.ReservationsController.Get (Api)'
2025-12-17 21:13:31.549 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5231/api/reservations - 200 null application/json; charset=utf-8 166.225ms
2025-12-17 21:13:33.613 -03:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - null null
2025-12-17 21:13:33.616 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:13:33.619 -03:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5231/api/auth/logout - 204 null null 4.9359ms
2025-12-17 21:13:33.632 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5231/api/auth/logout - null 0
2025-12-17 21:13:33.682 -03:00 [INF] CORS policy execution successful.
2025-12-17 21:13:33.689 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5231/api/auth/logout - 404 0 null 64.8155ms
2025-12-17 21:13:33.720 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5231/api/auth/logout, Response status code: 404
